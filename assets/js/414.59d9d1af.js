"use strict";(self.webpackChunkpier_doc=self.webpackChunkpier_doc||[]).push([[414],{2414:(t,e,s)=>{var o,i,r;r=function(t){function e(t,e,s,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,s),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Core/Axis/Color/ColorAxisComposition.js",[t["Core/Color/Color.js"],t["Core/Utilities.js"]],(function(t,e){const{parse:s}=t,{addEvent:o,extend:i,merge:r,pick:n,splat:a}=e;var l;return function(t){function l(){const t=this.options;this.colorAxis=[],t.colorAxis&&(t.colorAxis=a(t.colorAxis),t.colorAxis.forEach((t=>{new x(this,t)})))}function h(t){const e=e=>{-1!==(e=t.allItems.indexOf(e))&&(this.destroyItem(t.allItems[e]),t.allItems.splice(e,1))};let s,o,i=[];for((this.chart.colorAxis||[]).forEach((function(t){(s=t.options)&&s.showInLegend&&(s.dataClasses&&s.visible?i=i.concat(t.getDataClassLegendSymbols()):s.visible&&i.push(t),t.series.forEach((function(t){t.options.showInLegend&&!s.dataClasses||("point"===t.options.legendType?t.points.forEach((function(t){e(t)})):e(t))})))})),o=i.length;o--;)t.allItems.unshift(i[o])}function p(t){t.visible&&t.item.legendColor&&t.item.legendItem.symbol.attr({fill:t.item.legendColor})}function c(){const t=this.chart.colorAxis;t&&t.forEach((function(t,e,s){t.update({},s)}))}function d(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function u(){const t=this.axisTypes;t?-1===t.indexOf("colorAxis")&&t.push("colorAxis"):this.axisTypes=["colorAxis"]}function m(t){const e=this,s=t?"show":"hide";e.visible=e.options.visible=!!t,["graphic","dataLabel"].forEach((function(t){e[t]&&e[t][s]()})),this.series.buildKDTree()}function g(){const t=this,e=this.options.nullColor,s=this.colorAxis,o=this.colorKey;(this.data.length?this.data:this.points).forEach((i=>{var r=i.getNestedProperty(o);(r=i.options.color||(i.isNull||null===i.value?e:s&&void 0!==r?s.toColor(r,i):i.color||t.color))&&i.color!==r&&(i.color=r,"point"===t.options.legendType&&i.legendItem&&i.legendItem.label&&t.chart.legend.colorizeItem(i,i.visible))}))}function f(){this.elem.attr("fill",s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}function b(){this.elem.attr("stroke",s(this.start).tweenTo(s(this.end),this.pos),void 0,!0)}const y=[];let x;t.compose=function(t,s,a,v,M){x||(x=t),e.pushUnique(y,s)&&((t=s.prototype).collectionsWithUpdate.push("colorAxis"),t.collectionsWithInit.colorAxis=[t.addColorAxis],o(s,"afterGetAxes",l),function(t){const e=t.prototype.createAxis;t.prototype.createAxis=function(t,s){if("colorAxis"!==t)return e.apply(this,arguments);const o=new x(this,r(s.axis,{index:this[t].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach((function(t){t.series=[]})),this.series.forEach((function(t){t.bindAxes(),t.isDirtyData=!0})),n(s.redraw,!0)&&this.redraw(s.animation),o}}(s)),e.pushUnique(y,a)&&((s=a.prototype).fillSetter=f,s.strokeSetter=b),e.pushUnique(y,v)&&(o(v,"afterGetAllItems",h),o(v,"afterColorizeItem",p),o(v,"afterUpdate",c)),e.pushUnique(y,M)&&(i(M.prototype,{optionalAxis:"colorAxis",translateColors:g}),i(M.prototype.pointClass.prototype,{setVisible:m}),o(M,"afterTranslate",d,{order:1}),o(M,"bindAxes",u))},t.pointSetVisible=m}(l||(l={})),l})),e(t,"Core/Axis/Color/ColorAxisDefaults.js",[],(function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineColor:"#ffffff",gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{distance:8,overflow:"justify",rotation:0},minColor:"#e6e9ff",maxColor:"#0022ff",tickLength:5,showInLegend:!0}})),e(t,"Core/Axis/Color/ColorAxis.js",[t["Core/Axis/Axis.js"],t["Core/Color/Color.js"],t["Core/Axis/Color/ColorAxisComposition.js"],t["Core/Axis/Color/ColorAxisDefaults.js"],t["Core/Legend/LegendSymbol.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s,o,i,r,n){const{parse:a}=e,{series:l}=r,{extend:h,isArray:p,isNumber:c,merge:d,pick:u}=n;class m extends t{static compose(t,e,o,i){s.compose(m,t,e,o,i)}constructor(t,e){super(t,e),this.beforePadding=!1,this.chart=void 0,this.coll="colorAxis",this.stops=this.options=this.dataClasses=void 0,this.visible=!0,this.init(t,e)}init(t,e){var s=t.options.legend||{};const o=e.layout?"vertical"!==e.layout:"vertical"!==s.layout,i=e.visible;s=d(m.defaultColorAxisOptions,e,{showEmpty:!1,title:null,visible:s.enabled&&!1!==i}),this.side=e.side||o?2:1,this.reversed=e.reversed||!o,this.opposite=!o,super.init(t,s,"colorAxis"),this.userOptions=e,p(t.userOptions.colorAxis)&&(t.userOptions.colorAxis[this.index]=e),e.dataClasses&&this.initDataClasses(e),this.initStops(),this.horiz=o,this.zoomEnabled=!1}initDataClasses(t){const e=this.chart,s=this.legendItem=this.legendItem||{},o=t.dataClasses.length,i=this.options;let r,n=0,l=e.options.chart.colorCount;this.dataClasses=r=[],s.labels=[],(t.dataClasses||[]).forEach((function(t,s){t=d(t),r.push(t),!e.styledMode&&t.color||("category"===i.dataClassColor?(e.styledMode||(s=e.options.colors,l=s.length,t.color=s[n]),t.colorIndex=n,n++,n===l&&(n=0)):t.color=a(i.minColor).tweenTo(a(i.maxColor),2>o?.5:s/(o-1)))}))}hasData(){return!!(this.tickPositions||[]).length}setTickPositions(){if(!this.dataClasses)return super.setTickPositions()}initStops(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach((function(t){t.color=a(t[1])}))}setOptions(t){super.setOptions(t),this.options.crosshair=this.options.marker}setAxisSize(){var t=this.legendItem&&this.legendItem.symbol;const e=this.chart;var s=e.options.legend||{};let o,i;t?(this.left=s=t.attr("x"),this.top=o=t.attr("y"),this.width=i=t.attr("width"),this.height=t=t.attr("height"),this.right=e.chartWidth-s-i,this.bottom=e.chartHeight-o-t,this.len=this.horiz?i:t,this.pos=this.horiz?s:o):this.len=(this.horiz?s.symbolWidth:s.symbolHeight)||m.defaultLegendLength}normalizedValue(t){return this.logarithmic&&(t=this.logarithmic.log2lin(t)),1-(this.max-t)/(this.max-this.min||1)}toColor(t,e){const s=this.dataClasses;var o=this.stops;let i,r,n,a;if(s){for(a=s.length;a--;)if(n=s[a],i=n.from,o=n.to,(void 0===i||t>=i)&&(void 0===o||t<=o)){r=n.color,e&&(e.dataClass=a,e.colorIndex=n.colorIndex);break}}else{for(t=this.normalizedValue(t),a=o.length;a--&&!(t>o[a][0]););i=o[a]||o[a+1],t=1-((o=o[a+1]||i)[0]-t)/(o[0]-i[0]||1),r=i.color.tweenTo(o.color,t)}return r}getOffset(){const t=this.legendItem&&this.legendItem.group,e=this.chart.axisOffset[this.side];if(t){this.axisParent=t,super.getOffset();const s=this.chart.legend;s.allItems.forEach((function(t){t instanceof m&&t.drawLegendSymbol(s,t)})),s.render(),this.chart.getMargins(!0),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=e}}setLegendColor(){var t=this.reversed,e=t?1:0;t=t?0:1,e=this.horiz?[e,0,t,0]:[0,t,0,e],this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:this.stops}}drawLegendSymbol(t,e){var s;e=e.legendItem||{};const o=t.padding,i=t.options,r=this.options.labels,n=u(i.itemDistance,10),a=this.horiz,l=u(i.symbolWidth,a?m.defaultLegendLength:12),h=u(i.symbolHeight,a?12:m.defaultLegendLength),p=u(i.labelPadding,a?16:30);this.setLegendColor(),e.symbol||(e.symbol=this.chart.renderer.symbol("roundedRect",0,t.baseline-11,l,h,{r:null!==(s=i.symbolRadius)&&void 0!==s?s:3}).attr({zIndex:1}).add(e.group)),e.labelWidth=l+o+(a?n:u(r.x,r.distance)+this.maxLabelLength),e.labelHeight=h+o+(a?p:0)}setState(t){this.series.forEach((function(e){e.setState(t)}))}setVisible(){}getSeriesExtremes(){const t=this.series;let e,s,o,i,r,n=t.length;for(this.dataMin=1/0,this.dataMax=-1/0;n--;){o=t[n],e=o.colorKey=u(o.options.colorKey,o.colorKey,o.pointValKey,o.zoneAxis,"y");var a=o.pointArrayMap;if(s=o[e+"Min"]&&o[e+"Max"],o[e+"Data"])var h=o[e+"Data"];else if(a){if(h=[],a=a.indexOf(e),i=o.yData,0<=a&&i)for(r=0;r<i.length;r++)h.push(u(i[r][a],i[r]))}else h=o.yData;s?(o.minColorValue=o[e+"Min"],o.maxColorValue=o[e+"Max"]):(h=l.prototype.getExtremes.call(o,h),o.minColorValue=h.dataMin,o.maxColorValue=h.dataMax),void 0!==o.minColorValue&&(this.dataMin=Math.min(this.dataMin,o.minColorValue),this.dataMax=Math.max(this.dataMax,o.maxColorValue)),s||l.prototype.applyExtremes.call(o)}}drawCrosshair(t,e){const s=this.legendItem||{},o=e&&e.plotX,i=e&&e.plotY,r=this.pos,n=this.len;let a;e&&(a=this.toPixels(e.getNestedProperty(e.series.colorKey)),a<r?a=r-2:a>r+n&&(a=r+n+2),e.plotX=a,e.plotY=this.len-a,super.drawCrosshair(t,e),e.plotX=o,e.plotY=i,this.cross&&!this.cross.addedToColorAxis&&s.group&&(this.cross.addClass("highcharts-coloraxis-marker").add(s.group),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color})))}getPlotLinePath(t){const e=this.left,s=t.translatedValue,o=this.top;return c(s)?this.horiz?[["M",s-4,o-6],["L",s+4,o-6],["L",s,o],["Z"]]:[["M",e,s],["L",e-6,s+6],["L",e-6,s-6],["Z"]]:super.getPlotLinePath(t)}update(t,e){const s=this.chart.legend;this.series.forEach((t=>{t.isDirtyData=!0})),(t.dataClasses&&s.allItems||this.dataClasses)&&this.destroyItems(),super.update(t,e),this.legendItem&&this.legendItem.label&&(this.setLegendColor(),s.colorizeItem(this,!0))}destroyItems(){const t=this.chart,e=this.legendItem||{};if(e.label)t.legend.destroyItem(this);else if(e.labels)for(const s of e.labels)t.legend.destroyItem(s);t.isDirtyLegend=!0}destroy(){this.chart.isDirtyLegend=!0,this.destroyItems(),super.destroy(...[].slice.call(arguments))}remove(t){this.destroyItems(),super.remove(t)}getDataClassLegendSymbols(){const t=this,e=t.chart,s=t.legendItem&&t.legendItem.labels||[],o=e.options.legend,r=u(o.valueDecimals,-1),n=u(o.valueSuffix,""),a=e=>t.series.reduce(((t,s)=>(t.push(...s.points.filter((t=>t.dataClass===e))),t)),[]);let l;return s.length||t.dataClasses.forEach(((o,p)=>{const c=o.from,d=o.to,{numberFormatter:u}=e;let m=!0;l="",void 0===c?l="< ":void 0===d&&(l="> "),void 0!==c&&(l+=u(c,r)+n),void 0!==c&&void 0!==d&&(l+=" - "),void 0!==d&&(l+=u(d,r)+n),s.push(h({chart:e,name:l,options:{},drawLegendSymbol:i.rectangle,visible:!0,isDataClass:!0,setState:t=>{for(const e of a(p))e.setState(t)},setVisible:function(){this.visible=m=t.visible=!m;for(const t of a(p))t.setVisible(m);e.legend.colorizeItem(this,m)}},o))})),s}}return m.defaultColorAxisOptions=o,m.defaultLegendLength=200,m.keepProps=["legendItem"],Array.prototype.push.apply(t.keepProps,m.keepProps),m})),e(t,"Maps/MapNavigationDefaults.js",[t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e){return({extend:e}=e),e(t.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),t.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{color:"#666666",fontSize:"1em",fontWeight:"bold"},theme:{fill:"#ffffff",stroke:"#e6e6e6","stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}})),e(t,"Maps/MapNavigation.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,s){function o(t){t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)}function i(t){this.navButtons=[],this.init(t)}const{doc:r}=e,{addEvent:n,extend:a,isNumber:l,merge:h,objectEach:p,pick:c}=s;i.prototype.init=function(t){this.chart=t},i.prototype.update=function(t){let e,s=this,i=this.chart,r=i.options.mapNavigation,l=function(t){this.handler.call(i,t),o(t)},d=s.navButtons;for(t&&(r=i.options.mapNavigation=h(i.options.mapNavigation,t));d.length;)d.pop().destroy();c(r.enableButtons,r.enabled)&&!i.renderer.forExport&&(s.navButtonsGroup||(s.navButtonsGroup=i.renderer.g().attr({zIndex:4}).add()),p(r.buttons,(function(t,p){var c;t=h(r.buttonOptions,t),!i.styledMode&&t.theme&&(e=t.theme,e.style=h(t.theme.style,t.style));const{text:u,width:m=0,height:g=0,padding:f=0}=t,b=i.renderer.button("+"!==u&&"-"!==u&&u||"",0,0,l,e,void 0,void 0,void 0,"zoomIn"===p?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[p]).attr({width:m,height:g,title:i.options.lang[p],padding:t.padding,zIndex:5}).add(s.navButtonsGroup);if("+"===u||"-"===u){const e=[["M",f+3,f+g/2],["L",f+(p=m+1)-3,f+g/2]];"+"===u&&e.push(["M",f+p/2,f+3],["L",f+p/2,f+g-3]),i.renderer.path(e).addClass("highcharts-button-symbol").attr(i.styledMode?{}:{stroke:null===(c=t.style)||void 0===c?void 0:c.color,"stroke-width":3,"stroke-linecap":"round"}).add(b)}if(b.handler=t.onclick,n(b.element,"dblclick",o),d.push(b),a(t,{width:b.width,height:2*b.height}),i.hasLoaded)b.align(t,!1,t.alignTo);else{const e=n(i,"load",(()=>{b.element&&b.align(t,!1,t.alignTo),e()}))}})),t=function(){var t=i.exportingGroup&&i.exportingGroup.getBBox();if(t){const e=s.navButtonsGroup.getBBox();if(!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y)){const o=-e.y-e.height+t.y-5;t=t.y+t.height-e.y+5,s.navButtonsGroup.attr({translateY:"bottom"===(r.buttonOptions&&r.buttonOptions.verticalAlign)?o:t})}}},i.hasLoaded||n(i,"render",t)),this.updateEvents(r)},i.prototype.updateEvents=function(t){const e=this.chart;c(t.enableDoubleClickZoom,t.enabled)||t.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||n(e.container,"dblclick",(function(t){e.pointer.onContainerDblClick(t)})):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),c(t.enableMouseWheelZoom,t.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||n(e.container,void 0!==r.onwheel?"wheel":void 0!==r.onmousewheel?"mousewheel":"DOMMouseScroll",(function(t){return e.pointer.inClass(t.target,"highcharts-no-mousewheel")||(e.pointer.onContainerMouseWheel(t),o(t)),!1})):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},a(t.prototype,{fitToBox:function(t,e){return[["x","width"],["y","height"]].forEach((function(s){const o=s[0];s=s[1],t[o]+t[s]>e[o]+e[s]&&(t[s]>e[s]?(t[s]=e[s],t[o]=e[o]):t[o]=e[o]+e[s]-t[s]),t[s]>e[s]&&(t[s]=e[s]),t[o]<e[o]&&(t[o]=e[o])})),t},mapZoom:function(t,e,s,o,i){this.mapView&&(l(t)&&(t=Math.log(t)/Math.log(.5)),this.mapView.zoomBy(t,l(e)&&l(s)?this.mapView.projection.inverse([e,s]):void 0,l(o)&&l(i)?[o,i]:void 0))}}),n(t,"beforeRender",(function(){this.mapNavigation=new i(this),this.mapNavigation.update()})),e.MapNavigation=i})),e(t,"Maps/MapPointer.js",[t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,e){const{defined:s,extend:o,pick:i,wrap:r}=e,n=t.prototype.normalize;let a,l=0;o(t.prototype,{normalize:function(t,e){const s=this.chart;return t=n.call(this,t,e),s&&s.mapView&&(e=s.mapView.pixelsToLonLat({x:t.chartX-s.plotLeft,y:t.chartY-s.plotTop}))&&o(t,e),t},onContainerDblClick:function(t){const e=this.chart;t=this.normalize(t),e.options.mapNavigation.enableDoubleClickZoomTo?e.pointer.inClass(t.target,"highcharts-tracker")&&e.hoverPoint&&e.hoverPoint.zoomTo():e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapZoom(.5,void 0,void 0,t.chartX,t.chartY)},onContainerMouseWheel:function(t){const e=this.chart;t=this.normalize(t);const o=s(t.wheelDelta)&&-t.wheelDelta/120||t.deltaY||t.detail;1<=Math.abs(o)&&(l+=Math.abs(o),a&&clearTimeout(a),a=setTimeout((()=>{l=0}),50)),10>l&&e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&e.mapView&&e.mapView.zoomBy((e.options.mapNavigation.mouseWheelSensitivity-1)*-o,void 0,[t.chartX,t.chartY],!(1>Math.abs(o))&&void 0)}}),r(t.prototype,"zoomOption",(function(t){const e=this.chart.options.mapNavigation;i(e.enableTouchZoom,e.enabled)&&(this.chart.zooming.pinchType="xy"),t.apply(this,[].slice.call(arguments,1))})),r(t.prototype,"pinchTranslate",(function(t,e,s,o,i,r,n){t.call(this,e,s,o,i,r,n),"map"===this.chart.options.chart.type&&this.hasZoom&&(t=o.scaleX>o.scaleY,this.pinchTranslateDirection(!t,e,s,o,i,r,n,t?o.scaleX:o.scaleY))}))})),e(t,"Series/ColorMapComposition.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{column:{prototype:s}}=t.seriesTypes,{addEvent:o,defined:i}=e;var r;return function(t){function r(t){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:t&&"hover"===t.state?1:0})}const n=[];t.pointMembers={dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&1/0!==this.value&&-1/0!==this.value&&(void 0===this.value||!isNaN(this.value))}},t.seriesMembers={colorKey:"value",axisTypes:["xAxis","yAxis","colorAxis"],parallelArrays:["x","y","value"],pointArrayMap:["value"],trackerGroups:["group","markerGroup","dataLabelsGroup"],colorAttribs:function(t){const e={};return!i(t.color)||t.state&&"normal"!==t.state||(e[this.colorProp||"fill"]=t.color),e},pointAttribs:s.pointAttribs},t.compose=function(t){const s=t.prototype.pointClass;return e.pushUnique(n,s)&&o(s,"afterSetState",r),t}}(r||(r={})),r})),e(t,"Maps/MapSymbols.js",[t["Core/Renderer/SVG/SVGRenderer.js"]],(function(t){const{prototype:{symbols:e}}=t;return e.bottombutton=function(t,s,o,i,r){if(r){const t=(null==r?void 0:r.r)||0;r.brBoxY=s-t,r.brBoxHeight=i+t}return e.roundedRect(t,s,o,i,r)},e.topbutton=function(t,s,o,i,r){return r&&(r.brBoxHeight=i+((null==r?void 0:r.r)||0)),e.roundedRect(t,s,o,i,r)},e})),e(t,"Core/Chart/MapChart.js",[t["Core/Chart/Chart.js"],t["Core/Defaults.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,s,o){const{getOptions:i}=e,{merge:r,pick:n}=o;class a extends t{init(t,e){const s=i().credits;t=r({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:n(s.mapText,' \xa9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:n(s.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},t),super.init(t,e)}}return function(t){t.maps={},t.mapChart=function(e,s,o){return new t(e,s,o)},t.splitPath=function(t){return"string"==typeof t&&(t=(t=t.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map((t=>/[A-za-z]/.test(t)?t:parseFloat(t)))),s.prototype.pathToSegments(t)}}(a||(a={})),a})),e(t,"Maps/MapUtilities.js",[],(function(){return{boundsFromPath:function(t){let e,s=-Number.MAX_VALUE,o=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=Number.MAX_VALUE;if(t.forEach((t=>{const n=t[t.length-2];t=t[t.length-1],"number"==typeof n&&"number"==typeof t&&(o=Math.min(o,n),s=Math.max(s,n),r=Math.min(r,t),i=Math.max(i,t),e=!0)})),e)return{x1:o,y1:r,x2:s,y2:i}},pointInPolygon:function(t,e){let s,o,i,r=!1,n=t.x,a=t.y;for(t=0,s=e.length-1;t<e.length;s=t++)o=e[t][1]>a,i=e[s][1]>a,o!==i&&n<(e[s][0]-e[t][0])*(a-e[t][1])/(e[s][1]-e[t][1])+e[t][0]&&(r=!r);return r}}})),e(t,"Series/Map/MapPoint.js",[t["Series/ColorMapComposition.js"],t["Maps/MapUtilities.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s,o){const{boundsFromPath:i}=e;({seriesTypes:{scatter:e}}=s);const{extend:r,isNumber:n,pick:a}=o;class l extends e.prototype.pointClass{constructor(){super(...arguments),this.series=this.path=this.options=void 0}static getProjectedPath(t,e){return t.projectedPath||(e&&t.geometry?(e.hasCoordinates=!0,t.projectedPath=e.path(t.geometry)):t.projectedPath=t.path),t.projectedPath||[]}applyOptions(t,e){const s=this.series;return t=super.applyOptions.call(this,t,e),e=s.joinBy,s.mapData&&s.mapMap&&((e=void 0!==(e=super.getNestedProperty.call(t,e[1]))&&s.mapMap[e])?r(t,e):-1!==s.pointArrayMap.indexOf("value")&&(t.value=t.value||null)),t}getProjectedBounds(t){var e=l.getProjectedPath(this,t);e=i(e);var s=this.properties;const o=this.series.chart.mapView;if(e){const i=s&&s["hc-middle-lon"],r=s&&s["hc-middle-lat"];return o&&n(i)&&n(r)?(t=t.forward([i,r]),e.midX=t[0],e.midY=t[1]):(t=s&&s["hc-middle-x"],s=s&&s["hc-middle-y"],e.midX=e.x1+(e.x2-e.x1)*a(this.middleX,n(t)?t:.5),t=a(this.middleY,n(s)?s:.5),this.geometry||(t=1-t),e.midY=e.y2-(e.y2-e.y1)*t),e}}onMouseOver(t){o.clearTimeout(this.colorInterval),!this.isNull&&this.visible||this.series.options.nullInteraction?super.onMouseOver.call(this,t):this.series.onMouseOut(t)}setVisible(t){const e=t?"show":"hide";this.visible=this.options.visible=!!t,this.dataLabel&&this.dataLabel[e](),this.graphic&&this.graphic.attr(this.series.pointAttribs(this))}zoomTo(t){const e=this.series.chart,s=e.mapView;var o=this.bounds;if(s&&o){const r=n(this.insetIndex)&&s.insets[this.insetIndex];if(r){var i=r.projectedUnitsToPixels({x:o.x1,y:o.y1});o=r.projectedUnitsToPixels({x:o.x2,y:o.y2}),i=s.pixelsToProjectedUnits({x:i.x,y:i.y}),o=s.pixelsToProjectedUnits({x:o.x,y:o.y}),o={x1:i.x,y1:i.y,x2:o.x,y2:o.y}}s.fitToBounds(o,void 0,!1),this.series.isDirty=!0,e.redraw(t)}}}return r(l.prototype,{dataLabelOnNull:t.pointMembers.dataLabelOnNull,moveToTopOnHover:t.pointMembers.moveToTopOnHover,isValid:t.pointMembers.isValid}),l})),e(t,"Maps/MapViewOptionsDefault.js",[],(function(){return{center:[0,0],fitToGeometry:void 0,maxZoom:void 0,padding:0,projection:{name:void 0,parallels:void 0,rotation:void 0},zoom:void 0}})),e(t,"Maps/MapViewInsetsOptionsDefault.js",[],(function(){return{borderColor:"#cccccc",borderWidth:1,center:[0,0],padding:"10%",relativeTo:"mapBoundingBox",units:"percent"}})),e(t,"Extensions/GeoJSON.js",[t["Core/Chart/Chart.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,s,o){function i(t,e){if(e||(e=Object.keys(t.objects)[0]),(e=t.objects[e])["hc-decoded-geojson"])return e["hc-decoded-geojson"];let s=t.arcs;if(t.transform){const{scale:e,translate:o}=t.transform;s=t.arcs.map((t=>{let s=0,i=0;return t.map((t=>((t=t.slice())[0]=(s+=t[0])*e[0]+o[0],t[1]=(i+=t[1])*e[1]+o[1],t)))}))}const o=t=>"number"==typeof t[0]?t.reduce(((t,e,o)=>{let i=0>e?s[~e]:s[e];return 0>e?(i=i.slice(0,0===o?i.length:i.length-1),i.reverse()):o&&(i=i.slice(1)),t.concat(i)}),[]):t.map(o),i=e.geometries.map((t=>({type:"Feature",properties:t.properties,geometry:{type:t.type,coordinates:t.coordinates||o(t.arcs)}})));return t={type:"FeatureCollection",copyright:t.copyright,copyrightShort:t.copyrightShort,copyrightUrl:t.copyrightUrl,features:i,"hc-recommended-mapview":e["hc-recommended-mapview"],bbox:t.bbox,title:t.title},e["hc-decoded-geojson"]=t}function r(t,e="map",s){const o=[];return(t="Topology"===t.type?i(t):t).features.forEach((function(t){var s=t.geometry||{},i=s.type;let r;if(s=s.coordinates,t=t.properties,("map"!==e&&"mapbubble"!==e||"Polygon"!==i&&"MultiPolygon"!==i)&&("mapline"!==e||"LineString"!==i&&"MultiLineString"!==i)?"mappoint"===e&&"Point"===i&&s.length&&(r={geometry:{coordinates:s,type:i}}):s.length&&(r={geometry:{coordinates:s,type:i}}),r){i=t&&(t.name||t.NAME),s=t&&t.lon;const e=t&&t.lat;o.push(h(r,{lat:"number"==typeof e?e:void 0,lon:"number"==typeof s?s:void 0,name:"string"==typeof i?i:void 0,properties:t}))}})),s&&t.copyrightShort&&(s.chart.mapCredits=n(s.chart.options.credits.mapText,{geojson:t}),s.chart.mapCreditsFull=n(s.chart.options.credits.mapTextFull,{geojson:t})),o}const{format:n}=e,{win:a}=s,{error:l,extend:h,merge:p,wrap:c}=o;return t.prototype.transformFromLatLon=function(t,e){var s=this.options.chart.proj4||a.proj4;if(s){var{jsonmarginX:o=0,jsonmarginY:i=0,jsonres:r=1,scale:n=1,xoffset:h=0,xpan:p=0,yoffset:c=0,ypan:d=0}=e;t=s(e.crs,[t.lon,t.lat]),s=e.cosAngle||e.rotation&&Math.cos(e.rotation);var u=e.sinAngle||e.rotation&&Math.sin(e.rotation);return{x:(((e=e.rotation?[t[0]*s+t[1]*u,-t[0]*u+t[1]*s]:t)[0]-h)*n+p)*r+o,y:-(((c-e[1])*n+d)*r-i)}}l(21,!1,this)},t.prototype.transformToLatLon=function(t,e){const s=this.options.chart.proj4||a.proj4;if(s){if(null!==t.y){var{jsonmarginX:o=0,jsonmarginY:i=0,jsonres:r=1,scale:n=1,xoffset:h=0,xpan:p=0,yoffset:c=0,ypan:d=0}=e;t={x:((t.x-o)/r-p)/n+h,y:((t.y-i)/r+d)/n+c};var u=e.cosAngle||e.rotation&&Math.cos(e.rotation),m=e.sinAngle||e.rotation&&Math.sin(e.rotation);return{lat:(e=s(e.crs,"WGS84",e.rotation?{x:t.x*u+t.y*-m,y:t.x*m+t.y*u}:t)).y,lon:e.x}}}else l(21,!1,this)},t.prototype.fromPointToLatLon=function(t){return this.mapView&&this.mapView.projectedUnitsToLonLat(t)},t.prototype.fromLatLonToPoint=function(t){return this.mapView&&this.mapView.lonLatToProjectedUnits(t)},c(t.prototype,"addCredits",(function(t,e){e=p(!0,this.options.credits,e),this.mapCredits&&(e.href=null),t.call(this,e),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})),s.geojson=r,s.topo2geo=i,{geojson:r,topo2geo:i}})),e(t,"Core/Geometry/PolygonClip.js",[],(function(){const t=(t,e,s)=>(e[0]-t[0])*(s[1]-t[1])>(e[1]-t[1])*(s[0]-t[0]),e=(t,e,s,o)=>{var i=[t[0]-e[0],t[1]-e[1]];const r=[s[0]-o[0],s[1]-o[1]];return t=t[0]*e[1]-t[1]*e[0],s=s[0]*o[1]-s[1]*o[0],o=1/(i[0]*r[1]-i[1]*r[0]),(i=[(t*r[0]-s*i[0])*o,(t*r[1]-s*i[1])*o]).isIntersection=!0,i};var s,o;return(o=s||(s={})).clipLineString=(t,e)=>{const s=[];for(t=o.clipPolygon(t,e,!1),e=1;e<t.length;e++)t[e].isIntersection&&t[e-1].isIntersection&&(s.push(t.splice(0,e)),e=0),e===t.length-1&&s.push(t);return s},o.clipPolygon=(s,o,i=!0)=>{let r,n,a=o[o.length-1],l=s;for(let h=0;h<o.length;h++){const p=l;s=o[h],l=[],r=i?p[p.length-1]:p[0];for(let o=0;o<p.length;o++)n=p[o],t(a,s,n)?(t(a,s,r)||l.push(e(a,s,r,n)),l.push(n)):t(a,s,r)&&l.push(e(a,s,r,n)),r=n;a=s}return l},s})),e(t,"Maps/Projections/LambertConformalConic.js",[],(function(){const t=Math.sign||(t=>0===t?0:0<t?1:-1),e=Math.PI/180,s=Math.PI/2;return class{constructor(o){var i,r=(o.parallels||[]).map((t=>t*e));const n=r[0]||0;r=null!==(i=r[1])&&void 0!==i?i:n,i=Math.cos(n),"object"==typeof o.projectedBounds&&(this.projectedBounds=o.projectedBounds),o=n===r?Math.sin(n):Math.log(i/Math.cos(r))/Math.log(Math.tan((s+r)/2)/Math.tan((s+n)/2)),1e-10>Math.abs(o)&&(o=1e-10*(t(o)||1)),this.n=o,this.c=i*Math.pow(Math.tan((s+n)/2),o)/o}forward(t){var o=t[0]*e;const{c:i,n:r,projectedBounds:n}=this;t=t[1]*e,0<i?t<1e-6-s&&(t=1e-6-s):t>s-1e-6&&(t=s-1e-6);var a=i/Math.pow(Math.tan((s+t)/2),r);return a=[t=a*Math.sin(r*o)*63.78137,o=63.78137*(i-a*Math.cos(r*o))],n&&(t<n.x1||t>n.x2||o<n.y1||o>n.y2)&&(a.outside=!0),a}inverse(o){const i=o[0]/63.78137;o=o[1]/63.78137;const{c:r,n:n}=this;o=r-o;const a=t(n)*Math.sqrt(i*i+o*o);let l=Math.atan2(i,Math.abs(o))*t(o);return 0>o*n&&(l-=Math.PI*t(i)*t(o)),[l/n/e,(2*Math.atan(Math.pow(r/a,1/n))-s)/e]}}})),e(t,"Maps/Projections/EqualEarth.js",[],(function(){const t=Math.sqrt(3)/2;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-97.52595454902263,y2:97.52595454902263}}forward(e){const s=Math.PI/180,o=Math.asin(t*Math.sin(e[1]*s)),i=o*o,r=i*i*i;return[e[0]*s*Math.cos(o)*74.03120656864502/(t*(1.340264+3*-.081106*i+r*(7*893e-6+.034164*i))),74.03120656864502*o*(1.340264+-.081106*i+r*(893e-6+.003796*i))]}inverse(e){const s=e[0]/74.03120656864502;e=e[1]/74.03120656864502;const o=180/Math.PI;let i,r,n=e;for(r=0;12>r;++r){var a=n*n;i=a*a*a;var l=n*(1.340264+-.081106*a+i*(893e-6+.003796*a))-e;if(n-=l/=a=1.340264+3*-.081106*a+i*(7*893e-6+.034164*a),1e-9>Math.abs(l))break}return[o*t*s*(1.340264+3*-.081106*(a=n*n)+a*a*a*(7*893e-6+.034164*a))/Math.cos(n),o*Math.asin(Math.sin(n)/t)]}}})),e(t,"Maps/Projections/Miller.js",[],(function(){const t=Math.PI/4,e=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-146.91480769173063,y2:146.91480769173063}}forward(s){return[s[0]*e*63.78137,79.7267125*Math.log(Math.tan(t+.4*s[1]*e))]}inverse(s){return[s[0]/63.78137/e,2.5*(Math.atan(Math.exp(s[1]/63.78137*.8))-t)/e]}}})),e(t,"Maps/Projections/Orthographic.js",[],(function(){const t=Math.PI/180;return class{constructor(){this.antimeridianCutting=!1,this.bounds={x1:-63.78460826781007,x2:63.78460826781007,y1:-63.78460826781007,y2:63.78460826781007}}forward(e){const s=e[0];return e=e[1]*t,e=[Math.cos(e)*Math.sin(s*t)*63.78460826781007,63.78460826781007*Math.sin(e)],(-90>s||90<s)&&(e.outside=!0),e}inverse(e){const s=e[0]/63.78460826781007;e=e[1]/63.78460826781007;const o=Math.sqrt(s*s+e*e),i=Math.asin(o),r=Math.sin(i);return[Math.atan2(s*r,o*Math.cos(i))/t,Math.asin(o&&e*r/o)/t]}}})),e(t,"Maps/Projections/WebMercator.js",[],(function(){const t=Math.PI/180;return class{constructor(){this.bounds={x1:-200.37508342789243,x2:200.37508342789243,y1:-200.3750834278071,y2:200.3750834278071},this.maxLatitude=85.0511287798}forward(e){var s=Math.sin(e[1]*t);return s=[63.78137*e[0]*t,63.78137*Math.log((1+s)/(1-s))/2],85.0511287798<Math.abs(e[1])&&(s.outside=!0),s}inverse(e){return[e[0]/(63.78137*t),(2*Math.atan(Math.exp(e[1]/63.78137))-Math.PI/2)/t]}}})),e(t,"Maps/Projections/ProjectionRegistry.js",[t["Maps/Projections/LambertConformalConic.js"],t["Maps/Projections/EqualEarth.js"],t["Maps/Projections/Miller.js"],t["Maps/Projections/Orthographic.js"],t["Maps/Projections/WebMercator.js"]],(function(t,e,s,o,i){return{EqualEarth:e,LambertConformalConic:t,Miller:s,Orthographic:o,WebMercator:i}})),e(t,"Maps/Projection.js",[t["Core/Geometry/PolygonClip.js"],t["Maps/Projections/ProjectionRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s){const{clipLineString:o,clipPolygon:i}=t,{clamp:r,erase:n}=s,a=2*Math.PI/360,l=t=>(-180>t&&(t+=360),180<t&&(t-=360),t);class h{static add(t,e){h.registry[t]=e}static greatCircle(t,e,s){const{atan2:o,cos:i,sin:r,sqrt:n}=Math,l=t[1]*a,h=t[0]*a,p=e[1]*a,c=e[0]*a;var d=p-l,u=c-h;d=2*o(n(d=r(d/2)*r(d/2)+i(l)*i(p)*r(u/2)*r(u/2)),n(1-d));var m=Math.round(6371e3*d/5e5);if(u=[],s&&u.push(t),1<m)for(m=t=1/m;.999>m;m+=t){var g=r((1-m)*d)/r(d);const t=r(m*d)/r(d);var f=g*i(l)*i(h)+t*i(p)*i(c);const e=g*i(l)*r(h)+t*i(p)*r(c);g=o(g=g*r(l)+t*r(p),n(f*f+e*e)),f=o(e,f),u.push([f/a,g/a])}return s&&u.push(e),u}static insertGreatCircles(t){let e=t.length-1;for(;e--;)if(10<Math.max(Math.abs(t[e][0]-t[e+1][0]),Math.abs(t[e][1]-t[e+1][1]))){const s=h.greatCircle(t[e],t[e+1]);s.length&&t.splice(e+1,0,...s)}}static toString(t){const{name:e,rotation:s}=t||{};return[e,s&&s.join(",")].join(";")}constructor(t={}){this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=t;const{name:e,projectedBounds:s,rotation:o}=t;this.rotator=o?this.getRotator(o):void 0;const i=e?h.registry[e]:void 0;i&&(this.def=new i(t));const{def:r,rotator:n}=this;r&&(this.maxLatitude=r.maxLatitude||90,this.hasGeoProjection=!0),n&&r?(this.forward=t=>r.forward(n.forward(t)),this.inverse=t=>n.inverse(r.inverse(t))):r?(this.forward=t=>r.forward(t),this.inverse=t=>r.inverse(t)):n&&(this.forward=n.forward,this.inverse=n.inverse),this.bounds="world"===s?r&&r.bounds:s}lineIntersectsBounds(t){const{x1:e,x2:s,y1:o,y2:i}=this.bounds||{},r=(t,e,s)=>{const[o,i]=t;if(t=e?0:1,"number"==typeof s&&o[e]>=s!=i[e]>=s)return t=o[t]+(s-o[e])/(i[e]-o[e])*(i[t]-o[t]),e?[t,s]:[s,t]};let n,a=t[0];return((n=r(t,0,e))||(n=r(t,0,s)))&&(a=n,t[1]=n),((n=r(t,1,o))||(n=r(t,1,i)))&&(a=n),a}getRotator(t){const e=t[0]*a,s=(t[1]||0)*a;t=(t[2]||0)*a;const o=Math.cos(s),i=Math.sin(s),r=Math.cos(t),n=Math.sin(t);if(0!==e||0!==s||0!==t)return{forward:t=>{var s=t[0]*a+e,l=t[1]*a,h=Math.cos(l);return t=Math.cos(s)*h,s=Math.sin(s)*h,h=(l=Math.sin(l))*o+t*i,[Math.atan2(s*r-h*n,t*o-l*i)/a,Math.asin(h*r+s*n)/a]},inverse:t=>{var s=t[0]*a,l=t[1]*a,h=Math.cos(l);return t=Math.cos(s)*h,s=Math.sin(s)*h,h=(l=Math.sin(l))*r-s*n,[(Math.atan2(s*r+l*n,t*o+h*i)-e)/a,Math.asin(h*o-t*i)/a]}}}forward(t){return t}inverse(t){return t}cutOnAntimeridian(t,e){const s=[],o=[t];if(t.forEach(((o,i)=>{let n=t[i-1];if(!i){if(!e)return;n=t[t.length-1]}const a=n[0];var l=o[0];(-90>a||90<a)&&(-90>l||90<l)&&0<a!=0<l&&(l=r((180-(a+360)%360)/((l+360)%360-(a+360)%360),0,1),s.push({i:i,lat:n[1]+l*(o[1]-n[1]),direction:0>a?1:-1,previousLonLat:n,lonLat:o}))})),s.length)if(e){if(1==s.length%2){var i=s.slice().sort(((t,e)=>Math.abs(e.lat)-Math.abs(t.lat)))[0];n(s,i)}for(var a=s.length-2;0<=a;){var p=s[a].i,c=l(180+1e-6*s[a].direction),d=l(180-1e-6*s[a].direction);(p=t.splice(p,s[a+1].i-p,...h.greatCircle([c,s[a].lat],[c,s[a+1].lat],!0))).push(...h.greatCircle([d,s[a+1].lat],[d,s[a].lat],!0)),o.push(p),a-=2}if(i)for(p=0;p<o.length;p++){const{direction:t,lat:e}=i;if(-1<(d=(a=o[p]).indexOf(i.lonLat))){p=(0>e?-1:1)*this.maxLatitude;var u=l(180+1e-6*t);c=l(180-1e-6*t);const s=h.greatCircle([u,e],[u,p],!0);for(u+=120*t;-180<u&&180>u;u+=120*t)s.push([u,p]);s.push(...h.greatCircle([c,p],[c,i.lat],!0)),a.splice(d,0,...s);break}}}else for(i=s.length;i--;)(a=t.splice(s[i].i,t.length,[l(180+1e-6*s[i].direction),s[i].lat])).unshift([l(180-1e-6*s[i].direction),s[i].lat]),o.push(a);return o}path(t){const{bounds:e,def:s,rotator:r}=this,n=[],a="Polygon"===t.type||"MultiPolygon"===t.type,l=this.hasGeoProjection,p=!s||!1!==s.antimeridianCutting,c=p?r:void 0,d=p&&s||this;let u;e&&(u=[[e.x1,e.y1],[e.x2,e.y1],[e.x2,e.y2],[e.x1,e.y2]]);const m=t=>{t=t.map((t=>{if(p){c&&(t=c.forward(t));let e=t[0];1e-6>Math.abs(e-180)&&(e=180>e?179.999999:180.000001),t=[e,t[1]]}return t}));let s=[t];l&&(h.insertGreatCircles(t),p&&(s=this.cutOnAntimeridian(t,a))),s.forEach((t=>{if(!(2>t.length)){var s=!1,r=!1,c=t=>{s?n.push(["L",t[0],t[1]]):(n.push(["M",t[0],t[1]]),s=!0)},m=!1,g=!1,f=t.map((t=>((t=d.forward(t)).outside?m=!0:g=!0,1/0===t[1]?t[1]=1e10:-1/0===t[1]&&(t[1]=-1e10),t)));if(p){if(a&&f.push(f[0]),m){if(!g)return;if(u)if(a)f=i(f,u);else if(e)return void o(f,u).forEach((t=>{s=!1,t.forEach(c)}))}f.forEach(c)}else for(let e=0;e<f.length;e++){const o=t[e],i=f[e];if(i.outside)r=!0;else{if(a&&!b){var b=o;t.push(o),f.push(i)}r&&y&&(a&&l?h.greatCircle(y,o).forEach((t=>c(d.forward(t)))):s=!1),c(i);var y=o;r=!1}}}}))};return"LineString"===t.type?m(t.coordinates):"MultiLineString"===t.type?t.coordinates.forEach((t=>m(t))):"Polygon"===t.type?(t.coordinates.forEach((t=>m(t))),n.length&&n.push(["Z"])):"MultiPolygon"===t.type&&(t.coordinates.forEach((t=>{t.forEach((t=>m(t)))})),n.length&&n.push(["Z"])),n}}return h.registry=e,h})),e(t,"Maps/MapView.js",[t["Maps/MapViewOptionsDefault.js"],t["Maps/MapViewInsetsOptionsDefault.js"],t["Extensions/GeoJSON.js"],t["Core/Chart/MapChart.js"],t["Maps/MapUtilities.js"],t["Maps/Projection.js"],t["Core/Utilities.js"]],(function(t,e,s,o,i,r,n){const{topo2geo:a}=s,{maps:l}=o,{boundsFromPath:h,pointInPolygon:p}=i,{addEvent:c,clamp:d,fireEvent:u,isArray:m,isNumber:g,isObject:f,isString:b,merge:y,pick:x,relativeLength:v}=n,M=(t,e)=>{const{width:s,height:o}=e;return Math.log(400.979322/Math.max((t.x2-t.x1)/(s/256),(t.y2-t.y1)/(o/256)))/Math.log(2)};class C{static mergeInsets(t,e){const s=t=>{const e={};return t.forEach(((t,s)=>{e[t&&t.id||`i${s}`]=t})),e},o=y(s(t),s(e));return Object.keys(o).map((t=>o[t]))}createInsets(){const t=this.options,e=t.insets;e&&e.forEach((e=>{e=new j(this,y(t.insetOptions,e)),this.insets.push(e)}))}constructor(e,s){let o,i;if(this.allowTransformAnimation=!0,this.insets=[],this.padding=[0,0,0,0],this.eventsToUnbind=[],!(this instanceof j)){var n=[e.options.chart.map,...(e.options.series||[]).map((t=>t.mapData))].map((t=>this.getGeoMap(t)));const t=[];n.forEach((e=>{if(e&&(o||(o=e["hc-recommended-mapview"]),e.bbox)){const[s,o,i,r]=e.bbox;t.push({x1:s,y1:o,x2:i,y2:r})}}));const s=t.length&&C.compositeBounds(t);u(e,"beforeMapViewInit",{geoBounds:s},(function(){if(s){const{x1:t,y1:e,x2:o,y2:r}=s;i=180<o-t&&90<r-e?{name:"EqualEarth"}:{name:"LambertConformalConic",parallels:[e,r],rotation:[-(t+o)/2]}}})),this.geoMap=n[0]}this.userOptions=s||{},e.options.mapView&&e.options.mapView.recommendedMapView&&(o=e.options.mapView.recommendedMapView),n=y(t,{projection:i},o,s);const a=o&&o.insets;s=s&&s.insets,a&&s&&(n.insets=C.mergeInsets(a,s)),this.chart=e,this.center=n.center,this.options=n,this.projection=new r(n.projection),this.playingField=e.plotBox,this.zoom=n.zoom||0,this.minZoom=n.minZoom,this.createInsets(),this.eventsToUnbind.push(c(e,"afterSetChartSize",(()=>{this.playingField=this.getField(),void 0!==this.minZoom&&this.minZoom!==this.zoom||(this.fitToBounds(void 0,void 0,!1),!this.chart.hasRendered&&g(this.userOptions.zoom)&&(this.zoom=this.userOptions.zoom),this.userOptions.center&&y(!0,this.center,this.userOptions.center))}))),this.setUpEvents()}fitToBounds(t,e,s=!0,o){const i=t||this.getProjectedBounds();if(i){var r=x(e,t?0:this.options.padding);e=this.getField(!1),r=m(r)?r:[r,r,r,r],this.padding=[v(r[0],e.height),v(r[1],e.width),v(r[2],e.height),v(r[3],e.width)],this.playingField=this.getField(),e=M(i,this.playingField),t||(this.minZoom=e),t=this.projection.inverse([(i.x2+i.x1)/2,(i.y2+i.y1)/2]),this.setView(t,e,s,o)}}getField(t=!0){return{x:(t=t?this.padding:[0,0,0,0])[3],y:t[0],width:this.chart.plotWidth-t[1]-t[3],height:this.chart.plotHeight-t[0]-t[2]}}getGeoMap(t){if(b(t))return l[t]&&"Topology"===l[t].type?a(l[t]):l[t];if(f(t,!0)){if("FeatureCollection"===t.type)return t;if("Topology"===t.type)return a(t)}}getMapBBox(){const t=this.getProjectedBounds(),e=this.getScale();if(t){const s=this.padding,o=this.projectedUnitsToPixels({x:t.x1,y:t.y2});return{width:(t.x2-t.x1)*e+s[1]+s[3],height:(t.y2-t.y1)*e+s[0]+s[2],x:o.x-s[3],y:o.y-s[0]}}}getProjectedBounds(){const t=this.projection;var e=this.chart.series.reduce(((t,e)=>{const s=e.getProjectedBounds&&e.getProjectedBounds();return s&&!1!==e.options.affectsMapView&&t.push(s),t}),[]),s=this.options.fitToGeometry;return s?(this.fitToGeometryCache||("MultiPoint"===s.type?(s=s.coordinates.map((e=>t.forward(e))),e=s.map((t=>t[0])),s=s.map((t=>t[1])),this.fitToGeometryCache={x1:Math.min.apply(0,e),x2:Math.max.apply(0,e),y1:Math.min.apply(0,s),y2:Math.max.apply(0,s)}):this.fitToGeometryCache=h(t.path(s))),this.fitToGeometryCache):this.projection.bounds||C.compositeBounds(e)}getScale(){return 256/400.979322*Math.pow(2,this.zoom)}getSVGTransform(){const{x:t,y:e,width:s,height:o}=this.playingField,i=this.projection.forward(this.center);var r=this.projection.hasCoordinates?-1:1;const n=this.getScale();return{scaleX:n,scaleY:r*=n,translateX:t+s/2-i[0]*n,translateY:e+o/2-i[1]*r}}lonLatToPixels(t){if(t=this.lonLatToProjectedUnits(t))return this.projectedUnitsToPixels(t)}lonLatToProjectedUnits(t){const e=this.chart,s=e.mapTransforms;if(s){for(const i in s)if(Object.hasOwnProperty.call(s,i)&&s[i].hitZone){var o=e.transformFromLatLon(t,s[i]);if(o&&p(o,s[i].hitZone.coordinates[0]))return o}return e.transformFromLatLon(t,s.default)}for(o of this.insets)if(o.options.geoBounds&&p({x:t.lon,y:t.lat},o.options.geoBounds.coordinates[0]))return t=o.projection.forward([t.lon,t.lat]),t=o.projectedUnitsToPixels({x:t[0],y:t[1]}),this.pixelsToProjectedUnits(t);if(!(t=this.projection.forward([t.lon,t.lat])).outside)return{x:t[0],y:t[1]}}projectedUnitsToLonLat(t){var e=this.chart;const s=e.mapTransforms;if(s){for(const o in s)if(Object.hasOwnProperty.call(s,o)&&s[o].hitZone&&p(t,s[o].hitZone.coordinates[0]))return e.transformToLatLon(t,s[o]);return e.transformToLatLon(t,s.default)}for(var o of(e=this.projectedUnitsToPixels(t),this.insets))if(o.hitZone&&p(e,o.hitZone.coordinates[0]))return t=o.pixelsToProjectedUnits(e),{lon:(o=o.projection.inverse([t.x,t.y]))[0],lat:o[1]};return{lon:(o=this.projection.inverse([t.x,t.y]))[0],lat:o[1]}}redraw(t){this.chart.series.forEach((t=>{t.useMapGeometry&&(t.isDirty=!0)})),this.chart.redraw(t)}setView(t,e,s=!0,o){t&&(this.center=t),"number"==typeof e&&("number"==typeof this.minZoom&&(e=Math.max(e,this.minZoom)),"number"==typeof this.options.maxZoom&&(e=Math.min(e,this.options.maxZoom)),g(e)&&(this.zoom=e));var i=this.getProjectedBounds();if(i){t=this.projection.forward(this.center);const{x:s,y:o,width:a,height:l}=this.playingField;e=this.getScale();var r=this.projectedUnitsToPixels({x:i.x1,y:i.y1}),n=this.projectedUnitsToPixels({x:i.x2,y:i.y2});if(i=[(i.x1+i.x2)/2,(i.y1+i.y2)/2],!this.chart.series.some((t=>t.isDrilling))){const h=r.x,p=n.y;n=n.x,r=r.y,n-h<a?t[0]=i[0]:h<s&&n<s+a?t[0]+=Math.max(h-s,n-a-s)/e:n>s+a&&h>s&&(t[0]+=Math.min(n-a-s,h-s)/e),r-p<l?t[1]=i[1]:p<o&&r<o+l?t[1]-=Math.max(p-o,r-l-o)/e:r>o+l&&p>o&&(t[1]-=Math.min(r-l-o,p-o)/e),this.center=this.projection.inverse(t)}this.insets.forEach((t=>{t.options.field&&(t.hitZone=t.getHitZone(),t.playingField=t.getField())})),this.render()}u(this,"afterSetView"),s&&this.redraw(o)}projectedUnitsToPixels(t){const e=this.getScale(),s=this.projection.forward(this.center),o=this.playingField;return{x:o.x+o.width/2-e*(s[0]-t.x),y:o.y+o.height/2+e*(s[1]-t.y)}}pixelsToLonLat(t){return this.projectedUnitsToLonLat(this.pixelsToProjectedUnits(t))}pixelsToProjectedUnits(t){const{x:e,y:s}=t;t=this.getScale();const o=this.projection.forward(this.center),i=this.playingField;return{x:o[0]+(e-(i.x+i.width/2))/t,y:o[1]-(s-(i.y+i.height/2))/t}}setUpEvents(){const{chart:t}=this;let e,s,o;const i=i=>{var r=t.pointer.pinchDown,n=this.projection;let{mouseDownX:a,mouseDownY:l}=t;if(1===r.length&&(a=r[0].chartX,l=r[0].chartY),"number"==typeof a&&"number"==typeof l){r=`${a},${l}`;const{chartX:h,chartY:p}=i.originalEvent;if(r!==s&&(s=r,e=this.projection.forward(this.center),o=(this.projection.options.rotation||[0,0]).slice()),r=(r=n.def&&n.def.bounds)&&M(r,this.playingField)||-1/0,"Orthographic"===n.options.name&&(this.minZoom||1/0)<1.3*r){if(r=440/(this.getScale()*Math.min(t.plotWidth,t.plotHeight)),o){n=(a-h)*r-o[0],r=d(-o[1]-(l-p)*r,-80,80);const e=this.zoom;this.update({projection:{rotation:[-n,-r]}},!1),this.fitToBounds(void 0,void 0,!1),this.zoom=e,t.redraw(!1)}}else g(h)&&g(p)&&(n=this.getScale(),n=this.projection.inverse([e[0]+(a-h)/n,e[1]-(l-p)/n*(this.projection.hasCoordinates?1:-1)]),this.setView(n,void 0,!0,!1));i.preventDefault()}};c(t,"pan",i),c(t,"touchpan",i),c(t,"selection",(e=>{if(e.resetSelection)this.zoomBy();else{const s=e.x-t.plotLeft,o=e.y-t.plotTop,{y:i,x:r}=this.pixelsToProjectedUnits({x:s,y:o}),{y:n,x:a}=this.pixelsToProjectedUnits({x:s+e.width,y:o+e.height});this.fitToBounds({x1:r,y1:i,x2:a,y2:n},void 0,!0,!e.originalEvent.touches&&void 0),/^touch/.test(e.originalEvent.type)||t.showResetZoom(),e.preventDefault()}}))}render(){this.group||(this.group=this.chart.renderer.g("map-view").attr({zIndex:4}).add())}update(t,e=!0,s){var o=t.projection;o=o&&r.toString(o)!==r.toString(this.options.projection);let i=!1;y(!0,this.userOptions,t),y(!0,this.options,t),"insets"in t&&(this.insets.forEach((t=>t.destroy())),this.insets.length=0,i=!0),(o||"fitToGeometry"in t)&&delete this.fitToGeometryCache,(o||i)&&(this.chart.series.forEach((t=>{const e=t.transformGroups;if(t.clearBounds&&t.clearBounds(),t.isDirty=!0,t.isDirtyData=!0,i&&e)for(;1<e.length;)(t=e.pop())&&t.destroy()})),o&&(this.projection=new r(this.options.projection)),i&&this.createInsets(),t.center||!Object.hasOwnProperty.call(t,"zoom")||g(t.zoom)||this.fitToBounds(void 0,void 0,!1)),t.center||g(t.zoom)?this.setView(this.options.center,t.zoom,!1):"fitToGeometry"in t&&this.fitToBounds(void 0,void 0,!1),e&&this.chart.redraw(s)}zoomBy(t,e,s,o){var i=this.chart;const r=this.projection.forward(this.center);let[n,a]=e?this.projection.forward(e):[];if("number"==typeof t){if(t=this.zoom+t,s){const[t,o]=s;s=this.getScale(),e=o-i.plotTop-i.plotHeight/2,n=r[0]+(t-i.plotLeft-i.plotWidth/2)/s,a=r[1]+e/s}if("number"==typeof n&&"number"==typeof a){i=1-Math.pow(2,this.zoom)/Math.pow(2,t);var l=r[1]-a;r[0]-=(r[0]-n)*i,r[1]+=l*i,l=this.projection.inverse(r)}this.setView(l,t,void 0,o)}else this.fitToBounds(void 0,void 0,void 0,o)}}C.compositeBounds=t=>{if(t.length)return t.slice(1).reduce(((t,e)=>(t.x1=Math.min(t.x1,e.x1),t.y1=Math.min(t.y1,e.y1),t.x2=Math.max(t.x2,e.x2),t.y2=Math.max(t.y2,e.y2),t)),y(t[0]))};class j extends C{constructor(t,s){super(t.chart,s),this.id=s.id,this.mapView=t,this.options=y(e,s),this.allBounds=[],this.options.geoBounds&&(t=t.projection.path(this.options.geoBounds),this.geoBoundsProjectedBox=h(t),this.geoBoundsProjectedPolygon=t.map((t=>[t[1]||0,t[2]||0])))}getField(t=!0){var e=this.hitZone;if(e){var s=t?this.padding:[0,0,0,0],o=(e=e.coordinates[0]).map((t=>t[0]));const i=e.map((t=>t[1]));e=Math.min.apply(0,o)+s[3],o=Math.max.apply(0,o)-s[1];const r=Math.min.apply(0,i)+s[0];if(s=Math.max.apply(0,i)-s[2],g(e)&&g(r))return{x:e,y:r,width:o-e,height:s-r}}return super.getField.call(this,t)}getHitZone(){const{chart:t,mapView:e,options:s}=this;var{coordinates:o}=s.field||{};if(o){if(o=o[0],"percent"===s.units){const i="mapBoundingBox"===s.relativeTo&&e.getMapBBox()||y(t.plotBox,{x:0,y:0});o=o.map((t=>[v(`${t[0]}%`,i.width,i.x),v(`${t[1]}%`,i.height,i.y)]))}return{type:"Polygon",coordinates:[o]}}}getProjectedBounds(){return C.compositeBounds(this.allBounds)}isInside(t){const{geoBoundsProjectedBox:e,geoBoundsProjectedPolygon:s}=this;return!!(e&&t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2&&s&&p(t,s))}render(){const{chart:t,mapView:e,options:s}=this;var o=s.borderPath||s.field;if(o&&e.group){let i=!0;this.border||(this.border=t.renderer.path().addClass("highcharts-mapview-inset-border").add(e.group),i=!1),t.styledMode||this.border.attr({stroke:s.borderColor,"stroke-width":s.borderWidth});const r=Math.round(this.border.strokeWidth())%2/2,n="mapBoundingBox"===s.relativeTo&&e.getMapBBox()||e.playingField;o=(o.coordinates||[]).reduce(((e,o)=>o.reduce(((e,o,i)=>{let[a,l]=o;return"percent"===s.units&&(a=t.plotLeft+v(`${a}%`,n.width,n.x),l=t.plotTop+v(`${l}%`,n.height,n.y)),a=Math.floor(a)+r,l=Math.floor(l)+r,e.push(0===i?["M",a,l]:["L",a,l]),e}),e)),[]),this.border[i?"animate":"attr"]({d:o})}}destroy(){this.border&&(this.border=this.border.destroy()),this.eventsToUnbind.forEach((t=>t()))}setUpEvents(){}}return c(o,"afterInit",(function(){this.mapView=new C(this,this.options.mapView)})),C})),e(t,"Series/Map/MapSeries.js",[t["Core/Animation/AnimationUtilities.js"],t["Series/ColorMapComposition.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Chart/MapChart.js"],t["Series/Map/MapPoint.js"],t["Maps/MapView.js"],t["Core/Series/Series.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,s,o,i,r,n,a,l,h,p){const{animObject:c,stop:d}=t;({noop:t}=o);const{splitPath:u}=i,{seriesTypes:{column:m,scatter:g}}=l,{extend:f,find:b,fireEvent:y,getNestedProperty:x,isArray:v,defined:M,isNumber:C,isObject:j,merge:w,objectEach:P,pick:S,splat:L}=p;class T extends g{constructor(){super(...arguments),this.points=this.options=this.joinBy=this.group=this.data=this.chart=void 0,this.processedData=[]}animate(t){const{chart:e,group:s}=this,o=c(this.options.animation);t?s.attr({translateX:e.plotLeft+e.plotWidth/2,translateY:e.plotTop+e.plotHeight/2,scaleX:.001,scaleY:.001}):s.animate({translateX:e.plotLeft,translateY:e.plotTop,scaleX:1,scaleY:1},o)}clearBounds(){this.points.forEach((t=>{delete t.bounds,delete t.insetIndex,delete t.projectedPath})),delete this.bounds}doFullTranslate(){return!(!this.isDirtyData&&!this.chart.isResizing&&this.hasRendered)}drawMapDataLabels(){a.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}drawPoints(){const t=this,{chart:e,group:s,transformGroups:o=[]}=this,{mapView:i,renderer:r}=e;i&&(this.transformGroups=o,o[0]||(o[0]=r.g().add(s)),i.insets.forEach(((t,e)=>{o[e+1]||o.push(r.g().add(s))})),this.doFullTranslate()&&(this.points.forEach((t=>{const{graphic:s,shapeArgs:i}=t;t.group=o["number"==typeof t.insetIndex?t.insetIndex+1:0],s&&s.parentGroup!==t.group&&s.add(t.group),i&&e.hasRendered&&!e.styledMode&&(i.fill=this.pointAttribs(t,t.state).fill)})),m.prototype.drawPoints.apply(this),this.points.forEach((s=>{const o=s.graphic;if(o){const i=o.animate;let r="";s.name&&(r+="highcharts-name-"+s.name.replace(/ /g,"-").toLowerCase()),s.properties&&s.properties["hc-key"]&&(r+=" highcharts-key-"+s.properties["hc-key"].toString().toLowerCase()),r&&o.addClass(r),e.styledMode&&o.css(this.pointAttribs(s,s.selected?"select":void 0)),o.animate=function(s,r,n){const a=C(s["stroke-width"])&&!C(o["stroke-width"]),l=C(o["stroke-width"])&&!C(s["stroke-width"]);if(a||l){const i=S(t.getStrokeWidth(t.options),1)/(e.mapView&&e.mapView.getScale()||1);a&&(o["stroke-width"]=i),l&&(s["stroke-width"]=i)}return i.call(o,s,r,l?function(){o.element.removeAttribute("stroke-width"),delete o["stroke-width"],n&&n.apply(this,arguments)}:n)}}}))),o.forEach(((s,o)=>{const n=(0===o?i:i.insets[o-1]).getSVGTransform(),a=S(this.getStrokeWidth(this.options),1),l=n.scaleX,h=0<n.scaleY?1:-1,p=e=>{(t.points||[]).forEach((t=>{const s=t.graphic;let o;s&&s["stroke-width"]&&(o=this.getStrokeWidth(t.options))&&s.attr({"stroke-width":o/e})}))};if(r.globalAnimation&&e.hasRendered&&i.allowTransformAnimation){const t=Number(s.attr("translateX")),e=Number(s.attr("translateY")),i=Number(s.attr("scaleX")),d=(o,r)=>{o=i+(l-i)*r.pos,s.attr({translateX:t+(n.translateX-t)*r.pos,translateY:e+(n.translateY-e)*r.pos,scaleX:o,scaleY:o*h,"stroke-width":a/o}),p(o)},u=(o=w(c(r.globalAnimation))).step;o.step=function(t){u&&u.apply(this,arguments),d.apply(this,arguments)},s.attr({animator:0}).animate({animator:1},o,(function(){"boolean"!=typeof r.globalAnimation&&r.globalAnimation.complete&&r.globalAnimation.complete({applyDrilldown:!0})}))}else d(s),s.attr(w(n,{"stroke-width":a/l})),p(l)})),this.isDrilling||this.drawMapDataLabels())}getProjectedBounds(){if(!this.bounds&&this.chart.mapView){const{insets:t,projection:e}=this.chart.mapView,s=[];(this.points||[]).forEach((function(o){if(o.path||o.geometry){if("string"==typeof o.path?o.path=u(o.path):v(o.path)&&"M"===o.path[0]&&(o.path=h.prototype.pathToSegments(o.path)),!o.bounds){let s=o.getProjectedBounds(e);if(s){o.labelrank=S(o.labelrank,(s.x2-s.x1)*(s.y2-s.y1));const{midX:e,midY:i}=s;if(t&&C(e)&&C(i)){const r=b(t,(t=>t.isInside({x:e,y:i})));r&&(delete o.projectedPath,(s=o.getProjectedBounds(r.projection))&&r.allBounds.push(s),o.insetIndex=t.indexOf(r))}o.bounds=s}}o.bounds&&void 0===o.insetIndex&&s.push(o.bounds)}})),this.bounds=n.compositeBounds(s)}return this.bounds}getStrokeWidth(t){const e=this.pointAttrToOptions;return t[e&&e["stroke-width"]||"borderWidth"]}hasData(){return!!this.processedXData.length}pointAttribs(t,e){var s;const{mapView:o,styledMode:i}=t.series.chart,r=i?this.colorAttribs(t):m.prototype.pointAttribs.call(this,t,e);let n=this.getStrokeWidth(t.options);if(e){e=w(this.options.states[e],t.options.states&&t.options.states[e]||{});const o=this.getStrokeWidth(e);M(o)&&(n=o),r.stroke=null!==(s=e.borderColor)&&void 0!==s?s:t.color}return n&&o&&(n/=o.getScale()),s=this.getStrokeWidth(this.options),r.dashstyle&&o&&C(s)&&(n=s/o.getScale()),t.visible||(r.fill=this.options.nullColor),M(n)?r["stroke-width"]=n:delete r["stroke-width"],r["stroke-linecap"]=r["stroke-linejoin"]=this.options.linecap,r}updateData(){return!this.processedData&&super.updateData.apply(this,arguments)}setData(t,e=!0,s,o){delete this.bounds,super.setData.call(this,t,!1,void 0,o),this.processData(),this.generatePoints(),e&&this.chart.redraw(s)}processData(){const t=this.options,e=t.data;var s=this.chart.options.chart;const i=this.joinBy,n=t.keys||this.pointArrayMap,a=[],l={};var h=this.chart.mapView;h=h&&(j(t.mapData,!0)?h.getGeoMap(t.mapData):h.geoMap);var p=this.chart.mapTransforms;let c;(this.chart.mapTransforms=p=s.mapTransforms||h&&h["hc-transform"]||p)&&P(p,(function(t){t.rotation&&(t.cosAngle=Math.cos(t.rotation),t.sinAngle=Math.sin(t.rotation))})),v(t.mapData)?c=t.mapData:h&&"FeatureCollection"===h.type&&(this.mapTitle=h.title,c=o.geojson(h,this.type,this));const d=this.processedData=[];if(e&&e.forEach((function(s,o){let a=0;if(C(s))d[o]={value:s};else if(v(s)){d[o]={},!t.keys&&s.length>n.length&&"string"==typeof s[0]&&(d[o]["hc-key"]=s[0],++a);for(let t=0;t<n.length;++t,++a)n[t]&&void 0!==s[a]&&(0<n[t].indexOf(".")?r.prototype.setNestedProperty(d[o],s[a],n[t]):d[o][n[t]]=s[a])}else d[o]=e[o];i&&"_i"===i[0]&&(d[o]._i=o)})),c){for(this.mapData=c,this.mapMap={},p=0;p<c.length;p++)h=(s=c[p]).properties,s._i=p,i[0]&&h&&h[i[0]]&&(s[i[0]]=h[i[0]]),l[s[i[0]]]=s;if(this.mapMap=l,i[1]){const t=i[1];d.forEach((function(e){e=x(t,e),l[e]&&a.push(l[e])}))}if(t.allAreas){if(i[1]){const t=i[1];d.forEach((function(e){a.push(x(t,e))}))}const t="|"+a.map((function(t){return t&&t[i[0]]})).join("|")+"|";c.forEach((function(e){i[0]&&-1!==t.indexOf("|"+e[i[0]]+"|")||d.push(w(e,{value:null}))}))}}this.processedXData=Array(d.length)}setOptions(t){let e=(t=a.prototype.setOptions.call(this,t)).joinBy;return null===e&&(e="_i"),e=this.joinBy=L(e),e[1]||(e[1]=e[0]),t}translate(){const t=this.doFullTranslate(),e=this.chart.mapView,s=e&&e.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,!e||e.userOptions.center||C(e.userOptions.zoom)||e.zoom!==e.minZoom?this.getProjectedBounds():e.fitToBounds(void 0,void 0,!1)),e){const o=e.getSVGTransform();this.points.forEach((function(i){const n=C(i.insetIndex)&&e.insets[i.insetIndex].getSVGTransform()||o;n&&i.bounds&&C(i.bounds.midX)&&C(i.bounds.midY)&&(i.plotX=i.bounds.midX*n.scaleX+n.translateX,i.plotY=i.bounds.midY*n.scaleY+n.translateY),t&&(i.shapeType="path",i.shapeArgs={d:r.getProjectedPath(i,s)}),i.projectedPath&&!i.projectedPath.length?i.setVisible(!1):i.setVisible(!0)}))}y(this,"afterTranslate")}}return T.defaultOptions=w(g.defaultOptions,{affectsMapView:!0,animation:!1,dataLabels:{crop:!1,formatter:function(){const{numberFormatter:t}=this.series.chart,{value:e}=this.point;return C(e)?t(e,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},linecap:"round",marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#e6e6e6",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:void 0,borderColor:"#666666",borderWidth:2},normal:{animation:!0},select:{color:"#cccccc"}},legendSymbol:"rectangle"}),f(T.prototype,{type:"map",axisTypes:e.seriesMembers.axisTypes,colorAttribs:e.seriesMembers.colorAttribs,colorKey:e.seriesMembers.colorKey,directTouch:!0,drawDataLabels:t,drawGraph:t,forceDL:!0,getCenter:s.getCenter,getExtremesFromAll:!0,getSymbol:t,isCartesian:!1,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:e.seriesMembers.pointArrayMap,pointClass:r,preserveAspectRatio:!0,searchPoint:t,trackerGroups:e.seriesMembers.trackerGroups,useMapGeometry:!0}),e.compose(T),l.registerSeriesType("map",T),T})),e(t,"Series/MapLine/MapLineSeries.js",[t["Series/Map/MapSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s){const{extend:o,merge:i}=s;class r extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(e,s){return(e=t.prototype.pointAttribs.call(this,e,s)).fill=this.options.fillColor,e}}return r.defaultOptions=i(t.defaultOptions,{lineWidth:1,fillColor:"none",legendSymbol:"lineMarker"}),o(r.prototype,{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),e.registerSeriesType("mapline",r),r})),e(t,"Series/MapPoint/MapPointPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){({seriesTypes:{scatter:t}}=t);const{isNumber:s}=e;class o extends t.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return!!(this.options.geometry||s(this.x)&&s(this.y)||s(this.options.lon)&&s(this.options.lat))}}return o})),e(t,"Series/MapPoint/MapPointSeries.js",[t["Core/Globals.js"],t["Series/MapPoint/MapPointPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,s,o,i){({noop:t}=t);const{seriesTypes:{map:r,scatter:n}}=s,{extend:a,fireEvent:l,isNumber:h,merge:p}=i;class c extends n{constructor(){super(...arguments),this.points=this.options=this.data=this.chart=void 0,this.clearBounds=r.prototype.clearBounds}drawDataLabels(){super.drawDataLabels(),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)}projectPoint(t){const e=this.chart.mapView;if(e){const{geometry:s,lon:o,lat:i}=t;if(t=s&&"Point"===s.type&&s.coordinates,h(o)&&h(i)&&(t=[o,i]),t)return e.lonLatToProjectedUnits({lon:t[0],lat:t[1]})}}translate(){const t=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),this.getProjectedBounds&&this.isDirtyData&&(delete this.bounds,this.getProjectedBounds()),t){const e=t.getSVGTransform(),{hasCoordinates:s}=t.projection;this.points.forEach((o=>{let{x:i,y:r}=o;var n=h(o.insetIndex)&&t.insets[o.insetIndex].getSVGTransform()||e;const a=this.projectPoint(o.options)||o.properties&&this.projectPoint(o.properties);let l;a?(i=a.x,r=a.y):o.bounds&&(i=o.bounds.midX,r=o.bounds.midY,n&&h(i)&&h(r)&&(o.plotX=i*n.scaleX+n.translateX,o.plotY=r*n.scaleY+n.translateY,l=!0)),h(i)&&h(r)?l||(n=t.projectedUnitsToPixels({x:i,y:r}),o.plotX=n.x,o.plotY=s?n.y:this.chart.plotHeight-n.y):o.y=o.plotX=o.plotY=void 0,o.isInside=this.isPointInside(o),o.zone=this.zones.length?o.getZone():void 0}))}l(this,"afterTranslate")}}return c.defaultOptions=p(n.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}},legendSymbol:"lineMarker"}),o.prototype.symbols.mapmarker=(t,e,s,o,i)=>{const r=i&&"legend"===i.context;return r?(t+=s/2,i=e+o):i&&"number"==typeof i.anchorX&&"number"==typeof i.anchorY?(t=i.anchorX,i=i.anchorY):(t+=s/2,i=e+o/2,e-=o),[["M",t,i],["C",t,i,t-(o=r?o/3:o/2),e+1.5*o,t-o,e+o],["A",o,o,1,1,1,t+o,e+o],["C",t+o,e+1.5*o,t,i,t,i],["Z"]]},a(c.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:e,searchPoint:t,useMapGeometry:!0}),s.registerSeriesType("mappoint",c),c})),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,s,o){const{parse:i}=t,{noop:r}=s,{arrayMax:n,arrayMin:a,isNumber:l,merge:h,pick:p,stableSort:c}=o;return class{constructor(t,e){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=r,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){const e=p(t.options.itemDistance,20),s=this.legendItem||{},o=this.options;var i=o.ranges,r=o.connectorDistance;if(i&&i.length&&l(i[0].value)){c(i,(function(t,e){return e.value-t.value})),this.ranges=i,this.setOptions(),this.render(),t=this.getMaxLabelSize();var n=this.ranges[0].radius;i=2*n,r=0<(r=r-n+t.width)?r:0,this.maxLabel=t,this.movementX="left"===o.labels.align?r:0,s.labelWidth=i+r+e,s.labelHeight=i+t.height/2}else t.options.bubbleLegend.autoRanges=!0}setOptions(){const t=this.ranges,e=this.options,s=this.chart.series[e.seriesIndex],o=this.legend.baseline,r={zIndex:e.zIndex,"stroke-width":e.borderWidth},n={zIndex:e.zIndex,"stroke-width":e.connectorWidth},a={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},l=s.options.marker.fillOpacity,c=this.chart.styledMode;t.forEach((function(d,u){c||(r.stroke=p(d.borderColor,e.borderColor,s.color),r.fill=p(d.color,e.color,1!==l?i(s.color).setOpacity(l).get("rgba"):s.color),n.stroke=p(d.connectorColor,e.connectorColor,s.color)),t[u].radius=this.getRangeRadius(d.value),t[u]=h(t[u],{center:t[0].radius-t[u].radius+o}),c||h(!0,t[u],{bubbleAttribs:h(r),connectorAttribs:h(n),labelAttribs:a})}),this)}getRangeRadius(t){const e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)}render(){const t=this.legendItem||{},e=this.chart.renderer,s=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group);for(const o of this.ranges)o.value>=s&&this.renderRange(o);this.hideOverlappingLabels()}renderRange(t){var e=this.options;const s=e.labels;var o=this.chart;const i=o.series[e.seriesIndex],r=o.renderer,n=this.symbols;o=n.labels;const a=t.center,l=Math.abs(t.radius);var h=e.connectorDistance||0;const p=s.align,c=e.connectorWidth,d=this.ranges[0].radius||0,u=a-l-e.borderWidth/2+c/2,m=r.styledMode;h=this.legend.options.rtl||"left"===p?-h:h,"center"===p&&(h=0,e.connectorDistance=0,t.labelAttribs.align="center"),n.bubbleItems.push(r.circle(d,a+((u%1?1:.5)-(c%2?0:.5)),l).attr(m?{}:t.bubbleAttribs).addClass((m?"highcharts-color-"+i.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendItem.symbol)),n.connectors.push(r.path(r.crispLine([["M",d,u],["L",d+h,u]],e.connectorWidth)).attr(m?{}:t.connectorAttribs).addClass((m?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendItem.symbol)),t=r.text(this.formatLabel(t)).attr(m?{}:t.labelAttribs).css(m?{}:s.style).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendItem.symbol),e={x:d+h+e.labels.x,y:u+e.labels.y+.4*t.getBBox().height},t.attr(e),o.push(t),t.placed=!0,t.alignAttr=e}getMaxLabelSize(){let t,e;return this.symbols.labels.forEach((function(s){e=s.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}}formatLabel(t){var s=this.options;const o=s.labels.formatter;s=s.labels.format;const{numberFormatter:i}=this.chart;return s?e.format(s,t):o?o.call(t):i(t.value,1)}hideOverlappingLabels(){const t=this.chart,e=this.symbols;!this.options.labels.allowOverlap&&e&&(t.hideOverlappingLabels(e.labels),e.labels.forEach((function(t,s){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[s].show():e.connectors[s].hide()})))}getRanges(){const t=this.legend.bubbleLegend,e=t.options.ranges;let s,o,i=Number.MAX_VALUE,r=-Number.MAX_VALUE;return t.chart.series.forEach((function(t){t.isBubble&&!t.ignoreSeries&&(o=t.zData.filter(l),o.length&&(i=p(t.options.zMin,Math.min(i,Math.max(a(o),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),r=p(t.options.zMax,Math.max(r,n(o)))))})),s=i===r?[{value:r}]:[{value:i},{value:(i+r)/2},{value:r,autoRanges:!0}],e.length&&e[0].radius&&s.reverse(),s.forEach((function(t,o){e&&e[o]&&(s[o]=h(e[o],t))})),s}predictBubbleSizes(){var t=this.chart,e=t.legend.options,s=e.floating;const o=(e="horizontal"===e.layout)?t.legend.lastLineHeight:0,i=t.plotSizeX,r=t.plotSizeY;var n=t.series[this.options.seriesIndex],a=n.getPxExtremes();t=Math.ceil(a.minPxSize),a=Math.ceil(a.maxPxSize);const l=Math.min(r,i);return n=n.options.maxSize,s||!/%$/.test(n)?s=a:(s=(l+o)*(n=parseFloat(n))/100/(n/100+1),(e&&r-s>=i||!e&&i-s>=r)&&(s=a)),[t,Math.ceil(s)]}updateRanges(t,e){const s=this.legend.options.bubbleLegend;s.minSize=t,s.maxSize=e,s.ranges=this.getRanges()}correctSizes(){const t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}}})),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e,s,o){function i(t,e,s){const o=this.legend;var i=0<=r(this);let a,l;o&&o.options.enabled&&o.bubbleLegend&&o.options.bubbleLegend.autoRanges&&i?(a=o.bubbleLegend.options,i=o.bubbleLegend.predictBubbleSizes(),o.bubbleLegend.updateRanges(i[0],i[1]),a.placed||(o.group.placed=!1,o.allItems.forEach((t=>{l=t.legendItem||{},l.group&&(l.group.translateY=null)}))),o.render(),this.getMargins(),this.axes.forEach((function(t){t.visible&&t.render(),a.placed||(t.setScale(),t.updateNames(),d(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),a.placed=!0,this.getMargins(),t.call(this,e,s),o.bubbleLegend.correctSizes(),h(o,n(o))):(t.call(this,e,s),o&&o.options.enabled&&o.bubbleLegend&&(o.render(),h(o,n(o))))}function r(t){t=t.series;let e=0;for(;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1}function n(t){const e=[],s=(t=t.allItems).length;let o,i,r=0;for(i=0;i<s;i++){var n=t[i].legendItem||{};if(o=(t[i+1]||{}).legendItem||{},n.labelHeight&&(t[i].itemHeight=n.labelHeight),t[i]===t[s-1]||n.y!==o.y){for(e.push({height:0}),n=e[e.length-1];r<=i;r++)t[r].itemHeight>n.height&&(n.height=t[r].itemHeight);n.step=i}}return e}function a(t){const s=this.bubbleLegend,o=this.options,i=o.bubbleLegend,n=r(this.chart);s&&s.ranges&&s.ranges.length&&(i.ranges.length&&(i.autoRanges=!!i.ranges[0].autoRanges),this.destroyItem(s)),0<=n&&o.enabled&&i.enabled&&(i.seriesIndex=n,this.bubbleLegend=new e(i,this),this.bubbleLegend.addToLegend(t.allItems))}function l(t){if(t.defaultPrevented)return!1;var e=this.chart;t=this.visible;const s=this.chart.legend;s&&s.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,e=0<=r(e),s.bubbleLegend.visible!==e&&(s.update({bubbleLegend:{enabled:e}}),s.bubbleLegend.visible=e),this.visible=t)}function h(t,e){const s=t.options.rtl;let o,i,r,n,a=0;t.allItems.forEach(((t,l)=>{n=t.legendItem||{},n.group&&(o=n.group.translateX||0,i=n.y||0,((r=t.movementX)||s&&t.ranges)&&(r=s?o-t.options.maxSize/2:o+r,n.group.attr({translateX:r})),l>e[a].step&&a++,n.group.attr({translateY:Math.round(i+e[a].height/2)}),n.y=i+e[a].height/2)}))}const{setOptions:p}=s,{addEvent:c,objectEach:d,wrap:u}=o,m=[];return{compose:function(e,s,r){o.pushUnique(m,e)&&(p({legend:{bubbleLegend:t}}),u(e.prototype,"drawChartBox",i)),o.pushUnique(m,s)&&c(s,"afterGetAllItems",a),o.pushUnique(m,r)&&c(r,"legendItemClick",l)}}})),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s){({seriesTypes:{scatter:{prototype:{pointClass:e}}}}=e),({extend:s}=s);class o extends e{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)}}return s(o.prototype,{ttBelow:!1}),o})),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s,o,i,r){function n(){const t=this.len,e=this.chart,s=this.isXAxis,o=s?"xData":"yData",i=this.min,r=this.max-i;let n,a=0,l=t,h=t/r;this.series.forEach((t=>{if(t.bubblePadding&&(t.visible||!e.options.chart.ignoreHiddenSeries)){n=this.allowZoomOutside=!0;const e=t[o];if(s&&((t.onPoint||t).getRadii(0,0,t),t.onPoint&&(t.radii=t.onPoint.radii)),0<r){let s=e.length;for(;s--;)if(f(e[s])&&this.dataMin<=e[s]&&e[s]<=this.max){const o=t.radii&&t.radii[s]||0;a=Math.min((e[s]-i)*h-o,a),l=Math.max((e[s]-i)*h+o,l)}}}})),n&&0<r&&!this.logarithmic&&(l-=t,h*=(t+Math.max(0,a)-Math.min(l,t))/t,[["min","userMin",a],["max","userMax",l]].forEach((t=>{void 0===y(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/h)})))}const{parse:a}=s;({noop:s}=o);const{series:l,seriesTypes:{column:{prototype:h},scatter:p}}=i,{addEvent:c,arrayMax:d,arrayMin:u,clamp:m,extend:g,isNumber:f,merge:b,pick:y}=r,x=[];class v extends p{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(e,s,o,i){t.compose(s,o,i),r.pushUnique(x,e)&&(e.prototype.beforePadding=n)}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach((function(t){const{graphic:e}=t;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))}),this)}getRadii(){const t=this.zData,e=this.yData,s=[];let o,i,r,n=this.chart.bubbleZExtremes;const{minPxSize:a,maxPxSize:l}=this.getPxExtremes();if(!n){let t,e=Number.MAX_VALUE,s=-Number.MAX_VALUE;this.chart.series.forEach((o=>{o.bubblePadding&&(o.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(o=(o.onPoint||o).getZExtremes())&&(e=Math.min(y(e,o.zMin),o.zMin),s=Math.max(y(s,o.zMax),o.zMax),t=!0)})),t?(n={zMin:e,zMax:s},this.chart.bubbleZExtremes=n):n={zMin:0,zMax:0}}for(i=0,o=t.length;i<o;i++)r=t[i],s.push(this.getRadius(n.zMin,n.zMax,a,l,r,e&&e[i]));this.radii=s}getRadius(t,e,s,o,i,r){const n=this.options,a="width"!==n.sizeBy,l=n.zThreshold;let h=e-t,p=.5;if(null===r||null===i)return null;if(f(i)){if(n.sizeByAbsoluteValue&&(i=Math.abs(i-l),h=Math.max(e-l,Math.abs(t-l)),t=0),i<t)return s/2-1;0<h&&(p=(i-t)/h)}return a&&0<=p&&(p=Math.sqrt(p)),Math.ceil(s+p*(o-s))/2}hasData(){return!!this.processedXData.length}pointAttribs(t,e){const s=this.options.marker.fillOpacity;return t=l.prototype.pointAttribs.call(this,t,e),1!==s&&(t.fill=a(t.fill).setOpacity(s).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:t,options:e,radii:s}=this,{minPxSize:o}=this.getPxExtremes();let i=t.length;for(;i--;){const r=t[i],n=s?s[i]:0;"z"===this.zoneAxis&&(r.negative=(r.z||0)<(e.zThreshold||0)),f(n)&&n>=o/2?(r.marker=g(r.marker,{radius:n,width:2*n,height:2*n}),r.dlBox={x:r.plotX-n,y:r.plotY-n,width:2*n,height:2*n}):(r.shapeArgs=r.plotY=r.dlBox=void 0,r.isInside=!1)}}getPxExtremes(){const t=Math.min(this.chart.plotWidth,this.chart.plotHeight);var e=e=>{let s;return"string"==typeof e&&(s=/%$/.test(e),e=parseInt(e,10)),s?t*e/100:e};const s=e(y(this.options.minSize,8));return{minPxSize:s,maxPxSize:e=Math.max(e(y(this.options.maxSize,"20%")),s)}}getZExtremes(){var t=this.options;const e=(this.zData||[]).filter(f);if(e.length){const s=y(t.zMin,m(u(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(t=y(t.zMax,d(e)),f(s)&&f(t))return{zMin:s,zMax:t}}}}return v.defaultOptions=b(p.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:t}=this.series.chart,{z:e}=this.point;return f(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),g(v.prototype,{alignDataLabel:h.alignDataLabel,applyZones:s,bubblePadding:!0,buildKDTree:s,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),c(v,"updatedData",(t=>{delete t.target.chart.bubbleZExtremes})),c(v,"remove",(t=>{delete t.target.chart.bubbleZExtremes})),i.registerSeriesType("bubble",v),v})),e(t,"Series/MapBubble/MapBubblePoint.js",[t["Series/Bubble/BubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s){({seriesTypes:{map:{prototype:{pointClass:{prototype:e}}}}}=e),({extend:s}=s);class o extends t{isValid(){return"number"==typeof this.z}}return s(o.prototype,{applyOptions:e.applyOptions,getProjectedBounds:e.getProjectedBounds}),o})),e(t,"Series/MapBubble/MapBubbleSeries.js",[t["Series/Bubble/BubbleSeries.js"],t["Series/MapBubble/MapBubblePoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,s,o){const{seriesTypes:{map:{prototype:i},mappoint:{prototype:r}}}=s,{extend:n,merge:a}=o;class l extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0,this.clearBounds=i.clearBounds}searchPoint(t,e){return this.searchKDTree({clientX:t.chartX-this.chart.plotLeft,plotY:t.chartY-this.chart.plotTop},e,t)}translate(){r.translate.call(this),this.getRadii(),this.translateBubble()}updateParallelArrays(t,e,s){super.updateParallelArrays.call(this,t,e,s),t=this.processedXData,e=this.xData,t&&e&&(t.length=e.length)}}return l.defaultOptions=a(t.defaultOptions,{lineWidth:0,animationLimit:500,joinBy:"hc-key",tooltip:{pointFormat:"{point.name}: {point.z}"}}),n(l.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:i.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:e,processData:i.processData,projectPoint:r.projectPoint,setData:i.setData,setOptions:i.setOptions,updateData:i.updateData,useMapGeometry:!0,xyFromShape:!0}),s.registerSeriesType("mapbubble",l),l})),e(t,"Series/Heatmap/HeatmapPoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){({seriesTypes:{scatter:{prototype:{pointClass:t}}}}=t);const{clamp:s,defined:o,extend:i,pick:r}=e;class n extends t{constructor(){super(...arguments),this.y=this.x=this.value=this.series=this.options=void 0}applyOptions(t,e){return(this.isNull||null===this.value)&&delete this.color,super.applyOptions(t,e),this.formatPrefix=this.isNull||null===this.value?"null":"point",this}getCellAttributes(){var t=this.series;const e=t.options,i=(e.colsize||1)/2,n=(e.rowsize||1)/2,a=t.xAxis,l=t.yAxis,h=this.options.marker||t.options.marker;t=t.pointPlacementToXValue();const p=r(this.pointPadding,e.pointPadding,0),c={x1:s(Math.round(a.len-a.translate(this.x-i,!1,!0,!1,!0,-t)),-a.len,2*a.len),x2:s(Math.round(a.len-a.translate(this.x+i,!1,!0,!1,!0,-t)),-a.len,2*a.len),y1:s(Math.round(l.translate(this.y-n,!1,!0,!1,!0)),-l.len,2*l.len),y2:s(Math.round(l.translate(this.y+n,!1,!0,!1,!0)),-l.len,2*l.len)};return[["width","x"],["height","y"]].forEach((function(t){var e=t[0];let s=(t=t[1])+"1",i=t+"2";const r=Math.abs(c[s]-c[i]),n=h&&h.lineWidth||0,d=Math.abs(c[s]+c[i])/2;e=h&&h[e],o(e)&&e<r&&(e=e/2+n/2,c[s]=d-e,c[i]=d+e),p&&(("x"===t&&a.reversed||"y"===t&&!l.reversed)&&(s=i,i=t+"1"),c[s]+=p,c[i]-=p)})),c}haloPath(t){if(!t)return[];const{x:e=0,y:s=0,width:o=0,height:i=0}=this.shapeArgs||{};return[["M",e-t,s-t],["L",e-t,s+i+t],["L",e+o+t,s+i+t],["L",e+o+t,s-t],["Z"]]}isValid(){return 1/0!==this.value&&-1/0!==this.value}}return i(n.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),n})),e(t,"Series/Heatmap/HeatmapSeries.js",[t["Core/Color/Color.js"],t["Series/ColorMapComposition.js"],t["Core/Globals.js"],t["Series/Heatmap/HeatmapPoint.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Renderer/SVG/SVGRenderer.js"],t["Core/Utilities.js"]],(function(t,e,s,o,i,r,n){const{doc:a}=s,{series:l,seriesTypes:{column:h,scatter:p}}=i,{prototype:{symbols:c}}=r,{clamp:d,extend:u,fireEvent:m,isNumber:g,merge:f,pick:b,defined:y}=n;class x extends p{constructor(){super(...arguments),this.points=this.options=this.data=this.context=this.colorAxis=this.canvas=void 0,this.valueMin=this.valueMax=NaN}drawPoints(){const t=this;var e=t.options,s=e.marker||{};if(e.interpolation){const{image:n,chart:a,xAxis:l,yAxis:h,points:p}=t;s=p.length-1;const{len:c,reversed:u}=l,{len:m,reversed:g}=h,{min:f,max:x}=l.getExtremes(),{min:v,max:M}=h.getExtremes(),[C,j]=[b(e.colsize,1),b(e.rowsize,1)];var o=a.inverted,i=C/2;e=l.userOptions.minPadding;var r=y(e)&&!(0<e);e=o||r,i=r&&i||0;const[w,P,S]=[f-i,x+2*i,f+C].map((e=>d(Math.round(l.len-l.translate(e,!1,!0,!1,!0,-t.pointPlacementToXValue())),-l.len,2*l.len))),[L,T]=u?[P,w]:[w,P];if(i=c/S/2/2/2,o=o?{width:c,height:m,x:0,y:0}:{x:L-i,width:T-i,height:m,y:0},!n||t.isDirtyData){const l=a.colorAxis&&a.colorAxis[0];if(i=t.getContext(),(r=t.canvas)&&i&&l){const h=r.width=1+~~((x-f)/C),c=r.height=1+~~((M-v)/j),d=h*c,m=new Uint8ClampedArray(4*d),y=h-(e?1:0),w=c-1;e=t=>((t=l.toColor(t.value||0,b(t)).split(")")[0].split("(")[1].split(",").map((t=>b(parseFloat(t),parseInt(t,10)))))[3]=255*b(t[3],1),t);const P=u?t=>y-t:t=>t,S=g?t=>w-t:t=>t,L=(t,e)=>Math.ceil(h*S(~~((w-0)/(M-v)*(M-e-v)))+P(~~((y-0)/(x-f)*(t-f))));t.buildKDTree(),t.directTouch=!1;for(let t=0;t<d;t++){const o=p[~~((s-0)/(m.length-4)*t*4)],i=new Uint8ClampedArray(e(o));m.set(i,4*L(o.x,o.y))}i.putImageData(new ImageData(m,h,c),0,0),n?n.attr(Object.assign(Object.assign({},o),{href:r.toDataURL()})):t.image=a.renderer.image(r.toDataURL()).attr(o).add(t.group)}}else n.width===o.width&&n.height===o.height||n.attr(o)}else(s.enabled||t._hasPointMarkers)&&(l.prototype.drawPoints.call(t),t.points.forEach((e=>{e.graphic&&(e.graphic[t.chart.styledMode?"css":"animate"](t.colorAttribs(e)),null===e.value&&e.graphic.addClass("highcharts-null-point"))})))}getContext(){const{canvas:t,context:e}=this;return t&&e?(e.clearRect(0,0,t.width,t.height),e):(this.canvas=a.createElement("canvas"),this.context=this.canvas.getContext("2d")||void 0)}getExtremes(){const{dataMin:t,dataMax:e}=l.prototype.getExtremes.call(this,this.valueData);return g(t)&&(this.valueMin=t),g(e)&&(this.valueMax=e),l.prototype.getExtremes.call(this)}getValidPoints(t,e){return l.prototype.getValidPoints.call(this,t,e,!0)}hasData(){return!!this.processedXData.length}init(){super.init.apply(this,arguments);const t=this.options;t.pointRange=b(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1,c.ellipse=c.circle,t.marker&&g(t.borderRadius)&&(t.marker.r=t.borderRadius)}markerAttribs(t,e){const s=t.shapeArgs||{};if(t.hasImage)return{x:t.plotX,y:t.plotY};if(e&&"normal"!==e){var o=t.options.marker||{};return t=(t=this.options.marker||{}).states&&t.states[e]||{},e=((o=o.states&&o.states[e]||{}).width||t.width||s.width||0)+(o.widthPlus||t.widthPlus||0),t=(o.height||t.height||s.height||0)+(o.heightPlus||t.heightPlus||0),{x:(s.x||0)+((s.width||0)-e)/2,y:(s.y||0)+((s.height||0)-t)/2,width:e,height:t}}return s}pointAttribs(e,s){const o=l.prototype.pointAttribs.call(this,e,s),i=this.options||{};var r=this.chart.options.plotOptions||{},n=r.series||{};const a=r.heatmap||{};return r=e&&e.options.borderColor||i.borderColor||a.borderColor||n.borderColor,n=e&&e.options.borderWidth||i.borderWidth||a.borderWidth||n.borderWidth||o["stroke-width"],o.stroke=e&&e.marker&&e.marker.lineColor||i.marker&&i.marker.lineColor||r||this.color,o["stroke-width"]=n,s&&"normal"!==s&&(e=f(i.states&&i.states[s],i.marker&&i.marker.states&&i.marker.states[s],e&&e.options.states&&e.options.states[s]||{}),o.fill=e.color||t.parse(o.fill).brighten(e.brightness||0).get(),o.stroke=e.lineColor||o.stroke),o}translate(){const{borderRadius:t,marker:e}=this.options,s=e&&e.symbol||"rect",o=c[s]?s:"rect",i=-1!==["circle","square"].indexOf(o);this.generatePoints(),this.points.forEach((function(e){const r=e.getCellAttributes();let n=Math.min(r.x1,r.x2);var a=Math.min(r.y1,r.y2);let l=Math.max(Math.abs(r.x2-r.x1),0),h=Math.max(Math.abs(r.y2-r.y1),0);e.hasImage=0===(e.marker&&e.marker.symbol||s||"").indexOf("url"),i&&(a=Math.abs(l-h),n=Math.min(r.x1,r.x2)+(l<h?0:a/2),a=Math.min(r.y1,r.y2)+(l<h?a/2:0),l=h=Math.min(l,h)),e.hasImage&&(e.marker={width:l,height:h}),e.plotX=e.clientX=(r.x1+r.x2)/2,e.plotY=(r.y1+r.y2)/2,e.shapeType="path",e.shapeArgs=f(!0,{x:n,y:a,width:l,height:h},{d:c[o](n,a,l,h,{r:g(t)?t:0})})})),m(this,"afterTranslate")}}return x.defaultOptions=f(p.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,interpolation:!1,nullColor:"#f7f7f7",dataLabels:{formatter:function(){const{numberFormatter:t}=this.series.chart,{value:e}=this.point;return g(e)?t(e,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:"allow",padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}},legendSymbol:"rectangle"}),u(x.prototype,{axisTypes:e.seriesMembers.axisTypes,colorKey:e.seriesMembers.colorKey,directTouch:!0,getExtremesFromAll:!0,parallelArrays:e.seriesMembers.parallelArrays,pointArrayMap:["y","value"],pointClass:o,specialGroup:"group",trackerGroups:e.seriesMembers.trackerGroups,alignDataLabel:h.prototype.alignDataLabel,colorAttribs:e.seriesMembers.colorAttribs,getSymbol:l.prototype.getSymbol}),e.compose(x),i.registerSeriesType("heatmap",x),x})),e(t,"masters/modules/map.src.js",[t["Core/Globals.js"],t["Core/Axis/Color/ColorAxis.js"],t["Series/MapBubble/MapBubbleSeries.js"],t["Core/Chart/MapChart.js"],t["Maps/MapView.js"],t["Maps/Projection.js"]],(function(t,e,s,o,i,r){t.ColorAxis=e,t.MapChart=o,t.mapChart=t.Map=o.mapChart,t.MapView=i,t.maps=o.maps,t.Projection=r,e.compose(t.Chart,t.Fx,t.Legend,t.Series),s.compose(t.Axis,t.Chart,t.Legend,t.Series)}))},t.exports?(r.default=r,t.exports=r):(o=[s(8840)],void 0===(i=function(t){return r(t),r.Highcharts=t,r}.apply(e,o))||(t.exports=i))}}]);
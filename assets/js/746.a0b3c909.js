(self.webpackChunkpier_doc=self.webpackChunkpier_doc||[]).push([[746],{2746:(t,e,o)=>{var r,i,a;a=function(t){"use strict";var e=t?t._modules:{};function o(t,e,o,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,o),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}o(e,"Extensions/SeriesLabel/SeriesLabelDefaults.js",[],(function(){return{enabled:!0,connectorAllowed:!1,connectorNeighbourDistance:24,format:void 0,formatter:void 0,minFontSize:null,maxFontSize:null,onArea:null,style:{fontSize:"0.8em",fontWeight:"bold"},useHTML:!1,boxesToAvoid:[]}})),o(e,"Extensions/SeriesLabel/SeriesLabelUtilities.js",[],(function(){function t(t,e,o,r,i,a){let n=(a-e)*(o-t)-(r-e)*(i-t);return n>0||!(n<0)}function e(e,o,r,i,a,n,s,l){return t(e,o,a,n,s,l)!==t(r,i,a,n,s,l)&&t(e,o,r,i,a,n)!==t(e,o,r,i,s,l)}return{boxIntersectLine:function(t,o,r,i,a,n,s,l){return e(t,o,t+r,o,a,n,s,l)||e(t+r,o,t+r,o+i,a,n,s,l)||e(t,o+i,t+r,o+i,a,n,s,l)||e(t,o,t,o+i,a,n,s,l)},intersectRect:function(t,e){return!(e.left>t.right||e.right<t.left||e.top>t.bottom||e.bottom<t.top)}}})),o(e,"Extensions/SeriesLabel/SeriesLabel.js",[e["Core/Animation/AnimationUtilities.js"],e["Core/Templating.js"],e["Core/Defaults.js"],e["Core/Globals.js"],e["Extensions/SeriesLabel/SeriesLabelDefaults.js"],e["Extensions/SeriesLabel/SeriesLabelUtilities.js"],e["Core/Utilities.js"]],(function(t,e,o,r,i,a,n){let{animObject:s}=t,{format:l}=e,{setOptions:h}=o,{composed:c}=r,{boxIntersectLine:p,intersectRect:u}=a,{addEvent:d,extend:f,fireEvent:x,isNumber:b,pick:m,pushUnique:g,syncTimeout:y}=n;function X(t,e,o,r,i){let a,n,s,l,h,c,d,f=t.chart,x=t.options.label||{},b=m(x.onArea,!!t.area),g=b||x.connectorAllowed,y=f.boxesToAvoid,X=Number.MAX_VALUE,w=Number.MAX_VALUE;for(c=0;y&&c<y.length;c+=1)if(u(y[c],{left:e,right:e+r.width,top:o,bottom:o+r.height}))return!1;for(c=0;c<f.series.length;c+=1){let u=f.series[c],m=u.interpolatedPoints&&[...u.interpolatedPoints];if(u.visible&&m){let c=f.plotHeight/10;for(let t=f.plotTop;t<=f.plotTop+f.plotHeight;t+=c)m.unshift({chartX:f.plotLeft,chartY:t}),m.push({chartX:f.plotLeft+f.plotWidth,chartY:t});for(d=1;d<m.length;d+=1){if(m[d].chartX>=e-16&&m[d-1].chartX<=e+r.width+16){if(p(e,o,r.width,r.height,m[d-1].chartX,m[d-1].chartY,m[d].chartX,m[d].chartY))return!1;t===u&&!s&&i&&(s=p(e-16,o-16,r.width+32,r.height+32,m[d-1].chartX,m[d-1].chartY,m[d].chartX,m[d].chartY))}(g||s)&&(t!==u||b)&&(X=Math.min(X,(l=e+r.width/2-m[d].chartX)*l+(h=o+r.height/2-m[d].chartY)*h))}if(!b&&g&&t===u&&(i&&!s||X<Math.pow(x.connectorNeighbourDistance||1,2))){for(d=1;d<m.length;d+=1)(a=Math.min(Math.pow(e+r.width/2-m[d].chartX,2)+Math.pow(o+r.height/2-m[d].chartY,2),Math.pow(e-m[d].chartX,2)+Math.pow(o-m[d].chartY,2),Math.pow(e+r.width-m[d].chartX,2)+Math.pow(o-m[d].chartY,2),Math.pow(e+r.width-m[d].chartX,2)+Math.pow(o+r.height-m[d].chartY,2),Math.pow(e-m[d].chartX,2)+Math.pow(o+r.height-m[d].chartY,2)))<w&&(w=a,n=m[d]);s=!0}}}return(!i||!!s)&&{x:e,y:o,weight:X-(n?w:0),connectorPoint:n}}function w(t){if(this.renderer){let e=this,o=s(e.renderer.globalAnimation).duration;e.labelSeries=[],e.labelSeriesMaxSum=0,e.seriesLabelTimer&&n.clearTimeout(e.seriesLabelTimer),e.series.forEach((function(r){let i=r.options.label||{},a=r.labelBySeries,n=a&&a.closest;i.enabled&&r.visible&&(r.graph||r.area)&&!r.boosted&&e.labelSeries&&(e.labelSeries.push(r),i.minFontSize&&i.maxFontSize&&r.yData&&(r.sum=r.yData.reduce(((t,e)=>(t||0)+(e||0)),0),e.labelSeriesMaxSum=Math.max(e.labelSeriesMaxSum||0,r.sum||0)),"load"===t.type&&(o=Math.max(o,s(r.options.animation).duration)),n&&(void 0!==n[0].plotX?a.animate({x:n[0].plotX+n[1],y:n[0].plotY+n[2]}):a.attr({opacity:0})))})),e.seriesLabelTimer=y((function(){e.series&&e.labelSeries&&function(t){t.boxesToAvoid=[];let e=t.labelSeries||[],o=t.boxesToAvoid;t.series.forEach((t=>(t.points||[]).forEach((e=>(e.dataLabels||[]).forEach((e=>{let{width:r,height:i}=e.getBBox(),a=(e.translateX||0)+(t.xAxis?t.xAxis.pos:t.chart.plotLeft),n=(e.translateY||0)+(t.yAxis?t.yAxis.pos:t.chart.plotTop);o.push({left:a,top:n,right:a+r,bottom:n+i})})))))),e.forEach((function(t){let e=t.options.label||{};t.interpolatedPoints=function(t){let e,o,r,i,a;if(!t.xAxis&&!t.yAxis)return;let n=t.points,s=[],l=t.graph||t.area,h=l&&l.element,c=t.chart.inverted,p=t.xAxis,u=t.yAxis,d=c?u.pos:p.pos,f=c?p.pos:u.pos,x=c?p.len:u.len,g=c?u.len:p.len,y=m((t.options.label||{}).onArea,!!t.area),X=u.getThreshold(t.options.threshold),w={},S=c?"chartCenterX":"chartCenterY";function Y(t){let e=Math.round((t.plotX||0)/8)+","+Math.round((t.plotY||0)/8);w[e]||(w[e]=1,s.push(t))}if(t.getPointSpline&&h&&h.getPointAtLength&&!y&&n.length<(t.chart.plotSizeX||0)/16){let t=l.toD&&l.attr("d");for(l.toD&&l.attr({d:l.toD}),r=h.getTotalLength(),e=0;e<r;e+=16){let t=h.getPointAtLength(e),o=c?g-t.y:t.x,r=c?x-t.x:t.y;Y({chartX:d+o,chartY:f+r,plotX:o,plotY:r})}t&&l.attr({d:t});let o=n[n.length-1].pos();Y({chartX:d+(o?.[0]||0),chartY:f+(o?.[1]||0)})}else{let t;for(e=0,r=n.length;e<r;e+=1){let r=n[e],[s,l]=r.pos()||[],{plotHigh:h}=r;if(b(s)&&b(l)){let e={plotX:s,plotY:l,chartX:d+s,chartY:f+l};if(y&&(h&&(e.plotY=h,e.chartY=f+h),c?e.chartCenterX=d+g-((h||r.plotY||0)+m(r.yBottom,X))/2:e.chartCenterY=f+((h||l)+m(r.yBottom,X))/2),t&&(o=Math.max(Math.abs(e.chartX-t.chartX),Math.abs(e.chartY-t.chartY)))>16)for(a=1,i=Math.ceil(o/16);a<i;a+=1)Y({chartX:t.chartX+(e.chartX-t.chartX)*(a/i),chartY:t.chartY+(e.chartY-t.chartY)*(a/i),[S]:(t[S]||0)+((e[S]||0)-(t[S]||0))*(a/i),plotX:(t.plotX||0)+(s-(t.plotX||0))*(a/i),plotY:(t.plotY||0)+(l-(t.plotY||0))*(a/i)});Y(e),t=e}}}return s}(t),o.push(...e.boxesToAvoid||[])})),t.series.forEach((function(e){let o=e.options.label;if(!o||!e.xAxis&&!e.yAxis)return;let r,i,a,n,h,c,p,u,d,x="highcharts-color-"+m(e.colorIndex,"none"),b=!e.labelBySeries,g=o.minFontSize,y=o.maxFontSize,w=t.inverted,S=w?e.yAxis.pos:e.xAxis.pos,Y=w?e.xAxis.pos:e.yAxis.pos,M=t.inverted?e.yAxis.len:e.xAxis.len,A=t.inverted?e.xAxis.len:e.yAxis.len,L=e.interpolatedPoints,v=m(o.onArea,!!e.area),E=[],T=e.xData||[],C=e.labelBySeries;function P(t,e,o){let r=Math.max(S,m(u,-1/0)),i=Math.min(S+M,m(d,1/0));return t>r&&t<=i-o.width&&e>=Y&&e<=Y+A-o.height}function j(){C&&(e.labelBySeries=C.destroy())}if(v&&!w&&(p=[e.xAxis.toPixels(T[0]),e.xAxis.toPixels(T[T.length-1])],u=Math.min.apply(Math,p),d=Math.max.apply(Math,p)),e.visible&&!e.boosted&&L){if(!C){let r=e.name;if("string"==typeof o.format?r=l(o.format,e,t):o.formatter&&(r=o.formatter.call(e)),e.labelBySeries=C=t.renderer.label(r,0,0,"connector",0,0,o.useHTML).addClass("highcharts-series-label highcharts-series-label-"+e.index+" "+(e.options.className||"")+" "+x),!t.renderer.styledMode){let r="string"==typeof e.color?e.color:"#666666";C.css(f({color:v?t.renderer.getContrast(r):r},o.style||{})),C.attr({opacity:t.renderer.forExport?1:0,stroke:e.color,"stroke-width":1})}g&&y&&C.css({fontSize:g+(e.sum||0)/(e.chart.labelSeriesMaxSum||0)*(y-g)+"px"}),C.attr({padding:0,zIndex:3}).add()}for((r=C.getBBox()).width=Math.round(r.width),h=L.length-1;h>0;h-=1)v?P(i=(L[h].chartCenterX??L[h].chartX)-r.width/2,a=(L[h].chartCenterY??L[h].chartY)-r.height/2,r)&&(c=X(e,i,a,r)):(P(i=L[h].chartX+3,a=L[h].chartY-r.height-3,r)&&(c=X(e,i,a,r,!0)),c&&E.push(c),P(i=L[h].chartX+3,a=L[h].chartY+3,r)&&(c=X(e,i,a,r,!0)),c&&E.push(c),P(i=L[h].chartX-r.width-3,a=L[h].chartY+3,r)&&(c=X(e,i,a,r,!0)),c&&E.push(c),P(i=L[h].chartX-r.width-3,a=L[h].chartY-r.height-3,r)&&(c=X(e,i,a,r,!0))),c&&E.push(c);if(o.connectorAllowed&&!E.length&&!v)for(i=S+M-r.width;i>=S;i-=16)for(a=Y;a<Y+A-r.height;a+=16)(n=X(e,i,a,r,!0))&&E.push(n);if(E.length){E.sort(((t,e)=>e.weight-t.weight)),c=E[0],(t.boxesToAvoid||[]).push({left:c.x,right:c.x+r.width,top:c.y,bottom:c.y+r.height});let o=Math.sqrt(Math.pow(Math.abs(c.x-(C.x||0)),2)+Math.pow(Math.abs(c.y-(C.y||0)),2));if(o&&e.labelBySeries){let r,i={opacity:t.renderer.forExport?1:0,x:c.x,y:c.y},a={opacity:1};o<=10&&(a={x:i.x,y:i.y},i={}),b&&(r=s(e.options.animation),r.duration*=.2),e.labelBySeries.attr(f(i,{anchorX:c.connectorPoint&&(c.connectorPoint.plotX||0)+S,anchorY:c.connectorPoint&&(c.connectorPoint.plotY||0)+Y})).animate(a,r),e.options.kdNow=!0,e.buildKDTree();let n=e.searchPoint({chartX:c.x,chartY:c.y},!0);n&&(C.closest=[n,c.x-(n.plotX||0),c.y-(n.plotY||0)])}}else j()}else j()})),x(t,"afterDrawSeriesLabels")}(e)}),e.renderer.forExport||!o?0:o)}}function S(t,e,o,r,i){let a,n,s=i&&i.anchorX,l=i&&i.anchorY,h=o/2;return b(s)&&b(l)&&(a=[["M",s,l]],(n=e-l)<0&&(n=-r-n),n<o&&(h=s<t+o/2?n:o-n),l>e+r?a.push(["L",t+h,e+r]):l<e?a.push(["L",t+h,e]):s<t?a.push(["L",t,e+r/2]):s>t+o&&a.push(["L",t+o,e+r/2])),a||[]}return{compose:function(t,e){g(c,"SeriesLabel")&&(d(t,"load",w),d(t,"redraw",w),e.prototype.symbols.connector=S,h({plotOptions:{series:{label:i}}}))}}})),o(e,"masters/modules/series-label.src.js",[e["Core/Globals.js"],e["Extensions/SeriesLabel/SeriesLabel.js"]],(function(t,e){return e.compose(t.Chart,t.SVGRenderer),t}))},t.exports?(a.default=a,t.exports=a):(r=[o(4783)],void 0===(i=function(t){return a(t),a.Highcharts=t,a}.apply(e,r))||(t.exports=i))}}]);
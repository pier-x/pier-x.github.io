"use strict";(self.webpackChunkpier_doc=self.webpackChunkpier_doc||[]).push([[814],{4814:(t,e,i)=>{var s,o,a;a=function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i),"function"==typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:e,module:t[e]}})))}e(t=t?t._modules:{},"Extensions/Pane.js",[t["Core/Chart/Chart.js"],t["Series/CenteredUtilities.js"],t["Core/Globals.js"],t["Core/Pointer.js"],t["Core/Utilities.js"]],(function(t,e,i,s,o){function a(t,e,i,s,o){let a=!0;const r=i[0],h=i[1],p=Math.sqrt(Math.pow(t-r,2)+Math.pow(e-h,2));return l(s)&&l(o)&&(t=Math.atan2(n(e-h,8),n(t-r,8)),o!==s&&(a=s>o?t>=s&&t<=Math.PI||t<=o&&t>=-Math.PI:t>=s&&t<=n(o,8))),p<=Math.ceil(i[2]/2)&&a}const{addEvent:r,correctFloat:n,defined:l,extend:h,merge:p,pick:d,splat:c}=o;return t.prototype.collectionsWithUpdate.push("pane"),t.prototype.getHoverPane=function(t){const e=this;let i;return t&&e.pane.forEach((s=>{a(t.chartX-e.plotLeft,t.chartY-e.plotTop,s.center)&&(i=s)})),i},r(t,"afterIsInsidePlot",(function(t){this.polar&&(t.options.inverted&&([t.x,t.y]=[t.y,t.x]),t.isInsidePlot=this.pane.some((e=>a(t.x,t.y,e.center,e.axis&&e.axis.normalizedStartAngleRad,e.axis&&e.axis.normalizedEndAngleRad))))})),r(s,"beforeGetHoverData",(function(t){const e=this.chart;e.polar?(e.hoverPane=e.getHoverPane(t),t.filter=function(i){return i.visible&&!(!t.shared&&i.directTouch)&&d(i.options.enableMouseTracking,!0)&&(!e.hoverPane||i.xAxis.pane===e.hoverPane)}):e.hoverPane=void 0})),r(s,"afterGetHoverData",(function(t){const e=this.chart;t.hoverPoint&&t.hoverPoint.plotX&&t.hoverPoint.plotY&&e.hoverPane&&!a(t.hoverPoint.plotX,t.hoverPoint.plotY,e.hoverPane.center)&&(t.hoverPoint=void 0)})),i.Pane=class{constructor(t,e){this.options=this.chart=this.center=this.background=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(t,e)}init(t,e){this.chart=e,this.background=[],e.pane.push(this),this.setOptions(t)}setOptions(t){this.options=p(this.defaultOptions,this.chart.angular?{background:{}}:void 0,t)}render(){var t=this.options;let e=this.options.background;var i=this.chart.renderer;if(this.group||(this.group=i.g("pane-group").attr({zIndex:t.zIndex||0}).add()),this.updateCenter(),e)for(e=c(e),t=Math.max(e.length,this.background.length||0),i=0;i<t;i++)e[i]&&this.axis?this.renderBackground(p(this.defaultBackgroundOptions,e[i]),i):this.background[i]&&(this.background[i]=this.background[i].destroy(),this.background.splice(i,1))}renderBackground(t,e){let i="animate",s={class:"highcharts-pane "+(t.className||"")};this.chart.styledMode||h(s,{fill:t.backgroundColor,stroke:t.borderColor,"stroke-width":t.borderWidth}),this.background[e]||(this.background[e]=this.chart.renderer.path().add(this.group),i="attr"),this.background[e][i]({d:this.axis.getPlotBandPath(t.from,t.to,t)}).attr(s)}updateCenter(t){this.center=(t||this.axis||{}).center=e.getCenter.call(this)}update(t,e){p(!0,this.options,t),this.setOptions(this.options),this.render(),this.chart.axes.forEach((function(t){t.pane===this&&(t.pane=null,t.update({},e))}),this)}},i.Pane})),e(t,"Series/AreaRange/AreaRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{area:{prototype:{pointClass:i,pointClass:{prototype:s}}}}=t.seriesTypes,{defined:o,isNumber:a}=e;return class extends i{constructor(){super(...arguments),this.series=this.plotX=this.options=this.low=this.high=void 0}setState(){const t=this.state,e=this.series,i=e.chart.polar;o(this.plotHigh)||(this.plotHigh=e.yAxis.toPixels(this.high,!0)),o(this.plotLow)||(this.plotLow=this.plotY=e.yAxis.toPixels(this.low,!0)),e.stateMarkerGraphic&&(e.lowerStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.upperStateMarkerGraphic),this.graphic=this.graphics&&this.graphics[1],this.plotY=this.plotHigh,i&&a(this.plotHighX)&&(this.plotX=this.plotHighX),s.setState.apply(this,arguments),this.state=t,this.plotY=this.plotLow,this.graphic=this.graphics&&this.graphics[0],i&&a(this.plotLowX)&&(this.plotX=this.plotLowX),e.stateMarkerGraphic&&(e.upperStateMarkerGraphic=e.stateMarkerGraphic,e.stateMarkerGraphic=e.lowerStateMarkerGraphic,e.lowerStateMarkerGraphic=void 0),s.setState.apply(this,arguments)}haloPath(){const t=this.series.chart.polar;let e=[];return this.plotY=this.plotLow,t&&a(this.plotLowX)&&(this.plotX=this.plotLowX),this.isInside&&(e=s.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,t&&a(this.plotHighX)&&(this.plotX=this.plotHighX),this.isTopInside&&(e=e.concat(s.haloPath.apply(this,arguments))),e}isValid(){return a(this.low)&&a(this.high)}}})),e(t,"Series/AreaRange/AreaRangeSeries.js",[t["Series/AreaRange/AreaRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s){({noop:e}=e);const{area:o,area:{prototype:a},column:{prototype:r}}=i.seriesTypes,{addEvent:n,defined:l,extend:h,isArray:p,isNumber:d,pick:c,merge:u}=s;class g extends o{constructor(){super(...arguments),this.xAxis=this.lowerStateMarkerGraphic=this.points=this.options=this.data=void 0}toYData(t){return[t.low,t.high]}highToXY(t){const e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX||0,this.yAxis.len-(t.plotHigh||0));t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop,t.plotLowX=t.plotX}getGraphPath(t){var e=[],i=[];const s=a.getGraphPath;var o=this.options;const r=this.chart.polar,n=r&&!1!==o.connectEnds,l=o.connectNulls;let h,p,d,u=o.step;for(h=(t=t||this.points).length;h--;){p=t[h];const s=r?{plotX:p.rectPlotX,plotY:p.yBottom,doCurve:!1}:{plotX:p.plotX,plotY:p.plotY,doCurve:!1};p.isNull||n||l||t[h+1]&&!t[h+1].isNull||i.push(s),d={polarPlotY:p.polarPlotY,rectPlotX:p.rectPlotX,yBottom:p.yBottom,plotX:c(p.plotHighX,p.plotX),plotY:p.plotHigh,isNull:p.isNull},i.push(d),e.push(d),p.isNull||n||l||t[h-1]&&!t[h-1].isNull||i.push(s)}return t=s.call(this,t),u&&(!0===u&&(u="left"),o.step={left:"right",center:"center",right:"left"}[u]),e=s.call(this,e),i=s.call(this,i),o.step=u,o=[].concat(t,e),!this.chart.polar&&i[0]&&"M"===i[0][0]&&(i[0]=["L",i[0][1],i[0][2]]),this.graphPath=o,this.areaPath=t.concat(i),o.isArea=!0,o.xMap=t.xMap,this.areaPath.xMap=t.xMap,o}drawDataLabels(){const t=this.points,e=t.length,i=[],s=this.options.dataLabels,o=this.chart.inverted;let r,n,l,d,c;if(s){if(p(s)?(d=s[0]||{enabled:!1},c=s[1]||{enabled:!1}):(d=h({},s),d.x=s.xHigh,d.y=s.yHigh,c=h({},s),c.x=s.xLow,c.y=s.yLow),d.enabled||this._hasPointLabels){for(r=e;r--;)if(n=t[r]){const{plotHigh:t=0,plotLow:e=0}=n;l=d.inside?t<e:t>e,n.y=n.high,n._plotY=n.plotY,n.plotY=t,i[r]=n.dataLabel,n.dataLabel=n.dataLabelUpper,n.below=l,o?d.align||(d.align=l?"right":"left"):d.verticalAlign||(d.verticalAlign=l?"top":"bottom")}for(this.options.dataLabels=d,a.drawDataLabels&&a.drawDataLabels.apply(this,arguments),r=e;r--;)(n=t[r])&&(n.dataLabelUpper=n.dataLabel,n.dataLabel=i[r],delete n.dataLabels,n.y=n.low,n.plotY=n._plotY)}if(c.enabled||this._hasPointLabels){for(r=e;r--;)if(n=t[r]){const{plotHigh:t=0,plotLow:e=0}=n;l=c.inside?t<e:t>e,n.below=!l,o?c.align||(c.align=l?"left":"right"):c.verticalAlign||(c.verticalAlign=l?"bottom":"top")}this.options.dataLabels=c,a.drawDataLabels&&a.drawDataLabels.apply(this,arguments)}if(d.enabled)for(r=e;r--;)(n=t[r])&&(n.dataLabels=[n.dataLabelUpper,n.dataLabel].filter((function(t){return!!t})));this.options.dataLabels=s}}alignDataLabel(){r.alignDataLabel.apply(this,arguments)}drawPoints(){const t=this.points.length;let e,i;for(a.drawPoints.apply(this,arguments),e=0;e<t;)i=this.points[e],i.graphics=i.graphics||[],i.origProps={plotY:i.plotY,plotX:i.plotX,isInside:i.isInside,negative:i.negative,zone:i.zone,y:i.y},(i.graphic||i.graphics[0])&&(i.graphics[0]=i.graphic),i.graphic=i.graphics[1],i.plotY=i.plotHigh,l(i.plotHighX)&&(i.plotX=i.plotHighX),i.y=c(i.high,i.origProps.y),i.negative=i.y<(this.options.threshold||0),this.zones.length&&(i.zone=i.getZone()),this.chart.polar||(i.isInside=i.isTopInside=void 0!==i.plotY&&0<=i.plotY&&i.plotY<=this.yAxis.len&&0<=i.plotX&&i.plotX<=this.xAxis.len),e++;for(a.drawPoints.apply(this,arguments),e=0;e<t;)i=this.points[e],i.graphics=i.graphics||[],(i.graphic||i.graphics[1])&&(i.graphics[1]=i.graphic),i.graphic=i.graphics[0],i.origProps&&(h(i,i.origProps),delete i.origProps),e++}}return g.defaultOptions=u(o.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),n(g,"afterTranslate",(function(){"low,high"===this.pointArrayMap.join(",")&&this.points.forEach((t=>{const e=t.high,i=t.plotY;t.isNull?t.plotY=void 0:(t.plotLow=i,t.plotHigh=d(e)?this.yAxis.translate(this.dataModify?this.dataModify.modifyValue(e):e,!1,!0,void 0,!0):void 0,this.dataModify&&(t.yBottom=t.plotHigh))}))}),{order:0}),n(g,"afterTranslate",(function(){this.points.forEach((t=>{if(this.chart.polar)this.highToXY(t),t.plotLow=t.plotY,t.tooltipPos=[((t.plotHighX||0)+(t.plotLowX||0))/2,((t.plotHigh||0)+(t.plotLow||0))/2];else{const e=t.pos(!1,t.plotLow),i=t.pos(!1,t.plotHigh);e&&i&&(e[0]=(e[0]+i[0])/2,e[1]=(e[1]+i[1])/2),t.tooltipPos=e}}))}),{order:3}),h(g.prototype,{deferTranslatePolar:!0,pointArrayMap:["low","high"],pointClass:t,pointValKey:"low",setStackedPoints:e}),i.registerSeriesType("arearange",g),g})),e(t,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[t["Series/AreaRange/AreaRangeSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){const{spline:{prototype:s}}=e.seriesTypes,{merge:o,extend:a}=i;class r extends t{constructor(){super(...arguments),this.points=this.data=this.options=void 0}}return r.defaultOptions=o(t.defaultOptions),a(r.prototype,{getPointSpline:s.getPointSpline}),e.registerSeriesType("areasplinerange",r),r})),e(t,"Series/BoxPlot/BoxPlotSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s){({noop:e}=e);const{extend:o,merge:a,pick:r}=s;class n extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}pointAttribs(){return{}}translate(){const t=this.yAxis,e=this.pointArrayMap;super.translate.apply(this),this.points.forEach((function(i){e.forEach((function(e){null!==i[e]&&(i[e+"Plot"]=t.translate(i[e],0,1,0,1))})),i.plotHigh=i.highPlot}))}drawPoints(){let t,e,i,s,o,a,n,l,h,p,d,c=this,u=c.options,g=c.chart,b=g.renderer,f=0,m=!1!==c.doQuartiles,y=c.options.whiskerLength;c.points.forEach((function(x){var v=x.graphic;let P=v?"animate":"attr",S=x.shapeArgs,M={},L={},k={},C={},w=x.color||c.color;void 0!==x.plotY&&(n=Math.round(S.width),l=Math.floor(S.x),h=l+n,p=Math.round(n/2),t=Math.floor(m?x.q1Plot:x.lowPlot),e=Math.floor(m?x.q3Plot:x.lowPlot),i=Math.floor(x.highPlot),s=Math.floor(x.lowPlot),v||(x.graphic=v=b.g("point").add(c.group),x.stem=b.path().addClass("highcharts-boxplot-stem").add(v),y&&(x.whiskers=b.path().addClass("highcharts-boxplot-whisker").add(v)),m&&(x.box=b.path(void 0).addClass("highcharts-boxplot-box").add(v)),x.medianShape=b.path(void 0).addClass("highcharts-boxplot-median").add(v)),g.styledMode||(L.stroke=x.stemColor||u.stemColor||w,L["stroke-width"]=r(x.stemWidth,u.stemWidth,u.lineWidth),L.dashstyle=x.stemDashStyle||u.stemDashStyle||u.dashStyle,x.stem.attr(L),y&&(k.stroke=x.whiskerColor||u.whiskerColor||w,k["stroke-width"]=r(x.whiskerWidth,u.whiskerWidth,u.lineWidth),k.dashstyle=x.whiskerDashStyle||u.whiskerDashStyle||u.dashStyle,x.whiskers.attr(k)),m&&(M.fill=x.fillColor||u.fillColor||w,M.stroke=u.lineColor||w,M["stroke-width"]=u.lineWidth||0,M.dashstyle=x.boxDashStyle||u.boxDashStyle||u.dashStyle,x.box.attr(M)),C.stroke=x.medianColor||u.medianColor||w,C["stroke-width"]=r(x.medianWidth,u.medianWidth,u.lineWidth),C.dashstyle=x.medianDashStyle||u.medianDashStyle||u.dashStyle,x.medianShape.attr(C)),a=x.stem.strokeWidth()%2/2,f=l+p+a,v=[["M",f,e],["L",f,i],["M",f,t],["L",f,s]],x.stem[P]({d:v}),m&&(a=x.box.strokeWidth()%2/2,t=Math.floor(t)+a,e=Math.floor(e)+a,l+=a,h+=a,v=[["M",l,e],["L",l,t],["L",h,t],["L",h,e],["L",l,e],["Z"]],x.box[P]({d:v})),y&&(a=x.whiskers.strokeWidth()%2/2,i+=a,s+=a,d=/%$/.test(y)?p*parseFloat(y)/100:y/2,v=[["M",f-d,i],["L",f+d,i],["M",f-d,s],["L",f+d,s]],x.whiskers[P]({d:v})),o=Math.round(x.medianPlot),a=x.medianShape.strokeWidth()%2/2,o+=a,v=[["M",l,o],["L",h,o]],x.medianShape[P]({d:v}))}))}toYData(t){return[t.low,t.q1,t.median,t.q3,t.high]}}return n.defaultOptions=a(t.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b>{series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),o(n.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:e,setStackedPoints:e}),i.registerSeriesType("boxplot",n),n})),e(t,"Series/Bubble/BubbleLegendDefaults.js",[],(function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"0.9em",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}})),e(t,"Series/Bubble/BubbleLegendItem.js",[t["Core/Color/Color.js"],t["Core/Templating.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,i,s){const{parse:o}=t,{noop:a}=i,{arrayMax:r,arrayMin:n,isNumber:l,merge:h,pick:p,stableSort:d}=s;return class{constructor(t,e){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legend=this.chart=void 0,this.setState=a,this.init(t,e)}init(t,e){this.options=t,this.visible=!0,this.chart=e.chart,this.legend=e}addToLegend(t){t.splice(this.options.legendIndex,0,this)}drawLegendSymbol(t){const e=p(t.options.itemDistance,20),i=this.legendItem||{},s=this.options;var o=s.ranges,a=s.connectorDistance;if(o&&o.length&&l(o[0].value)){d(o,(function(t,e){return e.value-t.value})),this.ranges=o,this.setOptions(),this.render(),t=this.getMaxLabelSize();var r=this.ranges[0].radius;o=2*r,a=0<(a=a-r+t.width)?a:0,this.maxLabel=t,this.movementX="left"===s.labels.align?a:0,i.labelWidth=o+a+e,i.labelHeight=o+t.height/2}else t.options.bubbleLegend.autoRanges=!0}setOptions(){const t=this.ranges,e=this.options,i=this.chart.series[e.seriesIndex],s=this.legend.baseline,a={zIndex:e.zIndex,"stroke-width":e.borderWidth},r={zIndex:e.zIndex,"stroke-width":e.connectorWidth},n={align:this.legend.options.rtl||"left"===e.labels.align?"right":"left",zIndex:e.zIndex},l=i.options.marker.fillOpacity,d=this.chart.styledMode;t.forEach((function(c,u){d||(a.stroke=p(c.borderColor,e.borderColor,i.color),a.fill=p(c.color,e.color,1!==l?o(i.color).setOpacity(l).get("rgba"):i.color),r.stroke=p(c.connectorColor,e.connectorColor,i.color)),t[u].radius=this.getRangeRadius(c.value),t[u]=h(t[u],{center:t[0].radius-t[u].radius+s}),d||h(!0,t[u],{bubbleAttribs:h(a),connectorAttribs:h(r),labelAttribs:n})}),this)}getRangeRadius(t){const e=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,e.ranges[e.ranges.length-1].value,e.ranges[0].value,e.minSize,e.maxSize,t)}render(){const t=this.legendItem||{},e=this.chart.renderer,i=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),t.symbol=e.g("bubble-legend"),t.label=e.g("bubble-legend-item").css(this.legend.itemStyle||{}),t.symbol.translateX=0,t.symbol.translateY=0,t.symbol.add(t.label),t.label.add(t.group);for(const s of this.ranges)s.value>=i&&this.renderRange(s);this.hideOverlappingLabels()}renderRange(t){var e=this.options;const i=e.labels;var s=this.chart;const o=s.series[e.seriesIndex],a=s.renderer,r=this.symbols;s=r.labels;const n=t.center,l=Math.abs(t.radius);var h=e.connectorDistance||0;const p=i.align,d=e.connectorWidth,c=this.ranges[0].radius||0,u=n-l-e.borderWidth/2+d/2,g=a.styledMode;h=this.legend.options.rtl||"left"===p?-h:h,"center"===p&&(h=0,e.connectorDistance=0,t.labelAttribs.align="center"),r.bubbleItems.push(a.circle(c,n+((u%1?1:.5)-(d%2?0:.5)),l).attr(g?{}:t.bubbleAttribs).addClass((g?"highcharts-color-"+o.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(e.className||"")).add(this.legendItem.symbol)),r.connectors.push(a.path(a.crispLine([["M",c,u],["L",c+h,u]],e.connectorWidth)).attr(g?{}:t.connectorAttribs).addClass((g?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(e.connectorClassName||"")).add(this.legendItem.symbol)),t=a.text(this.formatLabel(t)).attr(g?{}:t.labelAttribs).css(g?{}:i.style).addClass("highcharts-bubble-legend-labels "+(e.labels.className||"")).add(this.legendItem.symbol),e={x:c+h+e.labels.x,y:u+e.labels.y+.4*t.getBBox().height},t.attr(e),s.push(t),t.placed=!0,t.alignAttr=e}getMaxLabelSize(){let t,e;return this.symbols.labels.forEach((function(i){e=i.getBBox(!0),t=t?e.width>t.width?e:t:e})),t||{}}formatLabel(t){var i=this.options;const s=i.labels.formatter;i=i.labels.format;const{numberFormatter:o}=this.chart;return i?e.format(i,t):s?s.call(t):o(t.value,1)}hideOverlappingLabels(){const t=this.chart,e=this.symbols;!this.options.labels.allowOverlap&&e&&(t.hideOverlappingLabels(e.labels),e.labels.forEach((function(t,i){t.newOpacity?t.newOpacity!==t.oldOpacity&&e.connectors[i].show():e.connectors[i].hide()})))}getRanges(){const t=this.legend.bubbleLegend,e=t.options.ranges;let i,s,o=Number.MAX_VALUE,a=-Number.MAX_VALUE;return t.chart.series.forEach((function(t){t.isBubble&&!t.ignoreSeries&&(s=t.zData.filter(l),s.length&&(o=p(t.options.zMin,Math.min(o,Math.max(n(s),!1===t.options.displayNegative?t.options.zThreshold:-Number.MAX_VALUE))),a=p(t.options.zMax,Math.max(a,r(s)))))})),i=o===a?[{value:a}]:[{value:o},{value:(o+a)/2},{value:a,autoRanges:!0}],e.length&&e[0].radius&&i.reverse(),i.forEach((function(t,s){e&&e[s]&&(i[s]=h(e[s],t))})),i}predictBubbleSizes(){var t=this.chart,e=t.legend.options,i=e.floating;const s=(e="horizontal"===e.layout)?t.legend.lastLineHeight:0,o=t.plotSizeX,a=t.plotSizeY;var r=t.series[this.options.seriesIndex],n=r.getPxExtremes();t=Math.ceil(n.minPxSize),n=Math.ceil(n.maxPxSize);const l=Math.min(a,o);return r=r.options.maxSize,i||!/%$/.test(r)?i=n:(i=(l+s)*(r=parseFloat(r))/100/(r/100+1),(e&&a-i>=o||!e&&o-i>=a)&&(i=n)),[t,Math.ceil(i)]}updateRanges(t,e){const i=this.legend.options.bubbleLegend;i.minSize=t,i.maxSize=e,i.ranges=this.getRanges()}correctSizes(){const t=this.legend,e=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(e.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,e.maxPxSize),t.render())}}})),e(t,"Series/Bubble/BubbleLegendComposition.js",[t["Series/Bubble/BubbleLegendDefaults.js"],t["Series/Bubble/BubbleLegendItem.js"],t["Core/Defaults.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function o(t,e,i){const s=this.legend;var o=0<=a(this);let n,l;s&&s.options.enabled&&s.bubbleLegend&&s.options.bubbleLegend.autoRanges&&o?(n=s.bubbleLegend.options,o=s.bubbleLegend.predictBubbleSizes(),s.bubbleLegend.updateRanges(o[0],o[1]),n.placed||(s.group.placed=!1,s.allItems.forEach((t=>{l=t.legendItem||{},l.group&&(l.group.translateY=null)}))),s.render(),this.getMargins(),this.axes.forEach((function(t){t.visible&&t.render(),n.placed||(t.setScale(),t.updateNames(),c(t.ticks,(function(t){t.isNew=!0,t.isNewLabel=!0})))})),n.placed=!0,this.getMargins(),t.call(this,e,i),s.bubbleLegend.correctSizes(),h(s,r(s))):(t.call(this,e,i),s&&s.options.enabled&&s.bubbleLegend&&(s.render(),h(s,r(s))))}function a(t){t=t.series;let e=0;for(;e<t.length;){if(t[e]&&t[e].isBubble&&t[e].visible&&t[e].zData.length)return e;e++}return-1}function r(t){const e=[],i=(t=t.allItems).length;let s,o,a=0;for(o=0;o<i;o++){var r=t[o].legendItem||{};if(s=(t[o+1]||{}).legendItem||{},r.labelHeight&&(t[o].itemHeight=r.labelHeight),t[o]===t[i-1]||r.y!==s.y){for(e.push({height:0}),r=e[e.length-1];a<=o;a++)t[a].itemHeight>r.height&&(r.height=t[a].itemHeight);r.step=o}}return e}function n(t){const i=this.bubbleLegend,s=this.options,o=s.bubbleLegend,r=a(this.chart);i&&i.ranges&&i.ranges.length&&(o.ranges.length&&(o.autoRanges=!!o.ranges[0].autoRanges),this.destroyItem(i)),0<=r&&s.enabled&&o.enabled&&(o.seriesIndex=r,this.bubbleLegend=new e(o,this),this.bubbleLegend.addToLegend(t.allItems))}function l(t){if(t.defaultPrevented)return!1;var e=this.chart;t=this.visible;const i=this.chart.legend;i&&i.bubbleLegend&&(this.visible=!t,this.ignoreSeries=t,e=0<=a(e),i.bubbleLegend.visible!==e&&(i.update({bubbleLegend:{enabled:e}}),i.bubbleLegend.visible=e),this.visible=t)}function h(t,e){const i=t.options.rtl;let s,o,a,r,n=0;t.allItems.forEach(((t,l)=>{r=t.legendItem||{},r.group&&(s=r.group.translateX||0,o=r.y||0,((a=t.movementX)||i&&t.ranges)&&(a=i?s-t.options.maxSize/2:s+a,r.group.attr({translateX:a})),l>e[n].step&&n++,r.group.attr({translateY:Math.round(o+e[n].height/2)}),r.y=o+e[n].height/2)}))}const{setOptions:p}=i,{addEvent:d,objectEach:c,wrap:u}=s,g=[];return{compose:function(e,i,a){s.pushUnique(g,e)&&(p({legend:{bubbleLegend:t}}),u(e.prototype,"drawChartBox",o)),s.pushUnique(g,i)&&d(i,"afterGetAllItems",n),s.pushUnique(g,a)&&d(a,"legendItemClick",l)}}})),e(t,"Series/Bubble/BubblePoint.js",[t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){({seriesTypes:{scatter:{prototype:{pointClass:e}}}}=e),({extend:i}=i);class s extends e{constructor(){super(...arguments),this.series=this.options=void 0}haloPath(e){return t.prototype.haloPath.call(this,0===e?0:(this.marker&&this.marker.radius||0)+e)}}return i(s.prototype,{ttBelow:!1}),s})),e(t,"Series/Bubble/BubbleSeries.js",[t["Series/Bubble/BubbleLegendComposition.js"],t["Series/Bubble/BubblePoint.js"],t["Core/Color/Color.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s,o,a){function r(){const t=this.len,e=this.chart,i=this.isXAxis,s=i?"xData":"yData",o=this.min,a=this.max-o;let r,n=0,l=t,h=t/a;this.series.forEach((t=>{if(t.bubblePadding&&(t.visible||!e.options.chart.ignoreHiddenSeries)){r=this.allowZoomOutside=!0;const e=t[s];if(i&&((t.onPoint||t).getRadii(0,0,t),t.onPoint&&(t.radii=t.onPoint.radii)),0<a){let i=e.length;for(;i--;)if(f(e[i])&&this.dataMin<=e[i]&&e[i]<=this.max){const s=t.radii&&t.radii[i]||0;n=Math.min((e[i]-o)*h-s,n),l=Math.max((e[i]-o)*h+s,l)}}}})),r&&0<a&&!this.logarithmic&&(l-=t,h*=(t+Math.max(0,n)-Math.min(l,t))/t,[["min","userMin",n],["max","userMax",l]].forEach((t=>{void 0===y(this.options[t[0]],this[t[1]])&&(this[t[0]]+=t[2]/h)})))}const{parse:n}=i;({noop:i}=s);const{series:l,seriesTypes:{column:{prototype:h},scatter:p}}=o,{addEvent:d,arrayMax:c,arrayMin:u,clamp:g,extend:b,isNumber:f,merge:m,pick:y}=a,x=[];class v extends p{constructor(){super(...arguments),this.zData=this.yData=this.radii=this.points=this.options=this.minPxSize=this.maxPxSize=this.data=void 0}static compose(e,i,s,o){t.compose(i,s,o),a.pushUnique(x,e)&&(e.prototype.beforePadding=r)}animate(t){!t&&this.points.length<this.options.animationLimit&&this.points.forEach((function(t){const{graphic:e}=t;e&&e.width&&(this.hasRendered||e.attr({x:t.plotX,y:t.plotY,width:1,height:1}),e.animate(this.markerAttribs(t),this.options.animation))}),this)}getRadii(){const t=this.zData,e=this.yData,i=[];let s,o,a,r=this.chart.bubbleZExtremes;const{minPxSize:n,maxPxSize:l}=this.getPxExtremes();if(!r){let t,e=Number.MAX_VALUE,i=-Number.MAX_VALUE;this.chart.series.forEach((s=>{s.bubblePadding&&(s.visible||!this.chart.options.chart.ignoreHiddenSeries)&&(s=(s.onPoint||s).getZExtremes())&&(e=Math.min(y(e,s.zMin),s.zMin),i=Math.max(y(i,s.zMax),s.zMax),t=!0)})),t?(r={zMin:e,zMax:i},this.chart.bubbleZExtremes=r):r={zMin:0,zMax:0}}for(o=0,s=t.length;o<s;o++)a=t[o],i.push(this.getRadius(r.zMin,r.zMax,n,l,a,e&&e[o]));this.radii=i}getRadius(t,e,i,s,o,a){const r=this.options,n="width"!==r.sizeBy,l=r.zThreshold;let h=e-t,p=.5;if(null===a||null===o)return null;if(f(o)){if(r.sizeByAbsoluteValue&&(o=Math.abs(o-l),h=Math.max(e-l,Math.abs(t-l)),t=0),o<t)return i/2-1;0<h&&(p=(o-t)/h)}return n&&0<=p&&(p=Math.sqrt(p)),Math.ceil(i+p*(s-i))/2}hasData(){return!!this.processedXData.length}pointAttribs(t,e){const i=this.options.marker.fillOpacity;return t=l.prototype.pointAttribs.call(this,t,e),1!==i&&(t.fill=n(t.fill).setOpacity(i).get("rgba")),t}translate(){super.translate.call(this),this.getRadii(),this.translateBubble()}translateBubble(){const{data:t,options:e,radii:i}=this,{minPxSize:s}=this.getPxExtremes();let o=t.length;for(;o--;){const a=t[o],r=i?i[o]:0;"z"===this.zoneAxis&&(a.negative=(a.z||0)<(e.zThreshold||0)),f(r)&&r>=s/2?(a.marker=b(a.marker,{radius:r,width:2*r,height:2*r}),a.dlBox={x:a.plotX-r,y:a.plotY-r,width:2*r,height:2*r}):(a.shapeArgs=a.plotY=a.dlBox=void 0,a.isInside=!1)}}getPxExtremes(){const t=Math.min(this.chart.plotWidth,this.chart.plotHeight);var e=e=>{let i;return"string"==typeof e&&(i=/%$/.test(e),e=parseInt(e,10)),i?t*e/100:e};const i=e(y(this.options.minSize,8));return{minPxSize:i,maxPxSize:e=Math.max(e(y(this.options.maxSize,"20%")),i)}}getZExtremes(){var t=this.options;const e=(this.zData||[]).filter(f);if(e.length){const i=y(t.zMin,g(u(e),!1===t.displayNegative?t.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(t=y(t.zMax,c(e)),f(i)&&f(t))return{zMin:i,zMax:t}}}}return v.defaultOptions=m(p.defaultOptions,{dataLabels:{formatter:function(){const{numberFormatter:t}=this.series.chart,{z:e}=this.point;return f(e)?t(e,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),b(v.prototype,{alignDataLabel:h.alignDataLabel,applyZones:i,bubblePadding:!0,buildKDTree:i,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:e,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),d(v,"updatedData",(t=>{delete t.target.chart.bubbleZExtremes})),d(v,"remove",(t=>{delete t.target.chart.bubbleZExtremes})),o.registerSeriesType("bubble",v),v})),e(t,"Series/ColumnRange/ColumnRangePoint.js",[t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e){const{seriesTypes:{column:{prototype:{pointClass:{prototype:i}}},arearange:{prototype:{pointClass:s}}}}=t,{extend:o,isNumber:a}=e;class r extends s{constructor(){super(...arguments),this.series=this.options=void 0}isValid(){return a(this.low)}}return o(r.prototype,{setState:i.setState}),r})),e(t,"Series/ColumnRange/ColumnRangeSeries.js",[t["Series/ColumnRange/ColumnRangePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s){({noop:e}=e);const{seriesTypes:{arearange:o,column:a,column:{prototype:r}}}=i,{addEvent:n,clamp:l,extend:h,isNumber:p,merge:d,pick:c}=s;class u extends o{setOptions(){return d(!0,arguments[0],{stacking:void 0}),o.prototype.setOptions.apply(this,arguments)}translate(){return r.translate.apply(this)}pointAttribs(){return r.pointAttribs.apply(this,arguments)}translate3dPoints(){return r.translate3dPoints.apply(this,arguments)}translate3dShapes(){return r.translate3dShapes.apply(this,arguments)}afterColumnTranslate(){const t=this.yAxis,e=this.xAxis,i=e.startAngleRad,s=this.chart,o=this.xAxis.isRadial,a=Math.max(s.chartWidth,s.chartHeight)+999;let r,n,h,u;this.points.forEach((g=>{const b=g.shapeArgs||{},f=this.options.minPointLength,m=g.plotY,y=t.translate(g.high,0,1,0,1);if(p(y)&&p(m))if(g.plotHigh=l(y,-a,a),g.plotLow=l(m,-a,a),u=g.plotHigh,r=c(g.rectPlotY,g.plotY)-g.plotHigh,Math.abs(r)<f?(n=f-r,r+=n,u-=n/2):0>r&&(r*=-1,u-=r),o&&this.polar)h=g.barX+i,g.shapeType="arc",g.shapeArgs=this.polar.arc(u+r,u,h,h+g.pointWidth);else{b.height=r,b.y=u;const{x:i=0,width:o=0}=b;g.shapeArgs=d(g.shapeArgs,this.crispCol(i,u,o,r)),g.tooltipPos=s.inverted?[t.len+t.pos-s.plotLeft-u-r/2,e.len+e.pos-s.plotTop-i-o/2,r]:[e.left-s.plotLeft+i+o/2,t.pos-s.plotTop+u+r/2,r]}}))}}return u.defaultOptions=d(a.defaultOptions,o.defaultOptions,{borderRadius:{where:"all"},pointRange:null,marker:null,states:{hover:{halo:!1}}}),n(u,"afterColumnTranslate",(function(){u.prototype.afterColumnTranslate.apply(this)}),{order:5}),h(u.prototype,{directTouch:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"],adjustForMissingColumns:r.adjustForMissingColumns,animate:r.animate,crispCol:r.crispCol,drawGraph:e,drawPoints:r.drawPoints,getSymbol:e,drawTracker:r.drawTracker,getColumnMetrics:r.getColumnMetrics}),i.registerSeriesType("columnrange",u),u})),e(t,"Series/ColumnPyramid/ColumnPyramidSeries.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){const{prototype:s}=t,{clamp:o,merge:a,pick:r}=i;class n extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}translate(){let t=this,e=t.chart,i=t.options;var a=t.dense=2>t.closestPointRange*t.xAxis.transA;a=t.borderWidth=r(i.borderWidth,a?0:1);let n=t.yAxis,l=i.threshold,h=t.translatedThreshold=n.getThreshold(l),p=r(i.minPointLength,5),d=t.getColumnMetrics(),c=d.width,u=t.barW=Math.max(c,1+2*a),g=t.pointXOffset=d.offset;e.inverted&&(h-=.5),i.pointPadding&&(u=Math.ceil(u)),s.translate.apply(t),t.points.forEach((function(s){var a=r(s.yBottom,h),d=999+Math.abs(a),b=o(s.plotY,-d,n.len+d);d=s.plotX+g;let f=u/2,m=Math.min(b,a);var y;let x,v;a=Math.max(b,a)-m,s.barX=d,s.pointWidth=c,s.tooltipPos=e.inverted?[n.len+n.pos-e.plotLeft-b,t.xAxis.len-d-f,a]:[d+f,b+n.pos-e.plotTop,a],b=l+(s.total||s.y),"percent"===i.stacking&&(b=l+(0>s.y)?-100:100),b=n.toPixels(b,!0);var P=(y=e.plotHeight-b-(e.plotHeight-h))?f*(m-b)/y:0,S=y?f*(m+a-b)/y:0;y=d-P+f,P=d+P+f;var M=d+S+f;S=d-S+f,x=m-p,v=m+a,0>s.y&&(x=m,v=m+a+p),e.inverted&&(S=f*(b-((M=n.width-m)-a))/(y=b-(n.width-h)),P=(y=d+f+(P=f*(b-M)/y))-2*P,M=d-S+f,S=d+S+f,x=m,v=m+a-p,0>s.y&&(v=m+a+p)),s.shapeType="path",s.shapeArgs={x:y,y:x,width:P-y,height:a,d:[["M",y,x],["L",P,x],["L",M,v],["L",S,v],["Z"]]}}))}}return n.defaultOptions=a(t.defaultOptions,{}),e.registerSeriesType("columnpyramid",n),n})),e(t,"Series/ErrorBar/ErrorBarSeriesDefaults.js",[],(function(){return{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}})),e(t,"Series/ErrorBar/ErrorBarSeries.js",[t["Series/BoxPlot/BoxPlotSeries.js"],t["Series/Column/ColumnSeries.js"],t["Series/ErrorBar/ErrorBarSeriesDefaults.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s,o){const{arearange:a}=s.seriesTypes,{addEvent:r,merge:n,extend:l}=o;class h extends t{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getColumnMetrics(){return this.linkedParent&&this.linkedParent.columnMetrics||e.prototype.getColumnMetrics.call(this)}drawDataLabels(){const t=this.pointValKey;a&&(a.prototype.drawDataLabels.call(this),this.data.forEach((function(e){e.y=e[t]})))}toYData(t){return[t.low,t.high]}}return h.defaultOptions=n(t.defaultOptions,i),r(h,"afterTranslate",(function(){this.points.forEach((t=>{t.plotLow=t.plotY}))}),{order:0}),l(h.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),s.registerSeriesType("errorbar",h),h})),e(t,"Series/Gauge/GaugePoint.js",[t["Core/Series/SeriesRegistry.js"]],(function(t){return({series:{prototype:{pointClass:t}}}=t),class extends t{constructor(){super(...arguments),this.shapeArgs=this.series=this.options=void 0}setState(t){this.state=t}}})),e(t,"Series/Gauge/GaugeSeries.js",[t["Series/Gauge/GaugePoint.js"],t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i,s){({noop:e}=e);const{series:o,seriesTypes:{column:a}}=i,{clamp:r,isNumber:n,extend:l,merge:h,pick:p,pInt:d,defined:c}=s;class u extends o{constructor(){super(...arguments),this.yAxis=this.options=this.points=this.data=void 0}translate(){const t=this.yAxis,e=this.options,i=t.center;this.generatePoints(),this.points.forEach((s=>{const o=h(e.dial,s.dial),a=d(o.radius)*i[2]/200,l=d(o.baseLength)*a/100,p=d(o.rearLength)*a/100,u=o.baseWidth,g=o.topWidth;let b=e.overshoot,f=t.startAngleRad+t.translate(s.y,void 0,void 0,void 0,!0);(n(b)||!1===e.wrap)&&(b=n(b)?b/180*Math.PI:0,f=r(f,t.startAngleRad-b,t.endAngleRad+b)),f=180*f/Math.PI,s.shapeType="path",s.shapeArgs={d:o.path||[["M",-p,-u/2],["L",l,-u/2],["L",a,-g/2],["L",a,g/2],["L",l,u/2],["L",-p,u/2],["Z"]],translateX:i[0],translateY:i[1],rotation:f},s.plotX=i[0],s.plotY=i[1],c(s.y)&&t.max-t.min&&(s.percentage=(s.y-t.min)/(t.max-t.min)*100)}))}drawPoints(){const t=this,e=t.chart,i=t.yAxis.center,s=t.pivot,o=t.options,a=o.pivot,r=e.renderer;t.points.forEach((i=>{const s=i.graphic,a=i.shapeArgs,n=a.d,l=h(o.dial,i.dial);s?(s.animate(a),a.d=n):i.graphic=r[i.shapeType](a).addClass("highcharts-dial").add(t.group),e.styledMode||i.graphic[s?"animate":"attr"]({stroke:l.borderColor,"stroke-width":l.borderWidth,fill:l.backgroundColor})})),s?s.animate({translateX:i[0],translateY:i[1]}):a&&(t.pivot=r.circle(0,0,a.radius).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),e.styledMode||t.pivot.attr({fill:a.backgroundColor,stroke:a.borderColor,"stroke-width":a.borderWidth}))}animate(t){const e=this;t||e.points.forEach((t=>{const i=t.graphic;i&&(i.attr({rotation:180*e.yAxis.startAngleRad/Math.PI}),i.animate({rotation:t.shapeArgs.rotation},e.options.animation))}))}render(){this.group=this.plotGroup("group","series",this.visible?"inherit":"hidden",this.options.zIndex,this.chart.seriesGroup),o.prototype.render.call(this),this.group.clip(this.chart.clipRect)}setData(t,e){o.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),p(e,!0)&&this.chart.redraw()}hasData(){return!!this.points.length}}return u.defaultOptions=h(o.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{backgroundColor:"#000000",baseLength:"70%",baseWidth:3,borderColor:"#cccccc",borderWidth:0,radius:"80%",rearLength:"10%",topWidth:1},pivot:{radius:5,borderWidth:0,borderColor:"#cccccc",backgroundColor:"#000000"},tooltip:{headerFormat:""},showInLegend:!1}),l(u.prototype,{angular:!0,directTouch:!0,drawGraph:e,drawTracker:a.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:t,trackerGroups:["group","dataLabelsGroup"]}),i.registerSeriesType("gauge",u),u})),e(t,"Series/DragNodesComposition.js",[t["Core/Utilities.js"]],(function(t){function e(){const t=this;let e,s,o;t.container&&(e=i(t.container,"mousedown",(e=>{const a=t.hoverPoint;a&&a.series&&a.series.hasDraggableNodes&&a.series.options.draggable&&(a.series.onMouseDown(a,e),s=i(t.container,"mousemove",(t=>a&&a.series&&a.series.onMouseMove(a,t))),o=i(t.container.ownerDocument,"mouseup",(t=>(s(),o(),a&&a.series&&a.series.onMouseUp(a,t)))))}))),i(t,"destroy",(function(){e()}))}const{addEvent:i}=t,s=[];return{compose:function(o){t.pushUnique(s,o)&&i(o,"load",e)},onMouseDown:function(t,e){e=this.chart.pointer.normalize(e),t.fixedPosition={chartX:e.chartX,chartY:e.chartY,plotX:t.plotX,plotY:t.plotY},t.inDragMode=!0},onMouseMove:function(t,e){if(t.fixedPosition&&t.inDragMode){const o=this.chart;e=o.pointer.normalize(e);var i=t.fixedPosition.chartX-e.chartX,s=t.fixedPosition.chartY-e.chartY;e=o.graphLayoutsLookup,(5<Math.abs(i)||5<Math.abs(s))&&(i=t.fixedPosition.plotX-i,s=t.fixedPosition.plotY-s,o.isInsidePlot(i,s)&&(t.plotX=i,t.plotY=s,t.hasDragged=!0,this.redrawHalo(t),e.forEach((t=>{t.restartSimulation()}))))}},onMouseUp:function(t,e){t.fixedPosition&&(t.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),t.inDragMode=t.hasDragged=!1,this.options.fixedDraggable||delete t.fixedPosition)},redrawHalo:function(t){t&&this.halo&&this.halo.attr({d:t.haloPath(this.options.states.hover.halo.size)})}}})),e(t,"Series/GraphLayoutComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Utilities.js"]],(function(t,e){function i(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((t=>{t.updateSimulation()})),this.redraw())}function s(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach((t=>{t.updateSimulation(!1)})),this.redraw())}function o(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach((t=>{t.stop()}))}function a(){let t,e=!1;const i=i=>{i.maxIterations--&&isFinite(i.temperature)&&!i.isStable()&&!i.enableSimulation&&(i.beforeStep&&i.beforeStep(),i.step(),t=!1,e=!0)};if(this.graphLayoutsLookup){for(r(!1,this),this.graphLayoutsLookup.forEach((t=>t.start()));!t;)t=!0,this.graphLayoutsLookup.forEach(i);e&&this.series.forEach((t=>{t&&t.layout&&t.render()}))}}const{setAnimation:r}=t,{addEvent:n}=e,l=[];return{compose:function(t){e.pushUnique(l,t)&&(n(t,"afterPrint",i),n(t,"beforePrint",s),n(t,"predraw",o),n(t,"render",a))},integrations:{},layouts:{}}})),e(t,"Series/PackedBubble/PackedBubblePoint.js",[t["Core/Chart/Chart.js"],t["Core/Series/Point.js"],t["Core/Series/SeriesRegistry.js"]],(function(t,e,i){return({seriesTypes:{bubble:{prototype:{pointClass:i}}}}=i),class extends i{constructor(){super(...arguments),this.radius=this.mass=this.degree=NaN,this.series=this.options=void 0,this.value=null}destroy(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),e.prototype.destroy.apply(this,arguments)}firePointEvent(){const t=this.series.options;if(this.isParentNode&&t.parentNode){const i=t.allowPointSelect;t.allowPointSelect=t.parentNode.allowPointSelect,e.prototype.firePointEvent.apply(this,arguments),t.allowPointSelect=i}else e.prototype.firePointEvent.apply(this,arguments)}select(){const i=this.series.chart;this.isParentNode?(i.getSelectedPoints=i.getSelectedParentNodes,e.prototype.select.apply(this,arguments),i.getSelectedPoints=t.prototype.getSelectedPoints):e.prototype.select.apply(this,arguments)}}})),e(t,"Series/PackedBubble/PackedBubbleSeriesDefaults.js",[t["Core/Utilities.js"]],(function(t){const{isNumber:e}=t;return{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){const{numberFormatter:t}=this.series.chart,{value:i}=this.point;return e(i)?t(i,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}})),e(t,"Series/Networkgraph/VerletIntegration.js",[],(function(){return{attractive:function(t,e,i){const s=t.getMass(),o=-i.x*e*this.diffTemperature;e=-i.y*e*this.diffTemperature,t.fromNode.fixedPosition||(t.fromNode.plotX-=o*s.fromNode/t.fromNode.degree,t.fromNode.plotY-=e*s.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.plotX+=o*s.toNode/t.toNode.degree,t.toNode.plotY+=e*s.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return(e-t)/t},barycenter:function(){let t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;e=(e-(this.box.left+this.box.width)/2)*t,i=(i-(this.box.top+this.box.height)/2)*t,this.nodes.forEach((function(t){t.fixedPosition||(t.plotX-=e/t.mass/t.degree,t.plotY-=i/t.mass/t.degree)}))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.5)},integrate:function(t,e){var i=-t.options.friction;let s=t.options.maxSpeed,o=(e.plotX+e.dispX-e.prevX)*i;i*=e.plotY+e.dispY-e.prevY;var a=Math.abs;let r=a(o)/(o||1);a=a(i)/(i||1),o=r*Math.min(s,Math.abs(o)),i=a*Math.min(s,Math.abs(i)),e.prevX=e.plotX+e.dispX,e.prevY=e.plotY+e.dispY,e.plotX+=o,e.plotY+=i,e.temperature=t.vectorLength({x:o,y:i})},repulsive:function(t,e,i){e=e*this.diffTemperature/t.mass/t.degree,t.fixedPosition||(t.plotX+=i.x*e,t.plotY+=i.y*e)},repulsiveForceFunction:function(t,e){return(e-t)/t*(e>t?1:0)}}})),e(t,"Series/PackedBubble/PackedBubbleIntegration.js",[t["Core/Globals.js"],t["Series/Networkgraph/VerletIntegration.js"]],(function(t,e){return({noop:t}=t),{barycenter:function(){const t=this.options.gravitationalConstant,e=this.box,i=this.nodes;let s,o;for(const a of i)this.options.splitSeries&&!a.isParentNode?(s=a.series.parentNode.plotX,o=a.series.parentNode.plotY):(s=e.width/2,o=e.height/2),a.fixedPosition||(a.plotX-=(a.plotX-s)*t/(a.mass*Math.sqrt(i.length)),a.plotY-=(a.plotY-o)*t/(a.mass*Math.sqrt(i.length)))},getK:t,integrate:e.integrate,repulsive:function(t,e,i,s){const o=e*this.diffTemperature/t.mass/t.degree;e=i.x*o,i=i.y*o,t.fixedPosition||(t.plotX+=e,t.plotY+=i),s.fixedPosition||(s.plotX-=e,s.plotY-=i)},repulsiveForceFunction:function(t,e,i,s){return Math.min(t,(i.marker.radius+s.marker.radius)/2)}}})),e(t,"Series/Networkgraph/EulerIntegration.js",[],(function(){return{attractive:function(t,e,i,s){const o=t.getMass(),a=i.x/s*e;e*=i.y/s,t.fromNode.fixedPosition||(t.fromNode.dispX-=a*o.fromNode/t.fromNode.degree,t.fromNode.dispY-=e*o.fromNode/t.fromNode.degree),t.toNode.fixedPosition||(t.toNode.dispX+=a*o.toNode/t.toNode.degree,t.toNode.dispY+=e*o.toNode/t.toNode.degree)},attractiveForceFunction:function(t,e){return t*t/e},barycenter:function(){const t=this.options.gravitationalConstant,e=this.barycenter.xFactor,i=this.barycenter.yFactor;this.nodes.forEach((function(s){if(!s.fixedPosition){var o=s.getDegree();o*=1+o/2,s.dispX+=(e-s.plotX)*t*o/s.degree,s.dispY+=(i-s.plotY)*t*o/s.degree}}))},getK:function(t){return Math.pow(t.box.width*t.box.height/t.nodes.length,.3)},integrate:function(t,e){let i;e.dispX+=e.dispX*t.options.friction,e.dispY+=e.dispY*t.options.friction,i=e.temperature=t.vectorLength({x:e.dispX,y:e.dispY}),0!==i&&(e.plotX+=e.dispX/i*Math.min(Math.abs(e.dispX),t.temperature),e.plotY+=e.dispY/i*Math.min(Math.abs(e.dispY),t.temperature))},repulsive:function(t,e,i,s){t.dispX+=i.x/s*e/t.degree,t.dispY+=i.y/s*e/t.degree},repulsiveForceFunction:function(t,e){return e*e/t}}})),e(t,"Series/Networkgraph/QuadTreeNode.js",[],(function(){class t{constructor(t){this.isInternal=this.isEmpty=this.body=!1,this.nodes=[],this.box=t,this.boxSize=Math.min(t.width,t.height)}divideBox(){const e=this.box.width/2,i=this.box.height/2;this.nodes[0]=new t({left:this.box.left,top:this.box.top,width:e,height:i}),this.nodes[1]=new t({left:this.box.left+e,top:this.box.top,width:e,height:i}),this.nodes[2]=new t({left:this.box.left+e,top:this.box.top+i,width:e,height:i}),this.nodes[3]=new t({left:this.box.left,top:this.box.top+i,width:e,height:i})}getBoxPosition(t){const e=t.plotY<this.box.top+this.box.height/2;return t.plotX<this.box.left+this.box.width/2?e?0:3:e?1:2}insert(e,i){this.isInternal?this.nodes[this.getBoxPosition(e)].insert(e,i-1):(this.isEmpty=!1,this.body?i?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,i-1),this.body=!0),this.nodes[this.getBoxPosition(e)].insert(e,i-1)):((i=new t({top:e.plotX||NaN,left:e.plotY||NaN,width:.1,height:.1})).body=e,i.isInternal=!1,this.nodes.push(i)):(this.isInternal=!1,this.body=e))}updateMassAndCenter(){let t=0,e=0,i=0;if(this.isInternal){for(const s of this.nodes)s.isEmpty||(t+=s.mass,e+=s.plotX*s.mass,i+=s.plotY*s.mass);e/=t,i/=t}else this.body&&(t=this.body.mass,e=this.body.plotX,i=this.body.plotY);this.mass=t,this.plotX=e,this.plotY=i}}return t})),e(t,"Series/Networkgraph/QuadTree.js",[t["Series/Networkgraph/QuadTreeNode.js"]],(function(t){return class{constructor(e,i,s,o){this.box={left:e,top:i,width:s,height:o},this.maxDepth=25,this.root=new t(this.box),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}calculateMassAndCenter(){this.visitNodeRecursive(null,null,(function(t){t.updateMassAndCenter()}))}insertNodes(t){for(const e of t)this.root.insert(e,this.maxDepth)}visitNodeRecursive(t,e,i){let s;if(t||(t=this.root),t===this.root&&e&&(s=e(t)),!1!==s){for(const o of t.nodes){if(o.isInternal){if(e&&(s=e(o)),!1===s)continue;this.visitNodeRecursive(o,e,i)}else o.body&&e&&e(o.body);i&&i(o)}t===this.root&&i&&i(t)}}}})),e(t,"Series/Networkgraph/ReingoldFruchtermanLayout.js",[t["Series/Networkgraph/EulerIntegration.js"],t["Core/Globals.js"],t["Series/GraphLayoutComposition.js"],t["Series/Networkgraph/QuadTree.js"],t["Core/Utilities.js"],t["Series/Networkgraph/VerletIntegration.js"]],(function(t,e,i,s,o,a){const{win:r}=e,{clamp:n,defined:l,isFunction:h,fireEvent:p,pick:d}=o;class c{constructor(){this.attractiveForce=void 0,this.box={},this.currentStep=0,this.initialRendering=!0,this.integration=void 0,this.links=[],this.nodes=[],this.repulsiveForce=this.quadTree=this.options=void 0,this.series=[],this.simulation=!1}static compose(e){i.compose(e),i.integrations.euler=t,i.integrations.verlet=a,i.layouts["reingold-fruchterman"]=c}init(t){this.options=t,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=i.integrations[t.integration],this.enableSimulation=t.enableSimulation,this.attractiveForce=d(t.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=d(t.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=t.approximation}updateSimulation(t){this.enableSimulation=d(t,this.options.enableSimulation)}start(){const t=this.series,e=this.options;this.currentStep=0,this.forces=t[0]&&t[0].forces||[],this.chart=t[0]&&t[0].chart,this.initialRendering&&(this.initPositions(),t.forEach((function(t){t.finishedAnimating=!0,t.render()}))),this.setK(),this.resetSimulation(e),this.enableSimulation&&this.step()}step(){const t=this.series;this.currentStep++,"barnes-hut"===this.approximation&&(this.createQuadTree(),this.quadTree.calculateMassAndCenter());for(const e of this.forces||[])this[e+"Forces"](this.temperature);if(this.applyLimits(),this.temperature=this.coolDown(this.startTemperature,this.diffTemperature,this.currentStep),this.prevSystemTemperature=this.systemTemperature,this.systemTemperature=this.getSystemTemperature(),this.enableSimulation){for(const e of t)e.chart&&e.render();this.maxIterations--&&isFinite(this.temperature)&&!this.isStable()?(this.simulation&&r.cancelAnimationFrame(this.simulation),this.simulation=r.requestAnimationFrame((()=>this.step()))):(this.simulation=!1,this.series.forEach((t=>{p(t,"afterSimulation")})))}}stop(){this.simulation&&r.cancelAnimationFrame(this.simulation)}setArea(t,e,i,s){this.box={left:t,top:e,width:i,height:s}}setK(){this.k=this.options.linkLength||this.integration.getK(this)}addElementsToCollection(t,e){for(const i of t)-1===e.indexOf(i)&&e.push(i)}removeElementFromCollection(t,e){-1!==(t=e.indexOf(t))&&e.splice(t,1)}clear(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()}resetSimulation(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()}restartSimulation(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))}setMaxIterations(t){this.maxIterations=d(t,this.options.maxIterations)}setTemperature(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)}setDiffTemperature(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)}setInitialRendering(t){this.initialRendering=t}createQuadTree(){this.quadTree=new s(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)}initPositions(){const t=this.options.initialPositions;if(h(t)){t.call(this);for(const t of this.nodes)l(t.prevX)||(t.prevX=t.plotX),l(t.prevY)||(t.prevY=t.plotY),t.dispX=0,t.dispY=0}else"circle"===t?this.setCircularPositions():this.setRandomPositions()}setCircularPositions(){const t=this.box;var e=this.nodes;const i=2*Math.PI/(e.length+1),s=e.filter((function(t){return 0===t.linksTo.length})),o={},a=this.options.initialPositionRadius,r=t=>{for(const e of t.linksFrom||[])o[e.toNode.id]||(o[e.toNode.id]=!0,n.push(e.toNode),r(e.toNode))};let n=[];for(const l of s)n.push(l),r(l);if(n.length)for(const l of e)-1===n.indexOf(l)&&n.push(l);else n=e;for(let l=0,h=n.length;l<h;++l)(e=n[l]).plotX=e.prevX=d(e.plotX,t.width/2+a*Math.cos(l*i)),e.plotY=e.prevY=d(e.plotY,t.height/2+a*Math.sin(l*i)),e.dispX=0,e.dispY=0}setRandomPositions(){const t=this.box,e=this.nodes,i=e.length+1,s=t=>(t=t*t/Math.PI)-Math.floor(t);let o;for(let a=0,r=e.length;a<r;++a)o=e[a],o.plotX=o.prevX=d(o.plotX,t.width*s(a)),o.plotY=o.prevY=d(o.plotY,t.height*s(i+a)),o.dispX=0,o.dispY=0}force(t,...e){this.integration[t].apply(this,e)}barycenterForces(){this.getBarycenter(),this.force("barycenter")}getBarycenter(){let t=0,e=0,i=0;for(const s of this.nodes)e+=s.plotX*s.mass,i+=s.plotY*s.mass,t+=s.mass;return this.barycenter={x:e,y:i,xFactor:e/t,yFactor:i/t}}barnesHutApproximation(t,e){const i=this.getDistXY(t,e),s=this.vectorLength(i);let o,a;return t!==e&&0!==s&&(e.isInternal?e.boxSize/s<this.options.theta&&0!==s?(a=this.repulsiveForce(s,this.k),this.force("repulsive",t,a*e.mass,i,s),o=!1):o=!0:(a=this.repulsiveForce(s,this.k),this.force("repulsive",t,a*e.mass,i,s))),o}repulsiveForces(){if("barnes-hut"===this.approximation)for(const t of this.nodes)this.quadTree.visitNodeRecursive(null,(e=>this.barnesHutApproximation(t,e)));else{let t,e,i;for(const s of this.nodes)for(const o of this.nodes)s===o||s.fixedPosition||(i=this.getDistXY(s,o),e=this.vectorLength(i),0!==e&&(t=this.repulsiveForce(e,this.k),this.force("repulsive",s,t*o.mass,i,e)))}}attractiveForces(){let t,e,i;for(const s of this.links)s.fromNode&&s.toNode&&(t=this.getDistXY(s.fromNode,s.toNode),e=this.vectorLength(t),0!==e&&(i=this.attractiveForce(e,this.k),this.force("attractive",s,i,t,e)))}applyLimits(){const t=this.nodes;for(const e of t){if(e.fixedPosition)break;this.integration.integrate(this,e),this.applyLimitBox(e,this.box),e.dispX=0,e.dispY=0}}applyLimitBox(t,e){const i=t.radius;t.plotX=n(t.plotX,e.left+i,e.width-i),t.plotY=n(t.plotY,e.top+i,e.height-i)}coolDown(t,e,i){return t-e*i}isStable(){return 1e-5>Math.abs(this.systemTemperature-this.prevSystemTemperature)||0>=this.temperature}getSystemTemperature(){let t=0;for(const e of this.nodes)t+=e.temperature;return t}vectorLength(t){return Math.sqrt(t.x*t.x+t.y*t.y)}getDistR(t,e){return t=this.getDistXY(t,e),this.vectorLength(t)}getDistXY(t,e){const i=t.plotX-e.plotX;return{x:i,y:t=t.plotY-e.plotY,absX:Math.abs(i),absY:Math.abs(t)}}}return c})),e(t,"Series/PackedBubble/PackedBubbleLayout.js",[t["Series/GraphLayoutComposition.js"],t["Series/PackedBubble/PackedBubbleIntegration.js"],t["Series/Networkgraph/ReingoldFruchtermanLayout.js"],t["Core/Utilities.js"]],(function(t,e,i,s){function o(){const t=[];return this.series.forEach((e=>{e.parentNode&&e.parentNode.selected&&t.push(e.parentNode)})),t}function a(){this.allDataPoints&&delete this.allDataPoints}const{addEvent:r,pick:n}=s,l=[];class h extends i{constructor(){super(...arguments),this.index=NaN,this.nodes=[],this.options=void 0,this.series=[]}static compose(n){i.compose(n),t.integrations.packedbubble=e,t.layouts.packedbubble=h,s.pushUnique(l,n)&&(r(n,"beforeRedraw",a),n.prototype.getSelectedParentNodes=o)}beforeStep(){this.options.marker&&this.series.forEach((t=>{t&&t.calculateParentRadius()}))}isStable(){const t=Math.abs(this.prevSystemTemperature-this.systemTemperature);return 1>Math.abs(10*this.systemTemperature/Math.sqrt(this.nodes.length))&&1e-5>t||0>=this.temperature}setCircularPositions(){const t=this.box;var e=this.nodes;const i=2*Math.PI/(e.length+1),s=this.options.initialPositionRadius;let o,a=0;for(const r of e)this.options.splitSeries&&!r.isParentNode?(e=r.series.parentNode.plotX,o=r.series.parentNode.plotY):(e=t.width/2,o=t.height/2),r.plotX=r.prevX=n(r.plotX,e+s*Math.cos(r.index||a*i)),r.plotY=r.prevY=n(r.plotY,o+s*Math.sin(r.index||a*i)),r.dispX=0,r.dispY=0,a++}repulsiveForces(){const t=this,e=t.options.bubblePadding;let i,s,o;t.nodes.forEach((a=>{a.degree=a.mass,a.neighbours=0,t.nodes.forEach((r=>{i=0,a===r||a.fixedPosition||!t.options.seriesInteraction&&a.series!==r.series||(o=t.getDistXY(a,r),s=t.vectorLength(o)-(a.marker.radius+r.marker.radius+e),0>s&&(a.degree+=.01,a.neighbours++,i=t.repulsiveForce(-s/Math.sqrt(a.neighbours),t.k,a,r)),t.force("repulsive",a,i*r.mass,o,r,s))}))}))}applyLimitBox(t,e){let i,s;this.options.splitSeries&&!t.isParentNode&&this.options.parentNodeLimit&&(i=this.getDistXY(t,t.series.parentNode),s=t.series.parentNodeRadius-t.marker.radius-this.vectorLength(i),0>s&&s>-2*t.marker.radius&&(t.plotX-=.01*i.x,t.plotY-=.01*i.y)),super.applyLimitBox(t,e)}}return t.layouts.packedbubble=h})),e(t,"Series/SimulationSeriesUtilities.js",[t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],(function(t,e){const{syncTimeout:i}=t,{animObject:s}=e;return{initDataLabels:function(){const t=this.options.dataLabels;if(!this.dataLabelsGroup){const e=this.initDataLabelsGroup();return!this.chart.styledMode&&null!=t&&t.style&&e.css(t.style),e.attr({opacity:0}),this.visible&&e.show(),e}return this.dataLabelsGroup.attr({opacity:1}),this.dataLabelsGroup},initDataLabelsDefer:function(){var t;const e=this.options.dataLabels;null!=e&&e.defer&&null!==(t=this.options.layoutAlgorithm)&&void 0!==t&&t.enableSimulation?i((()=>{this.deferDataLabels=!1}),e?s(e.animation).defer:0):this.deferDataLabels=!1}}})),e(t,"Series/PackedBubble/PackedBubbleSeries.js",[t["Core/Color/Color.js"],t["Series/DragNodesComposition.js"],t["Series/GraphLayoutComposition.js"],t["Core/Globals.js"],t["Series/PackedBubble/PackedBubblePoint.js"],t["Series/PackedBubble/PackedBubbleSeriesDefaults.js"],t["Series/PackedBubble/PackedBubbleLayout.js"],t["Core/Series/SeriesRegistry.js"],t["Series/SimulationSeriesUtilities.js"],t["Core/Utilities.js"],t["Core/Animation/AnimationUtilities.js"]],(function(t,e,i,s,o,a,r,n,l,h,p){const{parse:d}=t;({noop:t}=s);const{series:{prototype:c},seriesTypes:{bubble:u}}=n,{initDataLabels:g,initDataLabelsDefer:b}=l,{addEvent:f,clamp:m,defined:y,extend:x,fireEvent:v,isArray:P,isNumber:S,merge:M,pick:L}=h;class k extends u{constructor(){super(...arguments),this.options=this.layout=this.data=this.chart=void 0,this.parentNodeMass=0,this.xData=this.points=void 0,this.deferDataLabels=!0}static compose(t,i,s,o){u.compose(t,i,s,o),e.compose(i),r.compose(i)}accumulateAllPoints(){const t=this.chart,e=[];let i;for(const s of t.series)if(s.is("packedbubble")&&s.visible||!t.options.chart.ignoreHiddenSeries){i=s.yData||[];for(let t=0;t<i.length;t++)e.push([null,null,i[t],s.index,t,{id:t,marker:{radius:0}}])}return e}addLayout(){const t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{},e=t.type||"packedbubble",s=this.chart.options.chart;let o,a=this.chart.graphLayoutsStorage,r=this.chart.graphLayoutsLookup;a||(this.chart.graphLayoutsStorage=a={},this.chart.graphLayoutsLookup=r=[]),o=a[e],o||(t.enableSimulation=y(s.forExport)?!s.forExport:t.enableSimulation,a[e]=o=new i.layouts[e],o.init(t),r.splice(o.index,0,o)),this.layout=o,this.points.forEach((t=>{t.mass=2,t.degree=1,t.collisionNmb=1})),o.setArea(0,0,this.chart.plotWidth,this.chart.plotHeight),o.addElementsToCollection([this],o.series),o.addElementsToCollection(this.points,o.nodes)}addSeriesLayout(){var t=this.options.layoutAlgorithm=this.options.layoutAlgorithm||{};const e=t.type||"packedbubble",s=this.chart.graphLayoutsStorage,o=this.chart.graphLayoutsLookup;t=M(t,t.parentNodeOptions,{enableSimulation:this.layout.options.enableSimulation});let a=s[e+"-series"];a||(s[e+"-series"]=a=new i.layouts[e],a.init(t),o.splice(a.index,0,a)),this.parentNodeLayout=a,this.createParentNodes()}calculateParentRadius(){const t=this.seriesBox();this.parentNodeRadius=m(Math.sqrt(2*this.parentNodeMass/Math.PI)+20,20,t?Math.max(Math.sqrt(Math.pow(t.width,2)+Math.pow(t.height,2))/2+20,20):Math.sqrt(2*this.parentNodeMass/Math.PI)+20),this.parentNode&&(this.parentNode.marker.radius=this.parentNode.radius=this.parentNodeRadius)}calculateZExtremes(){let t=this.options.zMin,e=this.options.zMax,i=1/0,s=-1/0;return t&&e||(this.chart.series.forEach((t=>{t.yData.forEach((t=>{y(t)&&(t>s&&(s=t),t<i&&(i=t))}))})),t=L(t,i),e=L(e,s)),[t,e]}checkOverlap(t,e){const i=t[0]-e[0],s=t[1]-e[1];return-.001>Math.sqrt(i*i+s*s)-Math.abs(t[2]+e[2])}createParentNodes(){const t=this.pointClass,e=this.chart,i=this.parentNodeLayout,s=this.layout.options;let o,a=this.parentNode,r={radius:this.parentNodeRadius,lineColor:this.color,fillColor:d(this.color).brighten(.4).get()};s.parentNodeOptions&&(r=M(s.parentNodeOptions.marker||{},r)),this.parentNodeMass=0,this.points.forEach((t=>{this.parentNodeMass+=Math.PI*Math.pow(t.marker.radius,2)})),this.calculateParentRadius(),i.nodes.forEach((t=>{t.seriesIndex===this.index&&(o=!0)})),i.setArea(0,0,e.plotWidth,e.plotHeight),o||(a||(a=(new t).init(this,{mass:this.parentNodeRadius/2,marker:r,dataLabels:{inside:!1},states:{normal:{marker:r},hover:{marker:r}},dataLabelOnNull:!0,degree:this.parentNodeRadius,isParentNode:!0,seriesIndex:this.index})),this.parentNode&&(a.plotX=this.parentNode.plotX,a.plotY=this.parentNode.plotY),this.parentNode=a,i.addElementsToCollection([this],i.series),i.addElementsToCollection([a],i.nodes))}deferLayout(){const t=this.options.layoutAlgorithm;this.visible&&(this.addLayout(),t.splitSeries&&this.addSeriesLayout())}destroy(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach((t=>{t.removeElementFromCollection(this,t.series)}),this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),c.destroy.apply(this,arguments)}drawDataLabels(){this.deferDataLabels||(c.drawDataLabels.call(this,this.points),this.parentNode&&(this.parentNode.formatPrefix="parentNode",c.drawDataLabels.call(this,[this.parentNode])))}drawGraph(){var t;if(this.layout&&this.layout.options.splitSeries){var e=this.chart,i=this.layout.options.parentNodeOptions.marker;i={fill:i.fillColor||d(this.color).brighten(.4).get(),opacity:i.fillOpacity,stroke:i.lineColor||this.color,"stroke-width":L(i.lineWidth,this.options.lineWidth)},this.parentNodesGroup=this.plotGroup("parentNodesGroup","parentNode",this.visible?"inherit":"hidden",.1,e.seriesGroup),null===(t=this.group)||void 0===t||t.attr({zIndex:2}),this.calculateParentRadius(),this.parentNode&&y(this.parentNode.plotX)&&y(this.parentNode.plotY)&&y(this.parentNodeRadius)&&(t=M({x:this.parentNode.plotX-this.parentNodeRadius,y:this.parentNode.plotY-this.parentNodeRadius,width:2*this.parentNodeRadius,height:2*this.parentNodeRadius},i),this.parentNode.graphic||(this.graph=this.parentNode.graphic=e.renderer.symbol(i.symbol).add(this.parentNodesGroup)),this.parentNode.graphic.attr(t))}}drawTracker(){const t=this.parentNode;let e;super.drawTracker(),t&&(e=P(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[],t.graphic&&(t.graphic.element.point=t),e.forEach((e=>{e.div?e.div.point=t:e.element.point=t})))}getPointRadius(){const t=this.chart,e=this.options,i=e.useSimulation,s=Math.min(t.plotWidth,t.plotHeight),o={},a=[],r=t.allDataPoints||[],n=r.length;let l,h,p,d;["minSize","maxSize"].forEach((t=>{const i=parseInt(e[t],10),a=/%$/.test(e[t]);o[t]=a?s*i/100:i*Math.sqrt(n)})),t.minRadius=l=o.minSize/Math.sqrt(n),t.maxRadius=h=o.maxSize/Math.sqrt(n);const c=i?this.calculateZExtremes():[l,h];r.forEach(((t,e)=>{p=i?m(t[2],c[0],c[1]):t[2],d=this.getRadius(c[0],c[1],l,h,p),0===d&&(d=null),r[e][2]=d,a.push(d)})),this.radii=a}init(){return c.init.apply(this,arguments),b.call(this),this.eventsToUnbind.push(f(this,"updatedData",(function(){this.chart.series.forEach((t=>{t.type===this.type&&(t.isDirty=!0)}),this)}))),this}onMouseUp(t){const i=t;if(i.fixedPosition&&!i.removed){const t=this.layout,s=this.parentNodeLayout;let o,a;s&&t.options.dragBetweenSeries&&s.nodes.forEach((e=>{i&&i.marker&&e!==i.series.parentNode&&(o=t.getDistXY(i,e),a=t.vectorLength(o)-e.marker.radius-i.marker.radius,0>a&&(e.series.addPoint(M(i.options,{plotX:i.plotX,plotY:i.plotY}),!1),t.removeElementFromCollection(i,t.nodes),i.remove()))})),e.onMouseUp.apply(this,arguments)}}placeBubbles(t){const e=this.checkOverlap,i=this.positionBubble,s=[];let o=1,a=0,r=0;var n=[];let l;if(t=t.sort(((t,e)=>e[2]-t[2])),t.length){if(s.push([[0,0,t[0][2],t[0][3],t[0][4]]]),1<t.length)for(s.push([[0,0-t[1][2]-t[0][2],t[1][2],t[1][3],t[1][4]]]),l=2;l<t.length;l++)t[l][2]=t[l][2]||1,e(n=i(s[o][a],s[o-1][r],t[l]),s[o][0])?(s.push([]),r=0,s[o+1].push(i(s[o][a],s[o][0],t[l])),o++,a=0):1<o&&s[o-1][r+1]&&e(n,s[o-1][r+1])?(r++,s[o].push(i(s[o][a],s[o-1][r],t[l])),a++):(a++,s[o].push(n));this.chart.stages=s,this.chart.rawPositions=[].concat.apply([],s),this.resizeRadius(),n=this.chart.rawPositions}return n}pointAttribs(t,e){var i=this.options;let s=i.marker;return t&&t.isParentNode&&i.layoutAlgorithm&&i.layoutAlgorithm.parentNodeOptions&&(s=i.layoutAlgorithm.parentNodeOptions.marker),i=s.fillOpacity,t=c.pointAttribs.call(this,t,e),1!==i&&(t["fill-opacity"]=i),t}positionBubble(t,e,i){var s=Math.sqrt,o=Math.asin,a=Math.acos;const r=Math.pow,n=Math.abs;return s=s(r(t[0]-e[0],2)+r(t[1]-e[1],2)),a=a((r(s,2)+r(i[2]+e[2],2)-r(i[2]+t[2],2))/(2*(i[2]+e[2])*s)),o=o(n(t[0]-e[0])/s),t=(0>t[1]-e[1]?0:Math.PI)+a+o*(0>(t[0]-e[0])*(t[1]-e[1])?1:-1),[e[0]+(e[2]+i[2])*Math.sin(t),e[1]-(e[2]+i[2])*Math.cos(t),i[2],i[3],i[4]]}render(){const t=[];c.render.apply(this,arguments),this.options.dataLabels.allowOverlap||(this.data.forEach((e=>{P(e.dataLabels)&&e.dataLabels.forEach((e=>{t.push(e)}))})),this.options.useSimulation&&this.chart.hideOverlappingLabels(t))}resizeRadius(){const t=this.chart,e=t.rawPositions;var i=Math.min,s=Math.max;const o=t.plotLeft,a=t.plotTop,r=t.plotHeight,n=t.plotWidth;let l,h,p,d,c;l=p=Number.POSITIVE_INFINITY,h=d=Number.NEGATIVE_INFINITY;for(const u of e)c=u[2],l=i(l,u[0]-c),h=s(h,u[0]+c),p=i(p,u[1]-c),d=s(d,u[1]+c);if(s=[h-l,d-p],i=i.apply([],[(n-o)/s[0],(r-a)/s[1]]),1e-10<Math.abs(i-1)){for(const t of e)t[2]*=i;this.placeBubbles(e)}else t.diffY=r/2+a-p-(d-p)/2,t.diffX=n/2+o-l-(h-l)/2}seriesBox(){const t=this.chart,e=Math.max,i=Math.min,s=[t.plotLeft,t.plotLeft+t.plotWidth,t.plotTop,t.plotTop+t.plotHeight];let o;return this.data.forEach((t=>{y(t.plotX)&&y(t.plotY)&&t.marker.radius&&(o=t.marker.radius,s[0]=i(s[0],t.plotX-o),s[1]=e(s[1],t.plotX+o),s[2]=i(s[2],t.plotY-o),s[3]=e(s[3],t.plotY+o))})),S(s.width/s.height)?s:null}setVisible(){const t=this;c.setVisible.apply(t,arguments),t.parentNodeLayout&&t.graph?t.visible?(t.graph.show(),t.parentNode.dataLabel&&t.parentNode.dataLabel.show()):(t.graph.hide(),t.parentNodeLayout.removeElementFromCollection(t.parentNode,t.parentNodeLayout.nodes),t.parentNode.dataLabel&&t.parentNode.dataLabel.hide()):t.layout&&(t.visible?t.layout.addElementsToCollection(t.points,t.layout.nodes):t.points.forEach((e=>{t.layout.removeElementFromCollection(e,t.layout.nodes)})))}translate(){const t=this.chart,e=this.data,i=this.index,s=this.options.useSimulation;let o;if(this.processedXData=this.xData,this.generatePoints(),y(t.allDataPoints)||(t.allDataPoints=this.accumulateAllPoints(),this.getPointRadius()),s)var a=t.allDataPoints;else a=this.placeBubbles(t.allDataPoints),this.options.draggable=!1;for(const r of a)r[3]===i&&(a=e[r[4]],o=L(r[2],void 0),s||(a.plotX=r[0]-t.plotLeft+t.diffX,a.plotY=r[1]-t.plotTop+t.diffY),S(o)&&(a.marker=x(a.marker,{radius:o,width:2*o,height:2*o}),a.radius=o));s&&this.deferLayout(),v(this,"afterTranslate")}}return k.defaultOptions=M(u.defaultOptions,a),x(k.prototype,{pointClass:o,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,pointArrayMap:["value"],pointValKey:"value",requireSorting:!1,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"],initDataLabels:g,alignDataLabel:c.alignDataLabel,indexateNodes:t,onMouseDown:e.onMouseDown,onMouseMove:e.onMouseMove,redrawHalo:e.redrawHalo,searchPoint:t}),n.registerSeriesType("packedbubble",k),k})),e(t,"Series/Polygon/PolygonSeries.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],(function(t,e,i){({noop:t}=t);const{series:s,seriesTypes:{area:o,line:a,scatter:r}}=e,{extend:n,merge:l}=i;class h extends r{constructor(){super(...arguments),this.points=this.options=this.data=void 0}getGraphPath(){let t=a.prototype.getGraphPath.call(this),e=t.length+1;for(;e--;)(e===t.length||"M"===t[e][0])&&0<e&&t.splice(e,0,["Z"]);return this.areaPath=t}drawGraph(){this.options.fillColor=this.color,o.prototype.drawGraph.call(this)}}return h.defaultOptions=l(r.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0,legendSymbol:"rectangle"}),n(h.prototype,{type:"polygon",drawTracker:s.prototype.drawTracker,setStackedPoints:t}),e.registerSeriesType("polygon",h),h})),e(t,"Core/Axis/WaterfallAxis.js",[t["Core/Axis/Stacking/StackItem.js"],t["Core/Utilities.js"]],(function(t,e){const{addEvent:i,objectEach:s}=e;var o;return function(e){function o(){const t=this.waterfall.stacks;t&&(t.changed=!1,delete t.alreadyChanged)}function a(){const t=this.options.stackLabels;t&&t.enabled&&this.waterfall.stacks&&this.waterfall.renderStackTotals()}function r(){let t=this.axes,e=this.series,i=e.length;for(;i--;)e[i].options.stacking&&(t.forEach((function(t){t.isXAxis||(t.waterfall.stacks.changed=!0)})),i=0)}function n(){this.waterfall||(this.waterfall=new l(this))}class l{constructor(t){this.axis=t,this.stacks={changed:!1}}renderStackTotals(){const e=this.axis,i=e.waterfall.stacks,o=e.stacking&&e.stacking.stackTotalGroup,a=new t(e,e.options.stackLabels||{},!1,0,void 0);this.dummyStackItem=a,o&&s(i,(function(e){s(e,(function(e,i){a.total=e.stackTotal,a.x=+i,e.label&&(a.label=e.label),t.prototype.render.call(a,o),e.label=a.label,delete a.label}))})),a.total=null}}e.Composition=l,e.compose=function(t,e){i(t,"init",n),i(t,"afterBuildStacks",o),i(t,"afterRender",a),i(e,"beforeRedraw",r)}}(o||(o={})),o})),e(t,"Series/Waterfall/WaterfallPoint.js",[t["Series/Column/ColumnSeries.js"],t["Core/Series/Point.js"],t["Core/Utilities.js"]],(function(t,e,i){const{isNumber:s}=i;class o extends t.prototype.pointClass{constructor(){super(...arguments),this.series=this.options=void 0}getClassName(){let t=e.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t}isValid(){return s(this.y)||this.isSum||!!this.isIntermediateSum}}return o})),e(t,"Series/Waterfall/WaterfallSeries.js",[t["Core/Axis/Axis.js"],t["Core/Chart/Chart.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"],t["Core/Axis/WaterfallAxis.js"],t["Series/Waterfall/WaterfallPoint.js"]],(function(t,e,i,s,o,a){const{seriesTypes:{column:r,line:n}}=i,{addEvent:l,arrayMax:h,arrayMin:p,correctFloat:d,extend:c,isNumber:u,merge:g,objectEach:b,pick:f}=s;class m extends r{constructor(){super(...arguments),this.yData=this.yAxis=this.xData=this.stackKey=this.stackedYPos=this.stackedYNeg=this.points=this.options=this.data=this.chart=void 0}generatePoints(){r.prototype.generatePoints.apply(this);for(let t=0,e=this.points.length;t<e;t++){const e=this.points[t],i=this.processedYData[t];u(i)&&(e.isIntermediateSum||e.isSum)&&(e.y=d(i))}}processData(t){let e,i,s,o,a,r,n,l=this.options,h=this.yData,p=l.data,c=h.length,u=l.threshold||0;for(n=s=i=o=a=0;n<c;n++)r=h[n],e=p&&p[n]?p[n]:{},"sum"===r||e.isSum?h[n]=d(s):"intermediateSum"===r||e.isIntermediateSum?(h[n]=d(i),i=0):(s+=r,i+=r),o=Math.min(s,o),a=Math.max(s,a);super.processData.call(this,t),l.stacking||(this.dataMin=o+u,this.dataMax=a)}toYData(t){return t.isSum?"sum":t.isIntermediateSum?"intermediateSum":t.y}updateParallelArrays(t,e){super.updateParallelArrays.call(this,t,e),"sum"!==this.yData[0]&&"intermediateSum"!==this.yData[0]||(this.yData[0]=null)}pointAttribs(t,e){const i=this.options.upColor;return i&&!t.options.color&&u(t.y)&&(t.color=0<t.y?i:void 0),delete(t=r.prototype.pointAttribs.call(this,t,e)).dashstyle,t}getGraphPath(){return[["M",0,0]]}getCrispPath(){let t=this.data.filter((t=>u(t.y))),e=this.yAxis,i=t.length,s=Math.round(this.graph.strokeWidth())%2/2,o=Math.round(this.borderWidth)%2/2,a=this.xAxis.reversed,r=this.yAxis.reversed,n=this.options.stacking,l=[];for(let c=1;c<i;c++){if(!this.options.connectNulls&&!u(this.data[t[c].index-1].y))continue;var h=t[c].box,p=t[c-1];const i=p.y||0,g=t[c-1].box;if(!h||!g)continue;var d=e.waterfall.stacks[this.stackKey];const b=0<i?-g.height:0;d&&g&&h&&(d=d[c-1],p=n?Math.round(e.translate(d.connectorThreshold,!1,!0,!1,!0)+(r?b:0))-s:g.y+p.minPointLengthOffset+o-s,l.push(["M",(g.x||0)+(a?0:g.width||0),p],["L",(h.x||0)+(a&&h.width||0),p])),g&&l.length&&(!n&&0>i&&!r||0<i&&r)&&((h=l[l.length-2])&&"number"==typeof h[2]&&(h[2]+=g.height||0),(h=l[l.length-1])&&"number"==typeof h[2]&&(h[2]+=g.height||0))}return l}drawGraph(){n.prototype.drawGraph.call(this),this.graph&&this.graph.attr({d:this.getCrispPath()})}setStackedPoints(){function t(t,i,s,o){if(e){if(a)for(;s<a;s++)e.stackState[s]+=o;else e.stackState[0]=t,a=e.stackState.length;e.stackState.push(e.stackState[a-1]+i)}}let e,i,s,o,a,r,n,l,h=this.options,p=this.yAxis.waterfall.stacks,d=h.threshold||0,c=d,u=c,g=this.stackKey,b=this.xData,f=b.length;var m;let y;if(this.yAxis.stacking.usePercentage=!1,i=s=o=c,this.visible||!this.chart.options.chart.ignoreHiddenSeries){if(y=p.changed,(m=p.alreadyChanged)&&0>m.indexOf(g)&&(y=!0),p[g]||(p[g]={}),m=p[g])for(let p=0;p<f;p++){var x=b[p];m[x]&&!y||(m[x]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:y&&m[x]?m[x].label:void 0}),e=m[x],l=this.yData[p],0<=l?e.posTotal+=l:e.negTotal+=l,n=h.data[p],x=e.absolutePos=e.posTotal,r=e.absoluteNeg=e.negTotal,e.stackTotal=x+r,a=e.stackState.length,n&&n.isIntermediateSum?(t(o,s,0,o),o=s,s=d,c^=u,u^=c,c^=u):n&&n.isSum?(t(d,i,a,0),c=d):(t(c,l,0,i),n&&(i+=l,s+=l)),e.stateIndex++,e.threshold=c,c+=e.stackTotal}p.changed=!1,p.alreadyChanged||(p.alreadyChanged=[]),p.alreadyChanged.push(g)}}getExtremes(){let t,e,i=this.options.stacking;if(i){var s=this.yAxis;return s=s.waterfall.stacks,t=this.stackedYNeg=[],e=this.stackedYPos=[],b(s[this.stackKey],"overlap"===i?function(i){t.push(p(i.stackState)),e.push(h(i.stackState))}:function(i){t.push(i.negTotal+i.threshold),e.push(i.posTotal+i.threshold)}),{dataMin:p(t),dataMax:h(e)}}return{dataMin:this.dataMin,dataMax:this.dataMax}}}return m.defaultOptions=g(r.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),l(m,"afterColumnTranslate",(function(){const{options:t,points:e,yAxis:i}=this,s=f(t.minPointLength,5),o=s/2,a=t.threshold||0,r=t.stacking,n=i.waterfall.stacks[this.stackKey];let l=a,h=a;for(let f=0;f<e.length;f++){const t=e[f];var p=this.processedYData[f];const y=c({x:0,y:0,width:0,height:0},t.shapeArgs||{});t.box=y;var d=[0,p],b=t.y||0;if(r){if(n){if(d=n[f],"overlap"===r){var m=d.stackState[d.stateIndex--];m=0<=b?m:m-b,Object.hasOwnProperty.call(d,"absolutePos")&&delete d.absolutePos,Object.hasOwnProperty.call(d,"absoluteNeg")&&delete d.absoluteNeg}else 0<=b?(m=d.threshold+d.posTotal,d.posTotal-=b):(m=d.threshold+d.negTotal,d.negTotal-=b,m-=b),!d.posTotal&&u(d.absolutePos)&&Object.hasOwnProperty.call(d,"absolutePos")&&(d.posTotal=d.absolutePos,delete d.absolutePos),!d.negTotal&&u(d.absoluteNeg)&&Object.hasOwnProperty.call(d,"absoluteNeg")&&(d.negTotal=d.absoluteNeg,delete d.absoluteNeg);t.isSum||(d.connectorThreshold=d.threshold+d.stackTotal),i.reversed?p=0<=b?m-b:m+b:(p=m,m-=b),t.below=p<=a,y.y=i.translate(p,!1,!0,!1,!0),y.height=Math.abs(y.y-i.translate(m,!1,!0,!1,!0)),(m=i.waterfall.dummyStackItem)&&(m.x=f,m.label=n[f].label,m.setOffset(this.pointXOffset||0,this.barW||0,this.stackedYNeg[f],this.stackedYPos[f],void 0,this.xAxis))}}else m=Math.max(h,h+b)+d[0],y.y=i.translate(m,!1,!0,!1,!0),t.isSum?(y.y=i.translate(d[1],!1,!0,!1,!0),y.height=Math.min(i.translate(d[0],!1,!0,!1,!0),i.len)-y.y,t.below=d[1]<=a):t.isIntermediateSum?(0<=b?(p=d[1]+l,m=l):(p=l,m=d[1]+l),i.reversed&&(p^=m,p^=m^=p),y.y=i.translate(p,!1,!0,!1,!0),y.height=Math.abs(y.y-Math.min(i.translate(m,!1,!0,!1,!0),i.len)),l+=d[1],t.below=p<=a):(y.height=0<p?i.translate(h,!1,!0,!1,!0)-y.y:i.translate(h,!1,!0,!1,!0)-i.translate(h-p,!1,!0,!1,!0),h+=p,t.below=h<a),0>y.height&&(y.y+=y.height,y.height*=-1);t.plotY=y.y=Math.round(y.y||0)-this.borderWidth%2/2,y.height=Math.max(Math.round(y.height||0),.001),t.yBottom=y.y+y.height,y.height<=s&&!t.isNull?(y.height=s,y.y-=o,t.plotY=y.y,t.minPointLengthOffset=0>b?-o:o):(t.isNull&&(y.width=0),t.minPointLengthOffset=0),b=t.plotY+(t.negative?y.height:0),t.below&&(t.plotY+=y.height),t.tooltipPos&&(this.chart.inverted?t.tooltipPos[0]=i.len-b:t.tooltipPos[1]=b),t.isInside=this.isPointInside(t),g(!0,t.shapeArgs,y)}}),{order:2}),c(m.prototype,{getZonesGraphs:n.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:a}),i.registerSeriesType("waterfall",m),o.compose(t,e),m})),e(t,"Core/Axis/RadialAxis.js",[t["Core/Axis/AxisDefaults.js"],t["Core/Defaults.js"],t["Core/Globals.js"],t["Core/Utilities.js"]],(function(t,e,i,s){const{defaultOptions:o}=e,{noop:a}=i,{addEvent:r,correctFloat:n,defined:l,extend:h,fireEvent:p,merge:d,pick:c,relativeLength:u,wrap:g}=s;var b;return function(e){function i(){this.autoConnect=this.isCircular&&void 0===c(this.userMax,this.options.max)&&n(this.endAngleRad-this.startAngleRad)===n(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function b(){return()=>{if(this.isRadial&&this.tickPositions&&this.options.labels&&!0!==this.options.labels.allowOverlap)return this.tickPositions.map((t=>this.ticks[t]&&this.ticks[t].label)).filter((t=>!!t))}}function f(){return a}function m(t,e,i){const s=this.pane.center;let o,a=t.value;if(this.isCircular){if(l(a))t.point&&(r=t.point.shapeArgs||{}).start&&(a=this.chart.inverted?this.translate(t.point.rectPlotY,!0):t.point.x);else{var r=t.chartX||0;o=t.chartY||0,a=this.translate(Math.atan2(o-i,r-e)-this.startAngleRad,!0)}r=(t=this.getPosition(a)).x,o=t.y}else l(a)||(r=t.chartX,o=t.chartY),l(r)&&l(o)&&(i=s[1]+this.chart.plotTop,a=this.translate(Math.min(Math.sqrt(Math.pow(r-e,2)+Math.pow(o-i,2)),s[2]/2)-s[3]/2,!0));return[a,r||0,o||0]}function y(t,e,i){t=this.pane.center;const s=this.chart,o=this.left||0,a=this.top||0;let r=c(e,t[2]/2-this.offset);return void 0===i&&(i=this.horiz?0:this.center&&-this.center[3]/2),i&&(r+=i),this.isCircular||void 0!==e?((e=this.chart.renderer.symbols.arc(o+t[0],a+t[1],r,r,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[o+t[0]],e.yBounds=[a+t[1]-r]):(e=this.postTranslate(this.angleRad,r),e=[["M",this.center[0]+s.plotLeft,this.center[1]+s.plotTop],["L",e.x,e.y]]),e}function x(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function v(t,e,i){const s=this.chart;var o=t=>{if("string"==typeof t){let e=parseInt(t,10);return d.test(t)&&(e=e*n/100),e}return t};const a=this.center;var r=this.startAngleRad;const n=a[2]/2;var l=Math.min(this.offset,0),h=this.left||0;const p=this.top||0,d=/%$/;var u=this.isCircular;let g,b=c(o(i.outerRadius),n),f=o(i.innerRadius);return o=c(o(i.thickness),10),"polygon"===this.options.gridLineInterpolation?l=this.getPlotLinePath({value:t}).concat(this.getPlotLinePath({value:e,reverse:!0})):(t=Math.max(t,this.min),e=Math.min(e,this.max),t=this.translate(t),e=this.translate(e),u||(b=t||0,f=e||0),"circle"!==i.shape&&u?(i=r+(t||0),r+=e||0):(i=-Math.PI/2,r=1.5*Math.PI,g=!0),b-=l,l=s.renderer.symbols.arc(h+a[0],p+a[1],b,b,{start:Math.min(i,r),end:Math.max(i,r),innerR:c(f,b-(o-l)),open:g}),u&&(u=(r+i)/2,h=h+a[0]+a[2]/2*Math.cos(u),l.xBounds=u>-Math.PI/2&&u<Math.PI/2?[h,s.plotWidth]:[0,h],l.yBounds=[p+a[1]+a[2]/2*Math.sin(u)],l.yBounds[0]+=u>-Math.PI&&0>u||u>Math.PI?-10:10)),l}function P(t){var e=this.pane.center,i=this.chart;const s=i.inverted;var o=t.reverse,a=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{};const r=a.innerRadius||"0%",n=a.outerRadius||"100%";var l=e[0]+i.plotLeft,h=e[1]+i.plotTop;const p=this.height,d=t.isCrosshair;a=e[3]/2;var c=t.value;let g;var b=this.getPosition(c);let f=b.x;if(b=b.y,d&&(c=(b=this.getCrosshairPosition(t,l,h))[0],f=b[1],b=b[2]),this.isCircular)c=Math.sqrt(Math.pow(f-l,2)+Math.pow(b-h,2)),o="string"==typeof r?u(r,1):r/c,i="string"==typeof n?u(n,1):n/c,e&&a&&(o<(a/=c)&&(o=a),i<a&&(i=a)),e=[["M",l+o*(f-l),h-o*(h-b)],["L",f-(1-i)*(f-l),b+(1-i)*(h-b)]];else if((c=this.translate(c))&&(0>c||c>p)&&(c=0),"circle"===this.options.gridLineInterpolation)e=this.getLinePath(0,c,a);else if(e=[],i[s?"yAxis":"xAxis"].forEach((t=>{t.pane===this.pane&&(g=t)})),g)for(l=g.tickPositions,g.autoConnect&&(l=l.concat([l[0]])),o&&(l=l.slice().reverse()),c&&(c+=a),h=0;h<l.length;h++)a=g.getPosition(l[h],c),e.push(h?["L",a.x,a.y]:["M",a.x,a.y]);return e}function S(t,e){return t=this.translate(t),this.postTranslate(this.isCircular?t:this.angleRad,c(this.isCircular?e:0>t?0:t,this.center[2]/2)-this.offset)}function M(){const t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}function L(t){t.beforeSetTickPositions=i,t.createLabelCollector=b,t.getCrosshairPosition=m,t.getLinePath=y,t.getOffset=x,t.getPlotBandPath=v,t.getPlotLinePath=P,t.getPosition=S,t.getTitlePosition=M,t.postTranslate=Y,t.setAxisSize=I,t.setAxisTranslation=j,t.setOptions=E}function k(){var t=this.chart,e=this.options,i=this.pane,s=i&&i.options;t.angular&&this.isXAxis||!i||!t.angular&&!t.polar||(t=2*Math.PI,i=(c(s.startAngle,0)-90)*Math.PI/180,s=(c(s.endAngle,c(s.startAngle,0)+360)-90)*Math.PI/180,this.angleRad=(e.angle||0)*Math.PI/180,this.startAngleRad=i,this.endAngleRad=s,this.offset=e.offset||0,s=(s%t+t)%t,(e=(i%t+t)%t)>Math.PI&&(e-=t),s>Math.PI&&(s-=t),this.normalizedStartAngleRad=e,this.normalizedEndAngleRad=s)}function C(t){this.isRadial&&(t.align=void 0,t.preventDefault())}function w(){if(this.chart&&this.chart.labelCollectors){const t=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;0<=t&&this.chart.labelCollectors.splice(t,1)}}function A(e){const i=this.chart,s=i.inverted,o=i.angular,r=i.polar,n=this.isXAxis,l=this.coll,h=o&&n;let p;e=e.userOptions.pane||0,e=this.pane=i.pane&&i.pane[e],"colorAxis"===l?this.isRadial=!1:(o?(h?(this.isHidden=!0,this.createLabelCollector=f,this.getOffset=a,this.render=this.redraw=R,this.setTitle=this.setCategories=this.setScale=a):L(this),(p=!n)&&(this.defaultPolarOptions=O)):r&&(L(this),this.defaultPolarOptions=(p=this.horiz)?B:d("xAxis"===l?t.defaultXAxisOptions:t.defaultYAxisOptions,G),s&&"yAxis"===l&&(this.defaultPolarOptions.stackLabels=t.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),o||r?(this.isRadial=!0,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&i.labelCollectors.push(this.labelCollector)):this.isRadial=!1,e&&p&&(e.axis=this),this.isCircular=p)}function N(){this.isRadial&&this.beforeSetTickPositions()}function T(t){const e=this.label;if(e){var i=this.axis,s=e.getBBox(),o=i.options.labels,a=(i.translate(this.pos)+i.startAngleRad+Math.PI/2)/Math.PI*180%360,r=Math.round(a),n=l(o.y)?0:.3*-s.height,h=o.y,p=20,d=o.align,g="end",b=0>r?r+360:r,f=b,m=0,y=0;if(i.isRadial){var x=i.getPosition(this.pos,i.center[2]/2+u(c(o.distance,-25),i.center[2]/2,-i.center[2]/2));"auto"===o.rotation?e.attr({rotation:a}):l(h)||(h=i.chart.renderer.fontMetrics(e).b-s.height/2),l(d)||(i.isCircular?(s.width>i.len*i.tickInterval/(i.max-i.min)&&(p=0),d=a>p&&a<180-p?"left":a>180+p&&a<360-p?"right":"center"):d="center",e.attr({align:d})),"auto"===d&&2===i.tickPositions.length&&i.isCircular&&(90<b&&180>b?b=180-b:270<b&&360>=b&&(b=540-b),180<f&&360>=f&&(f=360-f),i.pane.options.startAngle!==r&&i.pane.options.startAngle!==r+360&&i.pane.options.startAngle!==r-360||(g="start"),d=-90<=r&&90>=r||-360<=r&&-270>=r||270<=r&&360>=r?"start"===g?"right":"left":"start"===g?"left":"right",70<f&&110>f&&(d="center"),15>b||180<=b&&195>b?m=.3*s.height:15<=b&&35>=b?m="start"===g?0:.75*s.height:195<=b&&215>=b?m="start"===g?.75*s.height:0:35<b&&90>=b?m="start"===g?.25*-s.height:s.height:215<b&&270>=b&&(m="start"===g?s.height:.25*-s.height),15>f?y="start"===g?.15*-s.height:.15*s.height:165<f&&180>=f&&(y="start"===g?.15*s.height:.15*-s.height),e.attr({align:d}),e.translate(y,m+n)),t.pos.x=x.x+(o.x||0),t.pos.y=x.y+(h||0)}}}function X(t){this.axis.getPosition&&h(t.pos,this.axis.getPosition(this.pos))}function Y(t,e){const i=this.chart,s=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+s[0]+Math.cos(t)*e,y:i.plotTop+s[1]+Math.sin(t)*e}}function R(){this.isDirty=!1}function I(){let t,e;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),t=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(e=this.postTranslate(this.angleRad,t[3]/2),t[0]=e.x-this.chart.plotLeft,t[1]=e.y-this.chart.plotTop),this.len=this.width=this.height=(t[2]-t[3])*c(this.sector,1)/2)}function j(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function E(t){(t=this.options=d(this.constructor.defaultOptions,this.defaultPolarOptions,o[this.coll],t)).plotBands||(t.plotBands=[]),p(this,"afterSetOptions")}function D(t,e,i,s,o,a,r){const n=this.axis;return e=n.isRadial?["M",e,i,"L",(t=n.getPosition(this.pos,n.center[2]/2+s)).x,t.y]:t.call(this,e,i,s,o,a,r)}const z=[],B={gridLineWidth:1,labels:{align:void 0,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},O={labels:{align:"center",distance:-25,x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},G={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};e.compose=function(t,e){return s.pushUnique(z,t)&&(r(t,"afterInit",k),r(t,"autoLabelAlign",C),r(t,"destroy",w),r(t,"init",A),r(t,"initialAxisTranslation",N)),s.pushUnique(z,e)&&(r(e,"afterGetLabelPosition",T),r(e,"afterGetPosition",X),g(e.prototype,"getMarkPath",D)),t}}(b||(b={})),b})),e(t,"Series/PolarComposition.js",[t["Core/Animation/AnimationUtilities.js"],t["Core/Globals.js"],t["Core/Series/Series.js"],t["Extensions/Pane.js"],t["Core/Axis/RadialAxis.js"],t["Core/Utilities.js"]],(function(t,e,i,s,o,a){function r(t,e,i,s){var o=s?1:0,a=0<=e&&e<=t.length-1?e:0>e?t.length-1+e:0,n=t[e=0>a-1?t.length-(1+o):a-1];o=t[a+1>t.length-1?o:a+1];var l=n.plotY,h=o.plotX,p=o.plotY;o=t[a].plotX,a=t[a].plotY,n=(1.5*o+n.plotX)/2.5,l=(1.5*a+l)/2.5,h=(1.5*o+h)/2.5;var d=(1.5*a+p)/2.5;p=Math.sqrt(Math.pow(n-o,2)+Math.pow(l-a,2));const c=Math.sqrt(Math.pow(h-o,2)+Math.pow(d-a,2));return n=Math.atan2(l-a,n-o),d=Math.PI/2+(n+Math.atan2(d-a,h-o))/2,Math.abs(n-d)>Math.PI/2&&(d-=Math.PI),n=o+Math.cos(d)*p,l=a+Math.sin(d)*p,o={rightContX:h=o+Math.cos(Math.PI+d)*c,rightContY:d=a+Math.sin(Math.PI+d)*c,leftContX:n,leftContY:l,plotX:o,plotY:a},i&&(o.prevPointCont=r(t,e,!1,s)),o}function n(){(this.pane||[]).forEach((t=>{t.render()}))}function l(t){const e=t.args[0].xAxis,i=t.args[0].yAxis;t=t.args[0].chart,e&&i&&("polygon"===i.gridLineInterpolation?(e.startOnTick=!0,e.endOnTick=!0):"polygon"===e.gridLineInterpolation&&t.inverted&&(i.startOnTick=!0,i.endOnTick=!0))}function h(){this.pane||(this.pane=[]),this.options.pane=Y(this.options.pane),this.options.pane.forEach((t=>{new s(t,this)}),this)}function p(t){var e=t.args.marker,i=this.chart.xAxis[0],s=this.chart.yAxis[0],o=this.chart.inverted;const a=o?s:i;if(i=o?i:s,this.chart.polar){t.preventDefault(),s=(e.attr?e.attr("start"):e.start)-a.startAngleRad,o=e.attr?e.attr("r"):e.r;let r=(e.attr?e.attr("end"):e.end)-a.startAngleRad;e=e.attr?e.attr("innerR"):e.innerR,t.result.x=s+a.pos,t.result.width=r-s,t.result.y=i.len+i.pos-e,t.result.height=e-o}}function d(t){var e=this.chart;if(e.polar&&e.hoverPane&&e.hoverPane.axis){t.preventDefault();var i=e.hoverPane.center,s=this.mouseDownX||0;const u=this.mouseDownY||0;var o=t.args.chartY;const g=t.args.chartX;var a=2*Math.PI,r=e.hoverPane.axis.startAngleRad,n=e.hoverPane.axis.endAngleRad,l=e.inverted?e.xAxis[0]:e.yAxis[0];const f={};var h="arc";if(f.x=i[0]+e.plotLeft,f.y=i[1]+e.plotTop,this.zoomHor){var p=0<r?n-r:Math.abs(r)+Math.abs(n),d=Math.atan2(u-e.plotTop-i[1],s-e.plotLeft-i[0])-r,c=Math.atan2(o-e.plotTop-i[1],g-e.plotLeft-i[0])-r;if(f.r=i[2]/2,f.innerR=i[3]/2,0>=d&&(d+=a),0>=c&&(c+=a),c<d&&(c=[d,d=c][0]),p<a&&r+c>n+(a-p)/2&&(c=d,d=0>=r?r:0),a=f.start=Math.max(d+r,r),p=f.end=Math.min(c+r,n),"polygon"===l.options.gridLineInterpolation){if(c=a-(h=e.hoverPane.axis).startAngleRad+h.pos,d=p-a,a=l.getPlotLinePath({value:l.max}),p=h.toValue(c),c=h.toValue(c+d),p<h.getExtremes().min){const{min:t,max:e}=h.getExtremes();p=e-(t-p)}if(c<h.getExtremes().min){const{min:t,max:e}=h.getExtremes();c=e-(t-c)}c<p&&(c=[p,p=c][0]),(a=b(a,p,c,h)).push(["L",i[0]+e.plotLeft,e.plotTop+i[1]]),f.d=a,h="path"}}this.zoomVert&&(c=e.inverted?e.xAxis[0]:e.yAxis[0],s=Math.sqrt(Math.pow(s-e.plotLeft-i[0],2)+Math.pow(u-e.plotTop-i[1],2)),(o=Math.sqrt(Math.pow(g-e.plotLeft-i[0],2)+Math.pow(o-e.plotTop-i[1],2)))<s&&(s=[o,o=s][0]),o>i[2]/2&&(o=i[2]/2),s<i[3]/2&&(s=i[3]/2),this.zoomHor||(f.start=r,f.end=n),f.r=o,f.innerR=s,"polygon"===c.options.gridLineInterpolation&&(i=c.toValue(c.len+c.pos-s),r=c.toValue(c.len+c.pos-o),i=c.getPlotLinePath({value:r}).concat(c.getPlotLinePath({value:i,reverse:!0})),f.d=i,h="path")),this.zoomHor&&this.zoomVert&&"polygon"===l.options.gridLineInterpolation&&(i=e.hoverPane.axis,r=(l=f.start||0)-i.startAngleRad+i.pos,n=(f.end||0)-l,l=i.toValue(r),i=i.toValue(r+n),f.d instanceof Array&&(r=f.d.slice(0,f.d.length/2),n=f.d.slice(f.d.length/2,f.d.length),n=[...n].reverse(),r=b(r,l,i,e=e.hoverPane.axis),(n=b(n,l,i,e))&&(n[0][0]="L"),n=[...n].reverse(),f.d=r.concat(n),h="path")),t.attrs=f,t.shapeType=h}}function c(){const t=this.chart;t.polar&&(this.polar=new E(this),t.inverted&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0)))}function u(){if(this.chart.polar&&this.xAxis){const{xAxis:t,yAxis:i}=this,s=this.chart;(this.kdByAngle=s.tooltip&&s.tooltip.shared)?this.searchPoint=g:this.options.findNearestPointBy="xy";const o=this.points;let a=o.length;for(;a--;)this.is("column")||this.is("columnrange")||this.polar.toXY(o[a]),s.hasParallelCoordinates||this.yAxis.reversed||(T(o[a].y,Number.MIN_VALUE)<i.min||o[a].x<t.min||o[a].x>t.max?(o[a].isNull=!0,o[a].plotY=NaN):o[a].isNull=o[a].isValid&&!o[a].isValid());this.hasClipCircleSetter||(this.hasClipCircleSetter=!!this.eventsToUnbind.push(k(this,"afterRender",(function(){if(s.polar){var t=this.yAxis.pane.center;if(this.clipCircle)this.clipCircle.animate({x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2});else{{var i=s.renderer,o=t[0],a=t[1],r=t[2]/2,n=t[3]/2;t=R();const e=i.createElement("clipPath").attr({id:t}).add(i.defs);(i=n?i.arc(o,a,r,n,0,2*Math.PI).add(e):i.circle(o,a,r).add(e)).id=t,i.clipPath=e}this.clipCircle=i}this.group.clip(this.clipCircle),this.setClip=e.noop}}))))}}function g(t){const e=this.chart;var i=this.xAxis;return i=i.pane&&i.pane.center,this.searchKDTree({clientX:180+-180/Math.PI*Math.atan2(t.chartX-(i&&i[0]||0)-e.plotLeft,t.chartY-(i&&i[1]||0)-e.plotTop)})}function b(t,e,i,s){const o=s.tickInterval;s=s.tickPositions;let a=w(s,(t=>t>=i)),r=w([...s].reverse(),(t=>t<=e));return C(a)||(a=s[s.length-1]),C(r)||(r=s[0],a+=o,t[0][0]="L",t.unshift(t[t.length-3])),(t=t.slice(s.indexOf(r),s.indexOf(a)+1))[0][0]="M",t}function f(t,e){return w(this.pane||[],(function(t){return t.options.id===e}))||t.call(this,e)}function m(t,e,s,o,a,r){const n=this.chart;var l=T(o.inside,!!this.options.stacking);n.polar?(t=e.rectPlotX/Math.PI*180,n.inverted?(this.forceDL=n.isInsidePlot(e.plotX,e.plotY),l&&e.shapeArgs?(l=e.shapeArgs,l=this.yAxis.postTranslate(((l.start||0)+(l.end||0))/2-this.xAxis.startAngleRad,e.barX+e.pointWidth/2),a=N(a,{x:l.x-n.plotLeft,y:l.y-n.plotTop})):e.tooltipPos&&(a=N(a,{x:e.tooltipPos[0],y:e.tooltipPos[1]})),o.align=T(o.align,"center"),o.verticalAlign=T(o.verticalAlign,"middle")):(null===o.align&&(o.align=20<t&&160>t?"left":200<t&&340>t?"right":"center"),null===o.verticalAlign&&(o.verticalAlign=45>t||315<t?"bottom":135<t&&225>t?"top":"middle")),i.prototype.alignDataLabel.call(this,e,s,o,a,r),this.isRadialBar&&e.shapeArgs&&e.shapeArgs.start===e.shapeArgs.end?s.hide():s.show()):t.call(this,e,s,o,a,r)}function y(){const t=this.options,e=t.stacking,i=this.chart;var s=this.xAxis;const o=this.yAxis,r=o.reversed,n=o.center,l=s.startAngleRad,h=s.endAngleRad-l;let p,d,c,u=0,g=0;var b=0;if(s.isRadial){p=(s=this.points).length,d=o.translate(o.min),c=o.translate(o.max);var f=t.threshold||0;for(i.inverted&&A(f)&&(u=o.translate(f),C(u)&&(0>u?u=0:u>h&&(u=h),this.translatedThreshold=u+l));p--;){var m=(f=s[p]).barX,y=f.x,x=f.y;if(f.shapeType="arc",i.inverted){f.plotY=o.translate(x),e&&o.stacking?(x=o.stacking.stacks[(0>x?"-":"")+this.stackKey],this.visible&&x&&x[y]&&!f.isNull&&(b=x[y].points[this.getStackIndicator(void 0,y,this.index).key],g=o.translate(b[0]),b=o.translate(b[1]),C(g)&&(g=a.clamp(g,0,h)))):(g=u,b=f.plotY),g>b&&(b=[g,g=b][0]),r?b>d?b=d:g<c?g=c:(g>d||b<c)&&(g=b=h):g<d?g=d:b>c?b=c:(b<d||g>c)&&(g=b=0),o.min>o.max&&(g=b=r?h:0),g+=l,b+=l,n&&(f.barX=m+=n[3]/2),y=Math.max(m,0),x=Math.max(m+f.pointWidth,0);var v=t.borderRadius;v=X(("object"==typeof v?v.radius:v)||0,x-y),f.shapeArgs={x:n[0],y:n[1],r:x,innerR:y,start:g,end:b,borderRadius:v},f.opacity=g===b?0:void 0,f.plotY=(C(this.translatedThreshold)&&(g<this.translatedThreshold?g:b))-l}else g=m+l,f.shapeArgs=this.polar.arc(f.yBottom,f.plotY,g,g+f.pointWidth),f.shapeArgs.borderRadius=0;this.polar.toXY(f),i.inverted?(m=o.postTranslate(f.rectPlotY,m+f.pointWidth/2),f.tooltipPos=[m.x-i.plotLeft,m.y-i.plotTop]):f.tooltipPos=[f.plotX,f.plotY],n&&(f.ttBelow=f.plotY>n[1])}}}function x(t,e){const i=this;let s;if(this.chart.polar){e=e||this.points;for(let t=0;t<e.length;t++)if(!e[t].isNull){var o=t;break}!1!==this.options.connectEnds&&void 0!==o&&(this.connectEnds=!0,e.splice(e.length,0,e[o]),s=!0),e.forEach((t=>{void 0===t.polarPlotY&&i.polar.toXY(t)}))}return o=t.apply(this,[].slice.call(arguments,1)),s&&e.pop(),o}function v(t,e){const i=this.chart;let s={xAxis:[],yAxis:[]};return i.polar?i.axes.forEach((t=>{if("colorAxis"!==t.coll){var o=t.isXAxis,a=t.center,r=e.chartX-a[0]-i.plotLeft;a=e.chartY-a[1]-i.plotTop,s[o?"xAxis":"yAxis"].push({axis:t,value:t.translate(o?Math.PI-Math.atan2(r,a):Math.sqrt(Math.pow(r,2)+Math.pow(a,2)),!0)})}})):s=t.call(this,e),s}function P(t,e){this.chart.polar||t.call(this,e)}function S(t,i){const s=this,o=this.chart,a=this.group,r=this.markerGroup,n=this.xAxis&&this.xAxis.center,l=o.plotLeft,h=o.plotTop;let p,d,c,u,g,b=this.options.animation;o.polar?s.isRadialBar?i||(s.startAngleRad=T(s.translatedThreshold,s.xAxis.startAngleRad),e.seriesTypes.pie.prototype.animate.call(s,i)):(b=L(b),s.is("column")?i||(p=n[3]/2,s.points.forEach((t=>{d=t.graphic,u=(c=t.shapeArgs)&&c.r,g=c&&c.innerR,d&&c&&(d.attr({r:p,innerR:p}),d.animate({r:u,innerR:g},s.options.animation))}))):i?(t={translateX:n[0]+l,translateY:n[1]+h,scaleX:.001,scaleY:.001},a.attr(t),r&&r.attr(t)):(t={translateX:l,translateY:h,scaleX:1,scaleY:1},a.animate(t,b),r&&r.animate(t,b))):t.call(this,i)}function M(t,e,i,s){return this.chart.polar?s?(e=(t=r(e,s,!0,this.connectEnds)).prevPointCont&&t.prevPointCont.rightContX,i=t.prevPointCont&&t.prevPointCont.rightContY,t=["C",A(e)?e:t.plotX,A(i)?i:t.plotY,A(t.leftContX)?t.leftContX:t.plotX,A(t.leftContY)?t.leftContY:t.plotY,t.plotX,t.plotY]):t=["M",i.plotX,i.plotY]:t=t.call(this,e,i,s),t}const{animObject:L}=t,{addEvent:k,defined:C,find:w,isNumber:A,merge:N,pick:T,relativeLength:X,splat:Y,uniqueKey:R,wrap:I}=a,j=[];class E{static compose(t,e,i,s,r,g,b,L,C){o.compose(t,r),a.pushUnique(j,e)&&(k(e,"afterDrawChartBox",n),k(e,"getAxes",h),k(e,"init",l),I(e.prototype,"get",f)),a.pushUnique(j,i)&&(t=i.prototype,I(t,"getCoordinates",v),I(t,"pinch",P),k(i,"getSelectionMarkerAttrs",d),k(i,"getSelectionBox",p)),a.pushUnique(j,s)&&(k(s,"afterInit",c),k(s,"afterTranslate",u,{order:2}),k(s,"afterColumnTranslate",y,{order:4}),I(s.prototype,"animate",S)),b&&a.pushUnique(j,b)&&(i=b.prototype,I(i,"alignDataLabel",m),I(i,"animate",S)),L&&a.pushUnique(j,L)&&I(L.prototype,"getGraphPath",x),C&&a.pushUnique(j,C)&&(L=C.prototype,I(L,"getPointSpline",M),g&&a.pushUnique(j,g)&&(g.prototype.getPointSpline=L.getPointSpline))}constructor(t){this.series=t}arc(t,e,i,s){const o=this.series,a=o.xAxis.center,r=o.yAxis.len,n=a[3]/2;return e=r-e+n,t=r-T(t,r)+n,o.yAxis.reversed&&(0>e&&(e=n),0>t&&(t=n)),{x:a[0],y:a[1],r:e,innerR:t,start:i,end:s}}toXY(t){var e=this.series;const i=e.chart,s=e.xAxis;var o=e.yAxis;const a=t.plotX,r=i.inverted,n=t.y;let l=t.plotY,h=r?a:o.len-l;r&&e&&!e.isRadialBar&&(t.plotY=l=A(n)?o.translate(n):0),t.rectPlotX=a,t.rectPlotY=l,o.center&&(h+=o.center[3]/2),A(l)&&(o=r?o.postTranslate(l,h):s.postTranslate(a,h),t.plotX=t.polarPlotX=o.x-i.plotLeft,t.plotY=t.polarPlotY=o.y-i.plotTop),e.kdByAngle?(0>(e=(a/Math.PI*180+s.pane.options.startAngle)%360)&&(e+=360),t.clientX=e):t.clientX=t.plotX}}return E})),e(t,"masters/highcharts-more.src.js",[t["Core/Globals.js"],t["Core/Series/SeriesRegistry.js"],t["Series/Bubble/BubbleSeries.js"],t["Series/PackedBubble/PackedBubbleSeries.js"],t["Series/PolarComposition.js"]],(function(t,e,i,s,o){i.compose(t.Axis,t.Chart,t.Legend,t.Series),s.compose(t.Axis,t.Chart,t.Legend,t.Series),o.compose(t.Axis,t.Chart,t.Pointer,t.Series,t.Tick,e.seriesTypes.areasplinerange,e.seriesTypes.column,e.seriesTypes.line,e.seriesTypes.spline)}))},t.exports?(a.default=a,t.exports=a):(s=[i(8840)],void 0===(o=function(t){return a(t),a.Highcharts=t,a}.apply(e,s))||(t.exports=o))}}]);